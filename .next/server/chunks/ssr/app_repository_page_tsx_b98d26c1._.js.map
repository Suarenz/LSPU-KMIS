{"version":3,"sources":["../../../../app/repository/page.tsx","../../../../node_modules/lucide-react/src/icons/filter.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useRouter, useSearchParams } from \"next/navigation\"\r\nimport AuthService from '@/lib/services/auth-service';\r\n\r\nimport { useAuth } from \"@/lib/auth-context\"\r\nimport { Navbar } from \"@/components/navbar\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport type { Document, Unit } from \"@/lib/api/types\"\r\nimport { Download, Eye, FileText, Filter, Upload, SearchIcon, EyeIcon, Trash2, CheckCircle, XCircle, Building2, ChevronLeft, ChevronRight, MoreVertical, FileSpreadsheet, FileImage, File } from \"lucide-react\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport Image from \"next/image\"\r\nimport { ClientOnly } from \"@/components/client-only-wrapper\"\r\nimport { useToast } from \"@/components/ui/use-toast\"\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from \"@/components/ui/alert-dialog\"\r\nimport { UnitSidebar } from \"@/components/unit-sidebar\";\r\nimport { UnitFilter } from \"@/components/unit-filter\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\n\r\nexport default function RepositoryPage() {\r\n  const { toast } = useToast()\r\n  const { user, isAuthenticated, isLoading } = useAuth()\r\n  const router = useRouter()\r\n  const searchParams = useSearchParams();\r\n  const [documents, setDocuments] = useState<Document[]>([])\r\n  const [searchQuery, setSearchQuery] = useState(\"\")\r\n  const [categoryFilter, setCategoryFilter] = useState<string>(\"all\") // Define categoryFilter state\r\n  const [unitFilter, setUnitFilter] = useState<string | null>(null) // NEW: Unit filter\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [showUploadModal, setShowUploadModal] = useState(false)\r\n  const [uploading, setUploading] = useState(false)\r\n  const [uploadProgress, setUploadProgress] = useState(0)\r\n  const [uploadError, setUploadError] = useState<string | null>(null)\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false)\r\n  const [uploadSuccessMessage, setUploadSuccessMessage] = useState<string | null>(null);\r\n  const [deletionSuccessMessage, setDeletionSuccessMessage] = useState<string | null>(null);\r\n  const [deletingDocId, setDeletingDocId] = useState<string | null>(null); // Track which document is being deleted\r\n  const [documentToDelete, setDocumentToDelete] = useState<Document | null>(null); // Track document for deletion confirmation\r\n const [downloadingDocId, setDownloadingDocId] = useState<string | null>(null);\r\n  const [units, setUnits] = useState<Unit[]>([]); // NEW: Units for unit filtering\r\n const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  \r\n// Determine if user can upload (roles are uppercase as per database enum)\r\n  const canUpload = user?.role === \"ADMIN\" || user?.role === \"FACULTY\"\r\n  \r\n  // Reset upload progress when modal is closed\r\n  useEffect(() => {\r\n    if (!showUploadModal) {\r\n      setUploadProgress(0);\r\n      setUploading(false);\r\n      setUploadError(null);\r\n      setUploadSuccessMessage(null);\r\n    }\r\n  }, [showUploadModal]);\r\n\r\n  useEffect(() => {\r\n    // Only redirect if user is explicitly not authenticated and loading is complete\r\n    if (!isLoading && !isAuthenticated && user === null) {\r\n      router.push(\"/\");\r\n    }\r\n  }, [isAuthenticated, isLoading, user, router])\r\n\r\n  // Track page visibility to handle when user returns from minimized state\r\n  // Fetch units on initial load\r\n  useEffect(() => {\r\n    const fetchUnits = async () => {\r\n      try {\r\n        // First, verify that we have a valid authentication state\r\n        if (!isAuthenticated || !user) {\r\n          // If not authenticated, just return to prevent further execution\r\n          return;\r\n        }\r\n        \r\n        // Then try to get the access token\r\n        const token = await AuthService.getAccessToken();\r\n        if (!token) {\r\n          // If no token is available despite being authenticated, log out the user\r\n          await AuthService.logout();\r\n          router.push('/');\r\n          return;\r\n        }\r\n        \r\n        const response = await fetch(`/api/units`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          }\r\n        });\r\n        \r\n        if (!response.ok) {\r\n          const errorData = await response.json().catch(() => ({}));\r\n          throw new Error(errorData.error || `Failed to fetch units: ${response.status} ${response.statusText}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        setUnits(data.units || []);\r\n        // Clear any previous error related to units\r\n        if (error?.includes('Failed to load units')) {\r\n          setError(null);\r\n        }\r\n        \r\n        // Set default unit filter to user's unit if available\r\n        if (user?.unitId) {\r\n          setUnitFilter(user.unitId);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching units:', err);\r\n        // Set a fallback empty units array to prevent further errors\r\n        setUnits([]);\r\n        // Optionally show an error to the user\r\n        setError(err instanceof Error ? err.message : 'Failed to load units. Some functionality may be limited.');\r\n      }\r\n    };\r\n    \r\n    if (isAuthenticated && user) {\r\n      fetchUnits();\r\n    }\r\n  }, [isAuthenticated, user, router, isLoading]);\r\n\r\n  // Update unit filter from URL params\r\n  useEffect(() => {\r\n    const unitFromUrl = searchParams.get('unit');\r\n    if (unitFromUrl) {\r\n      setUnitFilter(unitFromUrl);\r\n    } else {\r\n      setUnitFilter(null); // Show all units when no param\r\n    }\r\n  }, [searchParams]);\r\n\r\n  // Effect to handle page visibility changes\r\n  useEffect(() => {\r\n    const handleVisibilityChange = async () => {\r\n      if (document.visibilityState === 'visible') {\r\n        // When user returns to the page, check if it's been more than 5 minutes since last check\r\n        // If it has been more than 5 minutes, revalidate the auth state and refresh documents\r\n        const lastChecked = AuthService.getLastAuthCheck();\r\n        const now = Date.now();\r\n        \r\n        // Only re-validate if more than 5 minutes have passed\r\n        if (!lastChecked || (now - lastChecked) > 5 * 60 * 1000) {\r\n          console.log('Page became visible, revalidating authentication and refreshing documents');\r\n          \r\n          try {\r\n            // First, verify that we have a valid authentication state\r\n            if (!isAuthenticated || !user) {\r\n              // If not authenticated, just return to prevent further execution\r\n              return;\r\n            }\r\n            \r\n            // Then try to get a fresh access token to ensure authentication is still valid\r\n            const token = await AuthService.getAccessToken();\r\n            if (token) {\r\n              // If we have a valid token, fetch documents in the background without showing loading state\r\n              console.log('Valid token found, fetching documents in background');\r\n              \r\n              // Use the access token from the auth context\r\n              const queryParams = new URLSearchParams();\r\n              if (searchQuery) queryParams.append('search', searchQuery);\r\n              if (categoryFilter && categoryFilter !== 'all') queryParams.append('category', categoryFilter);\r\n              if (unitFilter) queryParams.append('unit', unitFilter);\r\n              \r\n              const response = await fetch(`/api/documents?${queryParams.toString()}`, {\r\n                headers: {\r\n                  'Authorization': `Bearer ${token}`,\r\n                  'Content-Type': 'application/json',\r\n                }\r\n              });\r\n            \r\n              if (!response.ok) {\r\n                // Check if the error response is JSON\r\n                let errorData: { error?: string } = {};\r\n                try {\r\n                  errorData = await response.json();\r\n                } catch (parseError) {\r\n                  // If response is not JSON, create a generic error\r\n                  errorData = { error: `HTTP error! status: ${response.status}` };\r\n                }\r\n                \r\n                // If we get a 401 (unauthorized) error, the token might have expired\r\n                if (response.status === 401) {\r\n                  console.error('Authentication token expired, redirecting to login');\r\n                  // Redirect to login page since token is no longer valid\r\n                  router.push('/');\r\n                  return;\r\n                }\r\n                \r\n                throw new Error(errorData.error || `Failed to fetch documents: ${response.status} ${response.statusText}`);\r\n              }\r\n              \r\n              const data = await response.json();\r\n              setDocuments(data.documents || []);\r\n              setError(null);\r\n              \r\n              // Update last check timestamp\r\n              AuthService.setLastAuthCheck(now);\r\n            } else {\r\n              // If no token is available despite being authenticated, log out the user\r\n              await AuthService.logout();\r\n              router.push('/');\r\n            }\r\n          } catch (error) {\r\n            console.error('Error during visibility change auth check:', error);\r\n            // Don't show error to user when returning from minimized state, just log it\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('visibilitychange', handleVisibilityChange);\r\n\r\n    return () => {\r\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\r\n    };\r\n  }, [searchQuery, categoryFilter, unitFilter, router]);\r\n\r\n   const fetchDocuments = async () => {\r\n     // Double-check authentication state before fetching\r\n     if (!isAuthenticated || !user) {\r\n       // Don't redirect here, just return to prevent further execution\r\n       return;\r\n     }\r\n     \r\n     try {\r\n       // Only set loading to true if documents haven't been loaded yet\r\n       // This prevents showing loading screen when returning from minimized state\r\n       if (documents.length === 0) {\r\n         setLoading(true);\r\n       }\r\n       \r\n       // First, verify that we have a valid authentication state\r\n       if (!isAuthenticated || !user) {\r\n         // If not authenticated, just return to prevent further execution\r\n         return;\r\n       }\r\n       \r\n       // Then try to get the access token\r\n       const token = await AuthService.getAccessToken();\r\n       if (!token) {\r\n         // If no token is available despite being authenticated, log out the user\r\n         await AuthService.logout();\r\n         router.push('/');\r\n         return;\r\n       }\r\n       \r\n       // Build query parameters properly\r\n       const queryParams = new URLSearchParams();\r\n       if (searchQuery) queryParams.append('search', searchQuery);\r\n       if (categoryFilter && categoryFilter !== 'all') queryParams.append('category', categoryFilter);\r\n       if (unitFilter) queryParams.append('unit', unitFilter);\r\n       \r\n       const response = await fetch(`/api/documents?${queryParams.toString()}`, {\r\n         headers: {\r\n           'Authorization': `Bearer ${token}`,\r\n           'Content-Type': 'application/json',\r\n         }\r\n       });\r\n     \r\n       if (!response.ok) {\r\n         // Check if the error response is JSON\r\n         let errorData: { error?: string } = {};\r\n         try {\r\n           errorData = await response.json();\r\n         } catch (parseError) {\r\n           // If response is not JSON, create a generic error\r\n           errorData = { error: `HTTP error! status: ${response.status}` };\r\n         }\r\n         \r\n         // If we get a 401 (unauthorized) error, the token might have expired\r\n         if (response.status === 401) {\r\n           console.error('Authentication token expired, redirecting to login');\r\n           // Redirect to login page since token is no longer valid\r\n           router.push('/');\r\n           return;\r\n         }\r\n         \r\n         throw new Error(errorData.error || `Failed to fetch documents: ${response.status} ${response.statusText}`);\r\n       }\r\n       \r\n       const data = await response.json();\r\n       setDocuments(data.documents || []);\r\n       setError(null);\r\n     } catch (err) {\r\n       console.error('Error fetching documents:', err);\r\n       const errorMessage = err instanceof Error ? err.message : 'Failed to load documents. Please try again later.';\r\n       setError(errorMessage);\r\n       // Still set loading to false even on error to prevent being stuck in loading state\r\n       setLoading(false);\r\n       return; // Return early on error to prevent setting loading to false again in finally\r\n     }\r\n     \r\n     // Set loading to false after successful fetch\r\n     setLoading(false);\r\n   };\r\n\r\n  // Initial fetch of documents\r\n  useEffect(() => {\r\n    // Only fetch documents when we're sure the user is authenticated and loaded\r\n    if (isAuthenticated && !isLoading && user) {\r\n      fetchDocuments();\r\n    }\r\n  }, [isAuthenticated, isLoading, user, searchQuery, categoryFilter, unitFilter]); // Include filters in dependency array\r\n\r\n  // Show loading state only during initial authentication check, not when returning from minimized state\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Image\r\n              src=\"/LSPULogo.png\"\r\n              alt=\"LSPU Logo\"\r\n              width={64}\r\n              height={64}\r\n              className=\"object-contain animate-spin\"\r\n            />\r\n          </div>\r\n          <p className=\"text-lg text-muted-foreground\">Loading repository...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Redirect if not authenticated after initial check\r\n  if (!isAuthenticated && !isLoading && user === null) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Image\r\n              src=\"/LSPULogo.png\"\r\n              alt=\"LSPU Logo\"\r\n              width={64}\r\n              height={64}\r\n              className=\"object-contain animate-spin\"\r\n            />\r\n          </div>\r\n          <p className=\"text-lg text-muted-foreground\">Redirecting to login...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Don't render if user is null but authentication is loaded\r\n  if (!user && !isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Image\r\n              src=\"/LSPULogo.png\"\r\n              alt=\"LSPU Logo\"\r\n              width={64}\r\n              height={64}\r\n              className=\"object-contain animate-spin\"\r\n            />\r\n          </div>\r\n          <p className=\"text-lg text-muted-foreground\">Loading user data...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const categories = [\"all\", \"Uncategorized\", \"Research\", \"Academic\", \"Policy\", \"Extension\", \"Teaching\"]; // Using standard categories\r\n  \r\n  // NEW: Use all units since there's no status property\r\n  const activeUnits = units;\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes < 1024) return bytes + \" B\"\r\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + \" KB\"\r\n    return (bytes / (1024 * 1024)).toFixed(1) + \" MB\"\r\n  }\r\n\r\n  // Helper to convert filename to Title Case\r\n  const toTitleCase = (str: string) => {\r\n    // Remove file extension first\r\n    const nameWithoutExt = str.replace(/\\.[^/.]+$/, \"\");\r\n    // Replace underscores and hyphens with spaces, then convert to title case\r\n    return nameWithoutExt\r\n      .replace(/[-_]/g, \" \")\r\n      .split(\" \")\r\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\r\n      .join(\" \");\r\n  };\r\n\r\n  // Helper to get file icon based on extension\r\n  const getFileIcon = (fileName: string) => {\r\n    const ext = fileName?.split('.').pop()?.toLowerCase();\r\n    switch (ext) {\r\n      case 'pdf':\r\n        return { icon: FileText, color: '#EF4444', bgColor: 'rgba(239, 68, 68, 0.1)' };\r\n      case 'doc':\r\n      case 'docx':\r\n        return { icon: FileText, color: '#2B4385', bgColor: 'rgba(43, 67, 133, 0.1)' };\r\n      case 'xls':\r\n      case 'xlsx':\r\n        return { icon: FileSpreadsheet, color: '#2E8B57', bgColor: 'rgba(46, 139, 87, 0.1)' };\r\n      case 'jpg':\r\n      case 'jpeg':\r\n      case 'png':\r\n      case 'gif':\r\n        return { icon: FileImage, color: '#C04E3A', bgColor: 'rgba(192, 78, 58, 0.1)' };\r\n      default:\r\n        return { icon: File, color: '#6B7280', bgColor: 'rgba(107, 114, 128, 0.1)' };\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ClientOnly>\r\n      <div className=\"min-h-screen bg-background\">\r\n        <Navbar />\r\n        <div className=\"flex\">\r\n          {/* Unit Sidebar */}\r\n          {sidebarOpen && (\r\n            <div className=\"w-64 border-r bg-muted/10 hidden lg:block\">\r\n              <UnitSidebar\r\n                units={activeUnits}\r\n                currentUnit={unitFilter}\r\n                onUnitSelect={(unitId) => {\r\n                  // Navigate to the unit page instead of just filtering\r\n                  if (unitId) {\r\n                    router.push(`/units/${unitId}`);\r\n                  } else {\r\n                    router.push('/repository');\r\n                  }\r\n                }}\r\n                userRole={user?.role || ''}\r\n                userUnit={user?.unitId || null}\r\n              />\r\n            </div>\r\n          )}\r\n          \r\n          {/* Main Content */}\r\n          <main className=\"flex-1 lg:ml-0\">\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n              {/* Header */}\r\n              <div className=\"mb-8 animate-fade-in\">\r\n                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      className=\"lg:hidden\"\r\n                      onClick={() => setSidebarOpen(!sidebarOpen)}\r\n                    >\r\n                      {sidebarOpen ? <ChevronLeft className=\"w-5 h-5\" /> : <ChevronRight className=\"w-5 h-5\" />}\r\n                    </Button>\r\n                    <div>\r\n                      <h1 className=\"text-3xl md:text-4xl font-bold mb-2\" style={{ color: '#2B4385' }}>Knowledge Repository</h1>\r\n                      <p className=\"text-gray-500\">Browse and access institutional knowledge resources</p>\r\n                    </div>\r\n                  </div>\r\n                  {isAuthenticated && user && canUpload && (\r\n                   <Button\r\n                     className=\"gap-2 shadow-sm\"\r\n                     style={{ backgroundColor: '#2B4385', color: 'white' }}\r\n                     onClick={() => setShowUploadModal(true)}\r\n                   >\r\n                     <Upload className=\"w-4 h-4\" />\r\n                     Upload Document\r\n                   </Button>\r\n                 )}\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Search and Filters - Unified Control Center */}\r\n              <div className=\"mb-6 animate-fade-in p-4 bg-white rounded-xl shadow-sm\" style={{ boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06)' }}>\r\n                <div className=\"flex flex-col md:flex-row gap-4\">\r\n                  <div className=\"flex-1 relative\">\r\n                    <SearchIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                    <Input\r\n                      placeholder=\"Search documents or keywords...\"\r\n                      value={searchQuery}\r\n                      onChange={(e) => setSearchQuery(e.target.value)}\r\n                      className=\"pl-10 h-11 border-gray-200 focus:border-blue-500 focus:ring-blue-500\"\r\n                      style={{ borderRadius: '8px' }}\r\n                    />\r\n                  </div>\r\n                  <Select value={categoryFilter} onValueChange={setCategoryFilter}>\r\n                    <SelectTrigger className=\"w-full md:w-48 h-11\" style={{ backgroundColor: '#F9FAFB', borderRadius: '8px' }}>\r\n                      <Filter className=\"w-4 h-4 mr-2 text-gray-500\" />\r\n                      <SelectValue placeholder=\"Category\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {categories.map((category) => (\r\n                        <SelectItem key={category} value={category}>\r\n                          {category === \"all\" ? \"All Categories\" : category}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <Select\r\n                    value={unitFilter || \"all\"}\r\n                    onValueChange={(value) => setUnitFilter(value === \"all\" ? null : value)}\r\n                  >\r\n                    <SelectTrigger className=\"w-full md:w-48 h-11\" style={{ backgroundColor: '#F9FAFB', borderRadius: '8px' }}>\r\n                      <Building2 className=\"w-4 h-4 mr-2 text-gray-500\" />\r\n                      <SelectValue placeholder=\"All Units\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"all\">All Units</SelectItem>\r\n                      {activeUnits.map((dept) => (\r\n                        <SelectItem key={dept.id} value={dept.id}>\r\n                          {dept.code} - {dept.name}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Documents Grid */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {documents.map((doc, index) => {\r\n                  const { icon: FileIcon, color: iconColor, bgColor: iconBgColor } = getFileIcon(doc.fileName || doc.title);\r\n                  const canDelete = user && (user.role === 'ADMIN' || doc.uploadedById === user.id);\r\n                  \r\n                  return (\r\n                    <div\r\n                      key={doc.id}\r\n                      className=\"animate-fade-in bg-white rounded-xl overflow-hidden transition-all duration-300 hover:shadow-xl group flex flex-col\"\r\n                      style={{ \r\n                        animationDelay: `${index * 0.05}s`,\r\n                        boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06)',\r\n                        borderRadius: '12px',\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(-4px)';\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(0)';\r\n                      }}\r\n                    >\r\n                      {/* Card Header */}\r\n                      <div className=\"p-4 pb-0 flex-1 flex flex-col\">\r\n                        <div className=\"flex items-start justify-between gap-2 mb-3\">\r\n                          <div className=\"w-12 h-12 rounded-lg flex items-center justify-center shrink-0\" style={{ backgroundColor: iconBgColor }}>\r\n                            <FileIcon className=\"w-6 h-6\" style={{ color: iconColor }} />\r\n                          </div>\r\n                          {(canDelete || doc.isQproDocument) && (\r\n                            <DropdownMenu>\r\n                              <DropdownMenuTrigger asChild>\r\n                                <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                  <MoreVertical className=\"w-4 h-4 text-gray-500\" />\r\n                                </Button>\r\n                              </DropdownMenuTrigger>\r\n                              <DropdownMenuContent align=\"end\">\r\n                                {doc.isQproDocument && (\r\n                                  <DropdownMenuItem\r\n                                    onClick={async (e) => {\r\n                                      e.stopPropagation();\r\n                                      try {\r\n                                        const token = await AuthService.getAccessToken();\r\n                                        if (!token) {\r\n                                          await AuthService.logout();\r\n                                          router.push('/');\r\n                                          return;\r\n                                        }\r\n                                        const response = await fetch(`/api/qpro/by-document/${doc.id}`, {\r\n                                          headers: {\r\n                                            'Authorization': `Bearer ${token}`,\r\n                                            'Content-Type': 'application/json',\r\n                                          }\r\n                                        });\r\n                                        if (response.ok) {\r\n                                          const data = await response.json();\r\n                                          if (data.analysis) {\r\n                                            router.push(`/qpro/analysis/${data.analysis.id}`);\r\n                                          } else {\r\n                                            toast({\r\n                                              title: \"No Analysis Found\",\r\n                                              description: \"This QPRO document hasn't been analyzed yet.\",\r\n                                              variant: \"default\",\r\n                                            });\r\n                                          }\r\n                                        } else {\r\n                                          toast({\r\n                                            title: \"No Analysis Found\",\r\n                                            description: \"This QPRO document hasn't been analyzed yet.\",\r\n                                            variant: \"default\",\r\n                                          });\r\n                                        }\r\n                                      } catch (error) {\r\n                                        console.error('Error fetching QPRO analysis:', error);\r\n                                        toast({\r\n                                          title: \"Error\",\r\n                                          description: \"Failed to fetch QPRO analysis.\",\r\n                                          variant: \"destructive\",\r\n                                        });\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    <FileText className=\"w-4 h-4 mr-2\" />\r\n                                    View QPRO Analysis\r\n                                  </DropdownMenuItem>\r\n                                )}\r\n                                {canDelete && (\r\n                                  <DropdownMenuItem\r\n                                    className=\"text-red-600 focus:text-red-600 focus:bg-red-50\"\r\n                                    onClick={(e) => {\r\n                                      e.stopPropagation();\r\n                                      setDocumentToDelete(doc);\r\n                                    }}\r\n                                    disabled={deletingDocId === doc.id}\r\n                                  >\r\n                                    <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                                    {deletingDocId === doc.id ? 'Deleting...' : 'Delete'}\r\n                                  </DropdownMenuItem>\r\n                                )}\r\n                              </DropdownMenuContent>\r\n                            </DropdownMenu>\r\n                          )}\r\n                        </div>\r\n                        \r\n                        {/* Title and Description */}\r\n                        <h4 className=\"text-lg font-semibold text-gray-900 line-clamp-2 mb-1 min-h-[3.5rem]\">{toTitleCase(doc.title)}</h4>\r\n                        <p className=\"text-sm text-gray-500 line-clamp-2 mb-3 min-h-[2.5rem]\">{doc.description}</p>\r\n                        \r\n                        {/* Metadata */}\r\n                        <p className=\"text-xs text-gray-400 mb-3\">\r\n                          Uploaded by {doc.uploadedBy} â€¢ {formatFileSize(doc.fileSize)}\r\n                        </p>\r\n                      \r\n                        {/* Pill Tags */}\r\n                        <div className=\"flex flex-wrap gap-2 mb-4 min-h-[2rem]\">\r\n                          {!unitFilter && doc.unit && (\r\n                            <span \r\n                              className=\"px-3 py-1 text-xs font-medium rounded-full\"\r\n                              style={{ backgroundColor: 'rgba(43, 67, 133, 0.1)', color: '#2B4385' }}\r\n                            >\r\n                              {doc.unit.code || doc.unit.name}\r\n                            </span>\r\n                          )}\r\n                          {doc.category && doc.category !== \"Uncategorized\" && (\r\n                            <span \r\n                              className=\"px-3 py-1 text-xs font-medium rounded-full\"\r\n                              style={{ backgroundColor: '#F3F4F6', color: '#6B7280' }}\r\n                            >\r\n                              {doc.category}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      {/* Card Footer */}\r\n                      <div className=\"px-4 pb-4 mt-auto\">\r\n                        <div className=\"flex items-center gap-3 text-sm text-gray-500 mb-4\">\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <Download className=\"w-4 h-4\" />\r\n                            <span>{doc.downloadsCount}</span>\r\n                          </div>\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <Eye className=\"w-4 h-4\" />\r\n                            <span>{doc.viewsCount}</span>\r\n                          </div>\r\n                          <span className=\"ml-auto text-xs\">v{doc.version}</span>\r\n                        </div>\r\n                        \r\n                        {/* Action Buttons */}\r\n                        <div className=\"flex gap-2\">\r\n                          {downloadingDocId === doc.id ? (\r\n                            <Button \r\n                              className=\"flex-1 gap-2\" \r\n                              size=\"sm\" \r\n                              disabled\r\n                              style={{ backgroundColor: '#2B4385', color: 'white', borderRadius: '8px' }}\r\n                            >\r\n                              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                              Downloading...\r\n                            </Button>\r\n                          ) : (\r\n                            <Button\r\n                              className=\"flex-1 gap-2\"\r\n                              size=\"sm\"\r\n                              style={{ backgroundColor: '#2B4385', color: 'white', borderRadius: '8px' }}\r\n                                onClick={async (e) => {\r\n                                  e.stopPropagation();\r\n                                setDownloadingDocId(doc.id);\r\n                                try {\r\n                                  if (typeof window === 'undefined') {\r\n                                    throw new Error('Download can only be initiated from the browser');\r\n                                  }\r\n                                  if (!isAuthenticated || !user) return;\r\n                                  const downloadToken = await AuthService.getAccessToken();\r\n                                  if (!downloadToken) {\r\n                                    await AuthService.logout();\r\n                                    router.push('/');\r\n                                    return;\r\n                                  }\r\n                                  const directDownloadUrl = `/api/documents/${doc.id}/download-direct?token=${downloadToken}`;\r\n                                  const link = document.createElement('a');\r\n                                  link.href = directDownloadUrl;\r\n                                  link.download = doc.fileName || `document-${doc.id}`;\r\n                                  document.body.appendChild(link);\r\n                                  link.click();\r\n                                  document.body.removeChild(link);\r\n                                } catch (error) {\r\n                                  console.error('Download error:', error);\r\n                                  alert(error instanceof Error ? error.message : 'Failed to download document.');\r\n                                } finally {\r\n                                  setDownloadingDocId(null);\r\n                                }\r\n                              }}\r\n                            >\r\n                              <Download className=\"w-4 h-4\" />\r\n                              Download\r\n                            </Button>\r\n                          )}\r\n                          <Button\r\n                            className=\"gap-2\"\r\n                            size=\"sm\"\r\n                            variant=\"ghost\"\r\n                            style={{ color: '#2B4385', borderRadius: '8px' }}\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              if (doc.id && doc.id !== 'undefined' && !doc.id.includes('undefined')) {\r\n                                router.push(`/repository/preview/${doc.id}`);\r\n                              } else {\r\n                                toast({\r\n                                  title: \"Error\",\r\n                                  description: \"Cannot preview this document.\",\r\n                                  variant: \"destructive\",\r\n                                });\r\n                              }\r\n                            }}\r\n                          >\r\n                            <EyeIcon className=\"w-4 h-4\" />\r\n                            Preview\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n              \r\n              {/* Empty State */}\r\n              {documents.length === 0 && !loading && (\r\n                <div className=\"animate-fade-in bg-white rounded-xl p-12 text-center\" style={{ boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06)', borderRadius: '12px' }}>\r\n                  <div className=\"w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center\" style={{ backgroundColor: 'rgba(43, 67, 133, 0.1)' }}>\r\n                    <FileText className=\"w-10 h-10\" style={{ color: '#2B4385' }} />\r\n                  </div>\r\n                  <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No Documents Found</h3>\r\n                  <p className=\"text-gray-500 mb-6 max-w-md mx-auto\">\r\n                    We couldn't find any documents matching your search criteria. Try adjusting your filters or search terms.\r\n                  </p>\r\n                  <div className=\"flex gap-3 justify-center\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      onClick={() => {\r\n                        setSearchQuery('');\r\n                        setCategoryFilter('all');\r\n                        setUnitFilter(null);\r\n                      }}\r\n                      style={{ borderRadius: '8px' }}\r\n                    >\r\n                      Clear Filters\r\n                    </Button>\r\n                    {canUpload && (\r\n                      <Button\r\n                        onClick={() => setShowUploadModal(true)}\r\n                        style={{ backgroundColor: '#2B4385', color: 'white', borderRadius: '8px' }}\r\n                      >\r\n                        <Upload className=\"w-4 h-4 mr-2\" />\r\n                        Upload Document\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </main>\r\n        </div>\r\n        \r\n        {/* Upload Document Modal */}\r\n        {showUploadModal && (\r\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"bg-background rounded-lg max-w-md w-full p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">Upload Document</h3>\r\n              \r\n              {uploadError && (\r\n               <div className=\"mb-4 p-3 bg-destructive/20 text-destructive rounded-md flex items-center gap-2\">\r\n                 <XCircle className=\"w-5 h-5\" />\r\n                 {uploadError}\r\n               </div>\r\n             )}\r\n             \r\n             {uploading && (\r\n               <div className=\"mb-4\">\r\n                 <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n                   <div\r\n                     className=\"bg-blue-600 h-2.5 rounded-full transition-all duration-300\"\r\n                     style={{ width: `${uploadProgress}%` }}\r\n                   ></div>\r\n                 </div>\r\n               </div>\r\n             )}\r\n             \r\n             {uploadSuccessMessage && (\r\n               <div className=\"mb-4 p-3 bg-green-100 text-green-800 rounded-md flex items-center gap-2 animate-fade-in\">\r\n                 <CheckCircle className=\"w-5 h-5\" />\r\n                 {uploadSuccessMessage}\r\n               </div>\r\n             )}\r\n              \r\n              <form onSubmit={async (e) => {\r\n                e.preventDefault();\r\n                \r\n                // Check if running on client side\r\n                if (typeof window === 'undefined') {\r\n                  setUploadError('Upload can only be initiated from the browser');\r\n                  return;\r\n                }\r\n                \r\n                setUploading(true);\r\n                setUploadProgress(0);\r\n                setUploadError(null);\r\n                setUploadSuccessMessage(null); // Clear any previous success message\r\n                \r\n                try {\r\n                  const formData = new FormData(e.currentTarget);\r\n                  const file = formData.get('file') as File;\r\n                  \r\n                  if (!file || file.size === 0) {\r\n                    throw new Error('Please select a file to upload');\r\n                  }\r\n                  \r\n                  // First, verify that we have a valid authentication state\r\n                  if (!isAuthenticated || !user) {\r\n                    // If not authenticated, just return to prevent further execution\r\n                    return;\r\n                  }\r\n                  \r\n                  // Then try to get the access token\r\n                  const token = await AuthService.getAccessToken();\r\n                  if (!token) {\r\n                    // If no token is available despite being authenticated, log out the user\r\n                    await AuthService.logout();\r\n                    router.push('/');\r\n                    return;\r\n                  }\r\n                  \r\n                  // Create a new FormData object for the API request\r\n                  const apiFormData = new FormData();\r\n                  apiFormData.append('title', formData.get('title') as string);\r\n                  apiFormData.append('description', formData.get('description') as string);\r\n                  apiFormData.append('file', file);\r\n                  const unitId = formData.get('unitId') as string;\r\n                  if (unitId) {\r\n                    apiFormData.append('unitId', unitId);\r\n                  }\r\n                  \r\n                  // Create the request with progress tracking\r\n                  const xhr = new XMLHttpRequest();\r\n                  \r\n                  return new Promise<void>((resolve, reject) => {\r\n                    // Set up all event listeners BEFORE opening the request\r\n                    xhr.upload.addEventListener('progress', (event) => {\r\n                      if (event.lengthComputable) {\r\n                        const progress = Math.floor((event.loaded / event.total) * 100); // Use floor to ensure we get an integer value\r\n                        setUploadProgress(progress);\r\n                        console.log(`Upload progress: ${progress}% (${event.loaded} / ${event.total} bytes)`); // Debug log\r\n                      } else {\r\n                        console.log('Upload progress: Length not computable'); // Debug log for when length is not computable\r\n                      }\r\n                    });\r\n                    \r\n                    // Add debug logging for other events\r\n                    xhr.addEventListener('loadstart', () => {\r\n                      console.log('Upload loadstart event fired');\r\n                    });\r\n                    \r\n                    xhr.addEventListener('loadend', () => {\r\n                      console.log('Upload loadend event fired');\r\n                    });\r\n                    \r\n                    xhr.upload.addEventListener('loadstart', () => {\r\n                      console.log('Upload upload loadstart event fired');\r\n                    });\r\n                    \r\n                    xhr.upload.addEventListener('loadend', () => {\r\n                      console.log('Upload upload loadend event fired');\r\n                    });\r\n                    \r\n                    // Add error handling for progress events\r\n                    xhr.upload.addEventListener('error', (event) => {\r\n                      console.error('Upload error event fired:', event);\r\n                    });\r\n                    \r\n                    xhr.upload.addEventListener('abort', (event) => {\r\n                      console.log('Upload abort event fired:', event);\r\n                    });\r\n                    \r\n                    // Add additional event listeners for debugging\r\n                    xhr.addEventListener('readystatechange', () => {\r\n                      console.log(`Ready state changed: ${xhr.readyState}`);\r\n                    });\r\n                    \r\n                    xhr.addEventListener('load', () => {\r\n                      if (xhr.status >= 200 && xhr.status < 300) {\r\n                        // Refresh the document list\r\n                        // Use the same token for the refresh call to avoid auth issues\r\n                        // Build query parameters properly\r\n                        const queryParams = new URLSearchParams();\r\n                        if (searchQuery) queryParams.append('search', searchQuery);\r\n                        if (categoryFilter && categoryFilter !== 'all') queryParams.append('category', categoryFilter);\r\n                        \r\n                        fetch(`/api/documents?${queryParams.toString()}`, {\r\n                          headers: {\r\n                            'Authorization': `Bearer ${token}`,\r\n                            'Content-Type': 'application/json',\r\n                          }\r\n                        })\r\n                        .then(refreshResponse => refreshResponse.json())\r\n                        .then(data => {\r\n                          setDocuments(data.documents || []);\r\n                          setShowUploadModal(false);\r\n                          // Show success message to the user\r\n                          setUploadSuccessMessage(\"Document uploaded successfully!\");\r\n                          // Clear the success message after 3 seconds\r\n                          setTimeout(() => {\r\n                            setUploadSuccessMessage(null);\r\n                          }, 3000);\r\n                          // Show success modal with OK button\r\n                          setShowSuccessModal(true);\r\n                          // Add a small delay to ensure UI updates properly\r\n                          setTimeout(() => {\r\n                            // Optionally trigger a full page refresh or a more comprehensive data reload\r\n                          }, 100);\r\n                          resolve();\r\n                        })\r\n                        .catch(error => {\r\n                          console.error('Failed to refresh documents:', error);\r\n                          setShowUploadModal(false);\r\n                          // Still resolve so the user knows the upload was successful\r\n                          // Even if the document list refresh failed, the upload itself was successful\r\n                          setUploadSuccessMessage(\"Document uploaded successfully, but there was an issue refreshing the document list.\");\r\n                          // Clear the success message after 5 seconds\r\n                          setTimeout(() => {\r\n                            setUploadSuccessMessage(null);\r\n                          }, 500);\r\n                          // Show success modal with OK button even when refresh fails\r\n                          setShowSuccessModal(true);\r\n                          resolve();\r\n                        });\r\n                      } else {\r\n                        // Try to parse error response\r\n                        let errorData: { error?: string } = {};\r\n                        try {\r\n                          errorData = JSON.parse(xhr.responseText);\r\n                        } catch {\r\n                          // If response is not JSON, use status text\r\n                          errorData = { error: `Upload failed: ${xhr.status} - ${xhr.statusText || 'Unknown error'}` };\r\n                        }\r\n                        const errorMessage = errorData.error || `Upload failed: ${xhr.status} ${xhr.statusText}`;\r\n                        setUploadError(errorMessage);\r\n                        setUploading(false);\r\n                        setUploadSuccessMessage(null); // Clear any success message on error\r\n                        console.error('Upload error details:', {\r\n                          status: xhr.status,\r\n                          statusText: xhr.statusText,\r\n                          responseText: xhr.responseText,\r\n                          error: errorMessage\r\n                        });\r\n                        reject(new Error(errorMessage));\r\n                      }\r\n                    });\r\n                    \r\n                    xhr.addEventListener('error', () => {\r\n                      setUploadError('Network error occurred during upload');\r\n                      setUploading(false);\r\n                      setUploadSuccessMessage(null); // Clear any success message on error\r\n                      reject(new Error('Network error occurred during upload'));\r\n                    });\r\n                    \r\n                    xhr.addEventListener('abort', () => {\r\n                      setUploadError('Upload was cancelled');\r\n                      setUploading(false);\r\n                      setUploadSuccessMessage(null); // Clear any success message on error\r\n                      reject(new Error('Upload was cancelled'));\r\n                    });\r\n                    \r\n                    // Open the request after setting up all event listeners\r\n                    xhr.open('POST', '/api/documents');\r\n                    xhr.setRequestHeader('Authorization', `Bearer ${token}`);\r\n                    // Don't set Content-Type header when sending FormData - let browser set it with proper boundary\r\n                    \r\n                    xhr.send(apiFormData);\r\n                  });\r\n                } catch (error) {\r\n                  console.error('Upload error:', error);\r\n                  setUploadError(error instanceof Error ? error.message : 'Failed to upload document');\r\n                  setUploading(false);\r\n                  setUploadSuccessMessage(null); // Clear any success message on error\r\n                }\r\n              }}>\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1\">Title *</label>\r\n                    <Input\r\n                      name=\"title\"\r\n                      required\r\n                      placeholder=\"Document title\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1\">Description</label>\r\n                    <textarea\r\n                      name=\"description\"\r\n                      className=\"w-full min-h-20 p-2 border border-input rounded-md bg-background\"\r\n                      placeholder=\"Document description (optional)\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1\">File *</label>\r\n                    <Input\r\n                      type=\"file\"\r\n                      name=\"file\"\r\n                      required\r\n                      accept=\".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt,.jpg,.jpeg,.png\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1\">Unit (Optional)</label>\r\n                    <select\r\n                      name=\"unitId\"\r\n                      className=\"w-full p-2 border-input rounded-md bg-background\"\r\n                      defaultValue=\"\"\r\n                    >\r\n                      <option value=\"\">Select a unit (or leave blank for unassigned)</option>\r\n                      {units.map((unit) => (\r\n                        <option key={unit.id} value={unit.id}>\r\n                          {unit.code} - {unit.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex gap-2 mt-6\">\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={() => {\r\n                      setShowUploadModal(false);\r\n                      setUploading(false);\r\n                      setUploadProgress(0);\r\n                      setUploadError(null);\r\n                      setUploadSuccessMessage(null);\r\n                      setShowSuccessModal(false);\r\n                    }}\r\n                    disabled={uploading}\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    disabled={uploading}\r\n                  >\r\n                    {uploading ? 'Uploading...' : 'Upload'}\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Success Modal */}\r\n        <Dialog open={showSuccessModal} onOpenChange={setShowSuccessModal}>\r\n          <DialogContent className=\"sm:max-w-md\">\r\n            <DialogHeader>\r\n              <DialogTitle>Upload Successful!</DialogTitle>\r\n              <DialogDescription>\r\n                Your document has been uploaded successfully to the repository.\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"py-4 flex justify-center\">\r\n              <div className=\"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center\">\r\n                <svg xmlns=\"http://www.w3.org/200/svg\" className=\"h-10 w-10 text-green-600\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end\">\r\n              <Button onClick={() => {\r\n                setShowSuccessModal(false);\r\n                setUploadProgress(0);\r\n                setUploading(false);\r\n                setUploadSuccessMessage(null);\r\n              }}>OK</Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        {/* Delete Confirmation Dialog */}\r\n        <AlertDialog open={!!documentToDelete} onOpenChange={(open) => !open && setDocumentToDelete(null)}>\r\n          <AlertDialogContent>\r\n            <AlertDialogHeader>\r\n              <AlertDialogTitle>Are you sure?</AlertDialogTitle>\r\n              <AlertDialogDescription>\r\n                This will permanently delete <span className=\"font-semibold\">&quot;{documentToDelete?.title}&quot;</span>. This action cannot be undone.\r\n              </AlertDialogDescription>\r\n            </AlertDialogHeader>\r\n            <AlertDialogFooter>\r\n              <AlertDialogCancel disabled={!!deletingDocId}>Cancel</AlertDialogCancel>\r\n              <AlertDialogAction\r\n                disabled={!!deletingDocId}\r\n                className=\"bg-red-600 hover:bg-red-700 focus:ring-red-600\"\r\n                onClick={async (e) => {\r\n                  e.preventDefault();\r\n                  if (!documentToDelete) return;\r\n                  \r\n                  setDeletingDocId(documentToDelete.id);\r\n                  try {\r\n                    if (!isAuthenticated || !user) return;\r\n                    const token = await AuthService.getAccessToken();\r\n                    if (!token) {\r\n                      await AuthService.logout();\r\n                      router.push('/');\r\n                      return;\r\n                    }\r\n                    const response = await fetch(`/api/documents/${documentToDelete.id}`, {\r\n                      method: 'DELETE',\r\n                      headers: {\r\n                        'Authorization': `Bearer ${token}`,\r\n                        'Content-Type': 'application/json',\r\n                      }\r\n                    });\r\n                    if (response.ok) {\r\n                      setDeletionSuccessMessage(`Document deleted successfully!`);\r\n                      setTimeout(() => setDeletionSuccessMessage(null), 3000);\r\n                      setDocumentToDelete(null);\r\n                      fetchDocuments();\r\n                    } else {\r\n                      const errorData = await response.json();\r\n                      toast({\r\n                        title: response.status === 403 ? \"Access Denied\" : \"Error\",\r\n                        description: errorData.error || 'Failed to delete document',\r\n                        variant: \"destructive\",\r\n                      });\r\n                    }\r\n                  } catch (error) {\r\n                    toast({\r\n                      title: \"Error\",\r\n                      description: 'Failed to delete document',\r\n                      variant: \"destructive\",\r\n                    });\r\n                  } finally {\r\n                    setDeletingDocId(null);\r\n                  }\r\n                }}\r\n              >\r\n                {deletingDocId ? 'Deleting...' : 'Delete'}\r\n              </AlertDialogAction>\r\n            </AlertDialogFooter>\r\n          </AlertDialogContent>\r\n        </AlertDialog>\r\n      </div>\r\n    </ClientOnly>\r\n  )\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Filter\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjIyIDMgMiAzIDEwIDEyLjQ2IDEwIDE5IDE0IDIxIDE0IDEyLjQ2IDIyIDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/filter\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Filter = createLucideIcon('Filter', [\n  ['polygon', { points: '22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3', key: '1yg77f' }],\n]);\n\nexport default Filter;\n"],"names":[],"mappings":"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","ignoreList":[1]}