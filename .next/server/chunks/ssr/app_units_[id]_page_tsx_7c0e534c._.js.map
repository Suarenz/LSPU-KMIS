{"version":3,"sources":["../../../../app/units/%5Bid%5D/page.tsx","../../../../node_modules/lucide-react/src/icons/calendar.ts"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter, useParams } from \"next/navigation\";\r\nimport AuthService from '@/lib/services/auth-service';\r\n\r\nimport { useAuth } from \"@/lib/auth-context\";\r\nimport { Navbar } from \"@/components/navbar\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport type { Document, Unit } from \"@/lib/api/types\";\r\nimport { Download, Eye, FileText, Building2, ChevronLeft, ChevronRight, Upload, Trash2, Calendar, FolderOpen, MoreVertical, EyeIcon, CheckCircle, File as FileIcon, FileSpreadsheet, FileImage } from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { ClientOnly } from \"@/components/client-only-wrapper\";\r\nimport { useToast } from \"@/components/ui/use-toast\";\r\nimport { UnitSidebar } from \"@/components/unit-sidebar\";\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from \"@/components/ui/alert-dialog\";\r\n\r\nexport default function UnitPage() {\r\n  const { toast } = useToast();\r\n  const { user, isAuthenticated, isLoading } = useAuth();\r\n  const router = useRouter();\r\n  const params = useParams();\r\n  const unitId = params.id as string;\r\n\r\n const [unit, setUnit] = useState<Unit | null>(null);\r\n  const [documents, setDocuments] = useState<Document[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n const [error, setError] = useState<string | null>(null);\r\n  const [downloadingDocId, setDownloadingDocId] = useState<string | null>(null);\r\n const [sidebarOpen, setSidebarOpen] = useState(true);\r\n const [units, setUnits] = useState<Unit[]>([]);\r\n  const [showUploadModal, setShowUploadModal] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [uploadError, setUploadError] = useState<string | null>(null);\r\n const [uploadSuccessMessage, setUploadSuccessMessage] = useState<string | null>(null);\r\n const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n  const [deletionSuccessMessage, setDeletionSuccessMessage] = useState<string | null>(null);\r\n  const [deletingDocId, setDeletingDocId] = useState<string | null>(null); // Track which document is being deleted\r\n  const [documentToDelete, setDocumentToDelete] = useState<Document | null>(null); // Track document for deletion confirmation\r\n\r\n  // Year and Quarter filter state for QPRO document organization\r\n  const [selectedYear, setSelectedYear] = useState<number | null>(null); // null means show all\r\n  const [selectedQuarter, setSelectedQuarter] = useState<number | null>(null); // null means show all\r\n  const years = [2025, 2026, 2027, 2028, 2029];\r\n  const quarters = [1, 2, 3, 4];\r\n\r\n // Determine if user can upload (roles are uppercase as per database enum)\r\n const canUpload = user?.role === \"ADMIN\" || user?.role === \"FACULTY\";\r\n\r\n  // Reset upload progress when modal is closed\r\n  useEffect(() => {\r\n    if (!showUploadModal) {\r\n      setUploadProgress(0);\r\n      setUploading(false);\r\n      setUploadError(null);\r\n      setUploadSuccessMessage(null);\r\n    }\r\n }, [showUploadModal]);\r\n\r\n  useEffect(() => {\r\n    if (!isLoading && !isAuthenticated) {\r\n      router.push(\"/\");\r\n    }\r\n  }, [isAuthenticated, isLoading, router]);\r\n\r\n  // Fetch units for sidebar\r\n  useEffect(() => {\r\n    const fetchUnits = async () => {\r\n      try {\r\n        const token = await AuthService.getAccessToken();\r\n        if (!token) {\r\n          throw new Error('No authentication token found');\r\n        }\r\n\r\n        const response = await fetch(`/api/units`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const errorData = await response.json().catch(() => ({}));\r\n          throw new Error(errorData.error || `Failed to fetch units: ${response.status} ${response.statusText}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        setUnits(data.units || []);\r\n      } catch (err) {\r\n        console.error('Error fetching units:', err);\r\n        setUnits([]);\r\n        setError(err instanceof Error ? err.message : 'Failed to load units. Some functionality may be limited.');\r\n      }\r\n    };\r\n\r\n    if (isAuthenticated && user) {\r\n      fetchUnits();\r\n    }\r\n  }, [isAuthenticated, user]);\r\n\r\n  // Fetch unit details and documents\r\n // Effect to reset state when unitId changes\r\n  useEffect(() => {\r\n    // Reset unit data when navigating to a new unit to ensure fresh fetch\r\n    if (unitId) {\r\n      setUnit(null);\r\n      setDocuments([]);\r\n      setError(null);\r\n    }\r\n  }, [unitId]);\r\n\r\n  useEffect(() => {\r\n    const fetchUnitData = async () => {\r\n      if (!isAuthenticated || isLoading || !user || !unitId) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setLoading(true);\r\n\r\n        // Fetch unit details\r\n        const token = await AuthService.getAccessToken();\r\n        if (!token) {\r\n          throw new Error('No authentication token found');\r\n        }\r\n\r\n        const unitResponse = await fetch(`/api/units/${unitId}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          }\r\n        });\r\n\r\n        if (!unitResponse.ok) {\r\n          const errorData = await unitResponse.json().catch(() => ({}));\r\n          throw new Error(errorData.error || `Failed to fetch unit: ${unitResponse.status} ${unitResponse.statusText}`);\r\n        }\r\n\r\n        const unitData = await unitResponse.json();\r\n        setUnit(unitData.unit);\r\n\r\n        // Build query params for documents including year/quarter filters\r\n        const queryParams = new URLSearchParams({ unit: unitId });\r\n        if (selectedYear) queryParams.append('year', selectedYear.toString());\r\n        if (selectedQuarter) queryParams.append('quarter', selectedQuarter.toString());\r\n\r\n        // Fetch all documents for this unit (with optional year/quarter filters)\r\n        const docsResponse = await fetch(`/api/documents?${queryParams.toString()}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          }\r\n        });\r\n\r\n        if (!docsResponse.ok) {\r\n          const errorData = await docsResponse.json().catch(() => ({}));\r\n          throw new Error(errorData.error || `Failed to fetch documents: ${docsResponse.status} ${docsResponse.statusText}`);\r\n        }\r\n\r\n        const docsData = await docsResponse.json();\r\n        setDocuments(docsData.documents || []);\r\n        setError(null);\r\n      } catch (err) {\r\n        console.error('Error fetching unit data:', err);\r\n        const errorMessage = err instanceof Error ? err.message : 'Failed to load unit data. Please try again later.';\r\n        setError(errorMessage);\r\n      } finally {\r\n        // Set loading to false after successful fetch\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchUnitData();\r\n  }, [unitId, isAuthenticated, isLoading, user, selectedYear, selectedQuarter]);\r\n\r\n  // Effect to handle page visibility changes\r\n  useEffect(() => {\r\n    const handleVisibilityChange = async () => {\r\n      if (document.visibilityState === 'visible' && unitId) {\r\n        // When user returns to the page, check if it's been more than 5 minutes since last check\r\n        // If it has been more than 5 minutes, revalidate the auth state and refresh documents\r\n        const lastChecked = AuthService.getLastAuthCheck();\r\n        const now = Date.now();\r\n        \r\n        // Only re-validate if more than 5 minutes have passed\r\n        if (!lastChecked || (now - lastChecked) > 5 * 60 * 1000) {\r\n          // When user returns to the page, refresh documents for the current unit\r\n          console.log('Page became visible, refreshing unit documents');\r\n         \r\n          try {\r\n            // First, try to get a fresh access token to ensure authentication is still valid\r\n            const token = await AuthService.getAccessToken();\r\n            if (token) {\r\n              // Fetch all documents for this unit (not just admin documents)\r\n              const docsResponse = await fetch(`/api/documents?unit=${unitId}`, {\r\n                headers: {\r\n                  'Authorization': `Bearer ${token}`,\r\n                  'Content-Type': 'application/json',\r\n                }\r\n              });\r\n             \r\n              if (!docsResponse.ok) {\r\n                const errorData = await docsResponse.json().catch(() => ({}));\r\n                // If we get a 401 (unauthorized) error, the token might have expired\r\n                if (docsResponse.status === 401) {\r\n                  console.error('Authentication token expired, redirecting to login');\r\n                  // Redirect to login page since token is no longer valid\r\n                  router.push('/');\r\n                  return;\r\n                }\r\n                throw new Error(errorData.error || `Failed to fetch documents: ${docsResponse.status} ${docsResponse.statusText}`);\r\n              }\r\n             \r\n              const docsData = await docsResponse.json();\r\n              setDocuments(docsData.documents || []);\r\n              setError(null);\r\n              \r\n              // Update last check timestamp\r\n              AuthService.setLastAuthCheck(now);\r\n            } else {\r\n              // If no token is available, the user might need to re-authenticate\r\n              console.log('No valid token found on visibility change, triggering auth revalidation');\r\n              // Force a check of the auth state by calling getCurrentUser\r\n              const currentUser = await AuthService.getCurrentUser();\r\n              if (!currentUser) {\r\n                console.log('No current user found, redirecting to login');\r\n                // User is no longer authenticated, redirect to login\r\n                router.push('/');\r\n              }\r\n            }\r\n          } catch (error) {\r\n            console.error('Error during visibility change document refresh:', error);\r\n            // Don't show error to user when returning from minimized state, just log it\r\n          }\r\n        }\r\n      }\r\n    };\r\n \r\n    document.addEventListener('visibilitychange', handleVisibilityChange);\r\n \r\n    return () => {\r\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\r\n    };\r\n  }, [unitId, router]);\r\n\r\n  // Show loading state only during initial authentication check or when fetching unit data, not when returning from minimized state\r\n  if (isLoading && (!unit || !isAuthenticated)) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Image\r\n              src=\"/LSPULogo.png\"\r\n              alt=\"LSPU Logo\"\r\n              width={64}\r\n              height={64}\r\n              className=\"object-contain animate-spin\"\r\n            />\r\n          </div>\r\n          <p className=\"text-lg text-muted-foreground\">Loading unit...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Redirect if not authenticated after initial check\r\n  if (!isAuthenticated && !isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Image\r\n              src=\"/LSPULogo.png\"\r\n              alt=\"LSPU Logo\"\r\n              width={64}\r\n              height={64}\r\n              className=\"object-contain animate-spin\"\r\n            />\r\n          </div>\r\n          <p className=\"text-lg text-muted-foreground\">Redirecting to login...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Don't render if user is null but authentication is loaded\r\n if (!user && !isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Image\r\n              src=\"/LSPULogo.png\"\r\n              alt=\"LSPU Logo\"\r\n              width={64}\r\n              height={64}\r\n              className=\"object-contain animate-spin\"\r\n            />\r\n          </div>\r\n          <p className=\"text-lg text-muted-foreground\">Loading user data...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes < 1024) return bytes + \" B\";\r\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + \" KB\";\r\n    return (bytes / (1024 * 1024)).toFixed(1) + \" MB\";\r\n  };\r\n\r\n  const toTitleCase = (str: string) => {\r\n    return str\r\n      .toLowerCase()\r\n      .split(' ')\r\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\r\n      .join(' ');\r\n  };\r\n\r\n  const getFileIcon = (fileName: string) => {\r\n    const ext = fileName.split('.').pop()?.toLowerCase() || '';\r\n    \r\n    if (['pdf'].includes(ext)) {\r\n      return { icon: FileText, color: '#DC2626', bgColor: 'rgba(220, 38, 38, 0.1)' };\r\n    } else if (['doc', 'docx'].includes(ext)) {\r\n      return { icon: FileText, color: '#2563EB', bgColor: 'rgba(37, 99, 235, 0.1)' };\r\n    } else if (['xls', 'xlsx', 'csv'].includes(ext)) {\r\n      return { icon: FileSpreadsheet, color: '#16A34A', bgColor: 'rgba(22, 163, 74, 0.1)' };\r\n    } else if (['ppt', 'pptx'].includes(ext)) {\r\n      return { icon: FileText, color: '#EA580C', bgColor: 'rgba(234, 88, 12, 0.1)' };\r\n    } else if (['jpg', 'jpeg', 'png', 'gif'].includes(ext)) {\r\n      return { icon: FileImage, color: '#7C3AED', bgColor: 'rgba(124, 58, 237, 0.1)' };\r\n    } else {\r\n      return { icon: FileIcon, color: '#6B7280', bgColor: 'rgba(107, 114, 128, 0.1)' };\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ClientOnly>\r\n      <div className=\"min-h-screen bg-background\">\r\n        <Navbar />\r\n        <div className=\"flex flex-col lg:flex-row\">\r\n          {/* Unit Sidebar */}\r\n          {sidebarOpen && (\r\n            <div className=\"w-full lg:w-64 border-r bg-muted/10 lg:block hidden\">\r\n              <UnitSidebar\r\n                units={units}\r\n                currentUnit={unitId}\r\n                onUnitSelect={(selectedUnitId) => {\r\n                  if (selectedUnitId) {\r\n                    router.push(`/units/${selectedUnitId}`);\r\n                  } else {\r\n                    router.push('/repository');\r\n                  }\r\n                }}\r\n                userRole={user?.role || ''}\r\n                userUnit={user?.unitId || null}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Main Content */}\r\n          <main className=\"flex-1\">\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n              {/* Header */}\r\n              <div className=\"mb-8 animate-fade-in\">\r\n                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      className=\"lg:hidden\"\r\n                      onClick={() => setSidebarOpen(!sidebarOpen)}\r\n                    >\r\n                      {sidebarOpen ? <ChevronLeft className=\"w-5 h-5\" /> : <ChevronRight className=\"w-5 h-5\" />}\r\n                    </Button>\r\n                    <div>\r\n                      <h1 className=\"text-2xl md:text-3xl font-bold text-foreground mb-2\">\r\n                        {unit?.name || 'Unit'} Documents\r\n                      </h1>\r\n                      <p className=\"text-muted-foreground\">\r\n                        All documents for {unit?.name || 'this unit'}\r\n                        {selectedYear && ` • ${selectedYear}`}\r\n                        {selectedQuarter && ` Q${selectedQuarter}`}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {isAuthenticated && user && canUpload && (\r\n                      <Button\r\n                        className=\"gap-2\"\r\n                        onClick={() => setShowUploadModal(true)}\r\n                      >\r\n                        <Upload className=\"w-4 h-4\" />\r\n                        Upload Document\r\n                      </Button>\r\n                    )}\r\n                    {isAuthenticated && user && (\r\n                      <Button\r\n                        className=\"gap-2\"\r\n                        onClick={() => router.push('/repository')}\r\n                      >\r\n                        <FileText className=\"w-4 h-4\" />\r\n                        View All Documents\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Year and Quarter Filter Bar for QPRO Documents */}\r\n              <div className=\"mb-6 animate-fade-in\">\r\n                <Card className=\"p-4\">\r\n                  <div className=\"flex flex-col sm:flex-row gap-4 items-start sm:items-center\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Calendar className=\"w-4 h-4 text-muted-foreground\" />\r\n                      <span className=\"text-sm font-medium\">Filter by Period:</span>\r\n                    </div>\r\n                    \r\n                    {/* Year Selector */}\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <label className=\"text-sm text-muted-foreground whitespace-nowrap\">Year:</label>\r\n                      <Select \r\n                        value={selectedYear?.toString() || \"all\"} \r\n                        onValueChange={(val) => setSelectedYear(val === \"all\" ? null : parseInt(val))}\r\n                      >\r\n                        <SelectTrigger className=\"w-[120px]\">\r\n                          <SelectValue placeholder=\"All Years\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"all\">All Years</SelectItem>\r\n                          {years.map((year) => (\r\n                            <SelectItem key={year} value={year.toString()}>\r\n                              {year}\r\n                            </SelectItem>\r\n                          ))}\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n\r\n                    {/* Quarter Tabs */}\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <label className=\"text-sm text-muted-foreground whitespace-nowrap\">Quarter:</label>\r\n                      <Tabs \r\n                        value={selectedQuarter?.toString() || \"all\"} \r\n                        onValueChange={(val) => setSelectedQuarter(val === \"all\" ? null : parseInt(val))}\r\n                      >\r\n                        <TabsList>\r\n                          <TabsTrigger value=\"all\" className=\"px-3\">All</TabsTrigger>\r\n                          {quarters.map((q) => (\r\n                            <TabsTrigger key={q} value={q.toString()} className=\"px-3\">\r\n                              Q{q}\r\n                            </TabsTrigger>\r\n                          ))}\r\n                        </TabsList>\r\n                      </Tabs>\r\n                    </div>\r\n\r\n                    {/* Clear filters button */}\r\n                    {(selectedYear || selectedQuarter) && (\r\n                      <Button \r\n                        variant=\"ghost\" \r\n                        size=\"sm\"\r\n                        onClick={() => {\r\n                          setSelectedYear(null);\r\n                          setSelectedQuarter(null);\r\n                        }}\r\n                      >\r\n                        Clear Filters\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                </Card>\r\n              </div>\r\n\r\n              {/* Deletion Success Message */}\r\n              {deletionSuccessMessage && (\r\n                <div className=\"mb-4 p-3 bg-green-10 text-green-80 rounded-md flex items-center gap-2 animate-fade-in\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 10-16 8 8 0 00 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 0 01.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                  {deletionSuccessMessage}\r\n                </div>\r\n              )}\r\n\r\n              {/* Documents Grid */}\r\n              {loading ? (\r\n                <div className=\"animate-fade-in\">\r\n                  <div className=\"flex justify-center py-12\">\r\n                    <div className=\"w-16 h-16 flex items-center justify-center\">\r\n                      <Image\r\n                        src=\"/LSPULogo.png\"\r\n                        alt=\"LSPULogo\"\r\n                        width={64}\r\n                        height={64}\r\n                        className=\"object-contain animate-spin\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : error ? (\r\n                <Card className=\"animate-fade-in\">\r\n                  <CardContent className=\"py-12 text-center\">\r\n                    <div className=\"text-destructive mb-4\">⚠️</div>\r\n                    <h3 className=\"text-lg font-semibold mb-2\">Error Loading Documents</h3>\r\n                    <p className=\"text-muted-foreground mb-4\">{error}</p>\r\n                    <Button onClick={() => window.location.reload()}>Retry</Button>\r\n                  </CardContent>\r\n                </Card>\r\n              ) : (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                  {documents.map((doc, index) => {\r\n                    const { icon: DocIcon, color: iconColor, bgColor: iconBgColor } = getFileIcon(doc.fileName || doc.title);\r\n                    const canDelete = user && (user.role === 'ADMIN' || doc.uploadedById === user.id);\r\n                    \r\n                    return (\r\n                      <div\r\n                        key={doc.id}\r\n                        className=\"animate-fade-in bg-white rounded-xl overflow-hidden transition-all duration-300 hover:shadow-xl group flex flex-col\"\r\n                        style={{ \r\n                          animationDelay: `${index * 0.05}s`,\r\n                          boxShadow: '0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06)',\r\n                          borderRadius: '12px',\r\n                        }}\r\n                        onMouseEnter={(e) => {\r\n                          e.currentTarget.style.transform = 'translateY(-4px)';\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                          e.currentTarget.style.transform = 'translateY(0)';\r\n                        }}\r\n                      >\r\n                        {/* Card Header */}\r\n                        <div className=\"p-4 pb-0 flex-1 flex flex-col\">\r\n                          <div className=\"flex items-start justify-between gap-2 mb-3\">\r\n                            <div className=\"w-12 h-12 rounded-lg flex items-center justify-center shrink-0\" style={{ backgroundColor: iconBgColor }}>\r\n                              <DocIcon className=\"w-6 h-6\" style={{ color: iconColor }} />\r\n                            </div>\r\n                            {(canDelete || doc.isQproDocument) && (\r\n                              <DropdownMenu>\r\n                                <DropdownMenuTrigger asChild>\r\n                                  <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                    <MoreVertical className=\"w-4 h-4 text-gray-500\" />\r\n                                  </Button>\r\n                                </DropdownMenuTrigger>\r\n                                <DropdownMenuContent align=\"end\">\r\n                                  {doc.isQproDocument && (\r\n                                    <DropdownMenuItem\r\n                                      onClick={async (e) => {\r\n                                        e.stopPropagation();\r\n                                        try {\r\n                                          const token = await AuthService.getAccessToken();\r\n                                          if (!token) {\r\n                                            await AuthService.logout();\r\n                                            router.push('/');\r\n                                            return;\r\n                                          }\r\n                                          const response = await fetch(`/api/qpro/by-document/${doc.id}`, {\r\n                                            headers: {\r\n                                              'Authorization': `Bearer ${token}`,\r\n                                              'Content-Type': 'application/json',\r\n                                            }\r\n                                          });\r\n                                          if (response.ok) {\r\n                                            const data = await response.json();\r\n                                            if (data.analysis) {\r\n                                              router.push(`/qpro/analysis/${data.analysis.id}`);\r\n                                            } else {\r\n                                              toast({\r\n                                                title: \"No Analysis Found\",\r\n                                                description: \"This QPRO document hasn't been analyzed yet.\",\r\n                                                variant: \"default\",\r\n                                              });\r\n                                            }\r\n                                          } else {\r\n                                            toast({\r\n                                              title: \"No Analysis Found\",\r\n                                              description: \"This QPRO document hasn't been analyzed yet.\",\r\n                                              variant: \"default\",\r\n                                            });\r\n                                          }\r\n                                        } catch (error) {\r\n                                          console.error('Error fetching QPRO analysis:', error);\r\n                                          toast({\r\n                                            title: \"Error\",\r\n                                            description: \"Failed to fetch QPRO analysis.\",\r\n                                            variant: \"destructive\",\r\n                                          });\r\n                                        }\r\n                                      }}\r\n                                    >\r\n                                      <FileText className=\"w-4 h-4 mr-2\" />\r\n                                      View QPRO Analysis\r\n                                    </DropdownMenuItem>\r\n                                  )}\r\n                                  {canDelete && (\r\n                                    <DropdownMenuItem\r\n                                      className=\"text-red-600 focus:text-red-600 focus:bg-red-50\"\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        setDocumentToDelete(doc);\r\n                                      }}\r\n                                      disabled={deletingDocId === doc.id}\r\n                                    >\r\n                                      <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                                      {deletingDocId === doc.id ? 'Deleting...' : 'Delete'}\r\n                                    </DropdownMenuItem>\r\n                                  )}\r\n                                </DropdownMenuContent>\r\n                              </DropdownMenu>\r\n                            )}\r\n                          </div>\r\n                          \r\n                          {/* Title and Description */}\r\n                          <h4 className=\"text-lg font-semibold text-gray-900 line-clamp-2 mb-1 min-h-[3.5rem]\">{toTitleCase(doc.title)}</h4>\r\n                          <p className=\"text-sm text-gray-500 line-clamp-2 mb-3 min-h-[2.5rem]\">{doc.description}</p>\r\n                          \r\n                          {/* Metadata */}\r\n                          <p className=\"text-xs text-gray-400 mb-3\">\r\n                            Uploaded by {doc.uploadedBy} • {formatFileSize(doc.fileSize)}\r\n                          </p>\r\n                        \r\n                          {/* Pill Tags */}\r\n                          <div className=\"flex flex-wrap gap-2 mb-4 min-h-[2rem]\">\r\n                            {doc.category && doc.category !== \"Uncategorized\" && (\r\n                              <span \r\n                                className=\"px-3 py-1 text-xs font-medium rounded-full\"\r\n                                style={{ backgroundColor: '#F3F4F6', color: '#6B7280' }}\r\n                              >\r\n                                {doc.category}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        {/* Card Footer */}\r\n                        <div className=\"px-4 pb-4 mt-auto\">\r\n                          <div className=\"flex items-center gap-3 text-sm text-gray-500 mb-4\">\r\n                            <div className=\"flex items-center gap-1\">\r\n                              <Download className=\"w-4 h-4\" />\r\n                              <span>{doc.downloadsCount}</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-1\">\r\n                              <Eye className=\"w-4 h-4\" />\r\n                              <span>{doc.viewsCount}</span>\r\n                            </div>\r\n                            <span className=\"ml-auto text-xs\">v{doc.version}</span>\r\n                          </div>\r\n                          \r\n                          {/* Action Buttons */}\r\n                          <div className=\"flex gap-2\">\r\n                            {downloadingDocId === doc.id ? (\r\n                              <Button \r\n                                className=\"flex-1 gap-2\" \r\n                                size=\"sm\" \r\n                                disabled\r\n                                style={{ backgroundColor: '#2B4385', color: 'white', borderRadius: '8px' }}\r\n                              >\r\n                                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                                Downloading...\r\n                              </Button>\r\n                            ) : (\r\n                              <Button\r\n                                className=\"flex-1 gap-2\"\r\n                                size=\"sm\"\r\n                                style={{ backgroundColor: '#2B4385', color: 'white', borderRadius: '8px' }}\r\n                                onClick={async (e) => {\r\n                                  e.stopPropagation();\r\n                                  setDownloadingDocId(doc.id);\r\n                                  try {\r\n                                    if (typeof window === 'undefined') {\r\n                                      throw new Error('Download can only be initiated from the browser');\r\n                                    }\r\n                                    if (!isAuthenticated || !user) return;\r\n                                    const downloadToken = await AuthService.getAccessToken();\r\n                                    if (!downloadToken) {\r\n                                      await AuthService.logout();\r\n                                      router.push('/');\r\n                                      return;\r\n                                    }\r\n                                    const directDownloadUrl = `/api/documents/${doc.id}/download-direct?token=${downloadToken}`;\r\n                                    const link = document.createElement('a');\r\n                                    link.href = directDownloadUrl;\r\n                                    link.download = doc.fileName || `document-${doc.id}`;\r\n                                    document.body.appendChild(link);\r\n                                    link.click();\r\n                                    document.body.removeChild(link);\r\n                                  } catch (error) {\r\n                                    console.error('Download error:', error);\r\n                                    alert(error instanceof Error ? error.message : 'Failed to download document.');\r\n                                  } finally {\r\n                                    setDownloadingDocId(null);\r\n                                  }\r\n                                }}\r\n                              >\r\n                                <Download className=\"w-4 h-4\" />\r\n                                Download\r\n                              </Button>\r\n                            )}\r\n                            <Button\r\n                              className=\"gap-2\"\r\n                              size=\"sm\"\r\n                              variant=\"ghost\"\r\n                              style={{ color: '#2B4385', borderRadius: '8px' }}\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                if (doc.id && doc.id !== 'undefined' && !doc.id.includes('undefined')) {\r\n                                  router.push(`/repository/preview/${doc.id}`);\r\n                                } else {\r\n                                  toast({\r\n                                    title: \"Error\",\r\n                                    description: \"Cannot preview this document.\",\r\n                                    variant: \"destructive\",\r\n                                  });\r\n                                }\r\n                              }}\r\n                            >\r\n                              <EyeIcon className=\"w-4 h-4\" />\r\n                              Preview\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n                )}\r\n\r\n              {documents.length === 0 && !loading && !error && (\r\n                <Card className=\"animate-fade-in\">\r\n                  <CardContent className=\"py-12 text-center\">\r\n                    <FileText className=\"w-12 h-12 text-muted-foreground mx-auto mb-4\" />\r\n                    <h3 className=\"text-lg font-semibold mb-2\">No documents found</h3>\r\n                    <p className=\"text-muted-foreground\">This unit currently has no documents</p>\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n            </div>\r\n          </main>\r\n        </div>\r\n\r\n        {/* Upload Document Modal */}\r\n        {showUploadModal && (\r\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"bg-background rounded-lg max-w-md w-full p-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">Upload Document</h3>\r\n\r\n              {uploadError && (\r\n                <div className=\"mb-4 p-3 bg-destructive/20 text-destructive rounded-md flex items-center gap-2\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 0 016 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 0 00-1 1v4a1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                  {uploadError}\r\n                </div>\r\n              )}\r\n\r\n              {uploading && (\r\n                <div className=\"mb-4\">\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n                    <div\r\n                      className=\"bg-blue-600 h-2.5 rounded-full transition-all duration-300\"\r\n                      style={{ width: `${uploadProgress}%` }}\r\n                    ></div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {uploadSuccessMessage && (\r\n                <div className=\"mb-4 p-3 bg-green-10 text-green-80 rounded-md flex items-center gap-2 animate-fade-in\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 00 16zm3.707-9.293a1 1 0 0-1.414-1.414L9 10.586 7.707 9.293a1 1 0 0-1.414 1.414l2 2a1 1 0 01.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                  {uploadSuccessMessage}\r\n                </div>\r\n              )}\r\n\r\n              <form onSubmit={async (e) => {\r\n                e.preventDefault();\r\n\r\n                // Check if running on client side\r\n                if (typeof window === 'undefined') {\r\n                  setUploadError('Upload can only be initiated from the browser');\r\n                  return;\r\n                }\r\n\r\n                setUploading(true);\r\n                setUploadProgress(0);\r\n                setUploadError(null);\r\n                setUploadSuccessMessage(null); // Clear any previous success message\r\n\r\n                try {\r\n                  const formData = new FormData(e.currentTarget);\r\n                  const file = formData.get('file') as File;\r\n\r\n                  if (!file || file.size === 0) {\r\n                    throw new Error('Please select a file to upload');\r\n                  }\r\n\r\n                  // Get authentication token for the upload\r\n                  const token = await AuthService.getAccessToken();\r\n                  if (!token) {\r\n                    throw new Error('No authentication token found');\r\n                  }\r\n\r\n                  // Create a new FormData object for the API request\r\n                  const apiFormData = new FormData();\r\n                  apiFormData.append('title', formData.get('title') as string);\r\n                  apiFormData.append('description', formData.get('description') as string);\r\n                  apiFormData.append('file', file);\r\n                  apiFormData.append('unitId', unitId); // Automatically assign to current unit\r\n\r\n                  // Create the request with progress tracking\r\n                  const xhr = new XMLHttpRequest();\r\n\r\n                  return new Promise<void>((resolve, reject) => {\r\n                    // Set up all event listeners BEFORE opening the request\r\n                    xhr.upload.addEventListener('progress', (event) => {\r\n                      if (event.lengthComputable) {\r\n                        const progress = Math.floor((event.loaded / event.total) * 100); // Use floor to ensure we get an integer value\r\n                        setUploadProgress(progress);\r\n                        console.log(`Upload progress: ${progress}% (${event.loaded} / ${event.total} bytes)`); // Debug log\r\n                      } else {\r\n                        console.log('Upload progress: Length not computable'); // Debug log for when length is not computable\r\n                      }\r\n                    });\r\n\r\n                    // Add debug logging for other events\r\n                    xhr.addEventListener('loadstart', () => {\r\n                      console.log('Upload loadstart event fired');\r\n                    });\r\n\r\n                    xhr.addEventListener('loadend', () => {\r\n                      console.log('Upload loadend event fired');\r\n                    });\r\n\r\n                    xhr.upload.addEventListener('loadstart', () => {\r\n                      console.log('Upload upload loadstart event fired');\r\n                    });\r\n\r\n                    xhr.upload.addEventListener('loadend', () => {\r\n                      console.log('Upload upload loadend event fired');\r\n                    });\r\n\r\n                    // Add error handling for progress events\r\n                    xhr.upload.addEventListener('error', (event) => {\r\n                      console.error('Upload error event fired:', event);\r\n                    });\r\n\r\n                    xhr.upload.addEventListener('abort', (event) => {\r\n                      console.log('Upload abort event fired:', event);\r\n                    });\r\n\r\n                    // Add additional event listeners for debugging\r\n                    xhr.addEventListener('readystatechange', () => {\r\n                      console.log(`Ready state changed: ${xhr.readyState}`);\r\n                    });\r\n\r\n                    xhr.addEventListener('load', () => {\r\n                      if (xhr.status >= 200 && xhr.status < 300) {\r\n                        // Refresh the document list for the current unit\r\n                        // Use the same token for the refresh call to avoid auth issues\r\n                        fetch(`/api/documents?unit=${unitId}`, {\r\n                          headers: {\r\n                            'Authorization': `Bearer ${token}`,\r\n                            'Content-Type': 'application/json',\r\n                          }\r\n                        })\r\n                        .then(refreshResponse => refreshResponse.json())\r\n                        .then(data => {\r\n                          setDocuments(data.documents || []);\r\n                          setShowUploadModal(false);\r\n                          // Show success message to the user\r\n                          setUploadSuccessMessage(\"Document uploaded successfully!\");\r\n                          // Clear the success message after 3 seconds\r\n                          setTimeout(() => {\r\n                            setUploadSuccessMessage(null);\r\n                          }, 3000);\r\n                          // Show success modal with OK button\r\n                          setShowSuccessModal(true);\r\n                          // Add a small delay to ensure UI updates properly\r\n                          setTimeout(() => {\r\n                            // Optionally trigger a full page refresh or a more comprehensive data reload\r\n                          }, 100);\r\n                          resolve();\r\n                        })\r\n                        .catch(error => {\r\n                          console.error('Failed to refresh documents:', error);\r\n                          setShowUploadModal(false);\r\n                          // Still resolve so the user knows the upload was successful\r\n                          // Even if the document list refresh failed, the upload itself was successful\r\n                          setUploadSuccessMessage(\"Document uploaded successfully, but there was an issue refreshing the document list.\");\r\n                          // Clear the success message after 5 seconds\r\n                          setTimeout(() => {\r\n                            setUploadSuccessMessage(null);\r\n                          }, 500);\r\n                          // Show success modal with OK button even when refresh fails\r\n                          setShowSuccessModal(true);\r\n                          resolve();\r\n                        });\r\n                      } else {\r\n                        // Try to parse error response\r\n                        let errorData: { error?: string } = {};\r\n                        try {\r\n                          errorData = JSON.parse(xhr.responseText);\r\n                        } catch {\r\n                          // If response is not JSON, use status text\r\n                          errorData = { error: `Upload failed: ${xhr.status} - ${xhr.statusText || 'Unknown error'}` };\r\n                        }\r\n                        const errorMessage = errorData.error || `Upload failed: ${xhr.status} ${xhr.statusText}`;\r\n                        setUploadError(errorMessage);\r\n                        setUploading(false);\r\n                        setUploadSuccessMessage(null); // Clear any success message on error\r\n                        console.error('Upload error details:', {\r\n                          status: xhr.status,\r\n                          statusText: xhr.statusText,\r\n                          responseText: xhr.responseText,\r\n                          error: errorMessage\r\n                        });\r\n                        reject(new Error(errorMessage));\r\n                      }\r\n                    });\r\n\r\n                    xhr.addEventListener('error', () => {\r\n                      setUploadError('Network error occurred during upload');\r\n                      setUploading(false);\r\n                      setUploadSuccessMessage(null); // Clear any success message on error\r\n                      reject(new Error('Network error occurred during upload'));\r\n                    });\r\n\r\n                    xhr.addEventListener('abort', () => {\r\n                      setUploadError('Upload was cancelled');\r\n                      setUploading(false);\r\n                      setUploadSuccessMessage(null); // Clear any success message on error\r\n                      reject(new Error('Upload was cancelled'));\r\n                    });\r\n\r\n                    // Open the request after setting up all event listeners\r\n                    xhr.open('POST', '/api/documents');\r\n                    xhr.setRequestHeader('Authorization', `Bearer ${token}`);\r\n                    // Don't set Content-Type header when sending FormData - let browser set it with proper boundary\r\n\r\n                    xhr.send(apiFormData);\r\n                  });\r\n                } catch (error) {\r\n                  console.error('Upload error:', error);\r\n                  setUploadError(error instanceof Error ? error.message : 'Failed to upload document');\r\n                  setUploading(false);\r\n                  setUploadSuccessMessage(null); // Clear any success message on error\r\n                }\r\n              }}>\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1\">Title *</label>\r\n                    <input\r\n                      name=\"title\"\r\n                      required\r\n                      placeholder=\"Document title\"\r\n                      className=\"w-full p-2 border-input rounded-md bg-background\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1\">Description</label>\r\n                    <textarea\r\n                      name=\"description\"\r\n                      className=\"w-full min-h-20 p-2 border border-input rounded-md bg-background\"\r\n                      placeholder=\"Document description (optional)\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1\">File *</label>\r\n                    <input\r\n                      type=\"file\"\r\n                      name=\"file\"\r\n                      required\r\n                      accept=\".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt,.jpg,.jpeg,.png,.gif\"\r\n                      className=\"w-full p-2 border-input rounded-md bg-background\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium mb-1\">Unit</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={unit?.name || ''}\r\n                      readOnly\r\n                      className=\"w-full p-2 border-input rounded-md bg-background bg-gray-10 cursor-not-allowed\"\r\n                    />\r\n                    <input\r\n                      type=\"hidden\"\r\n                      name=\"unitId\"\r\n                      value={unitId}\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground mt-1\">Document will be uploaded to this unit: {unit?.code} - {unit?.name}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 mt-6\">\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={() => {\r\n                      setShowUploadModal(false);\r\n                      setUploading(false);\r\n                      setUploadProgress(0);\r\n                      setUploadError(null);\r\n                      setUploadSuccessMessage(null);\r\n                      setShowSuccessModal(false);\r\n                    }}\r\n                    disabled={uploading}\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    disabled={uploading}\r\n                  >\r\n                    {uploading ? 'Uploading...' : 'Upload'}\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Success Modal */}\r\n        <Dialog open={showSuccessModal} onOpenChange={setShowSuccessModal}>\r\n          <DialogContent className=\"sm:max-w-md\">\r\n            <DialogHeader>\r\n              <DialogTitle>Upload Successful!</DialogTitle>\r\n              <DialogDescription>\r\n                Your document has been uploaded successfully to the repository.\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"py-4 flex justify-center\">\r\n              <div className=\"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-10 w-10 text-green-60\" viewBox=\"0 0 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 00 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 01.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end\">\r\n              <Button onClick={() => {\r\n                setShowSuccessModal(false);\r\n                setUploadProgress(0);\r\n                setUploading(false);\r\n                setUploadSuccessMessage(null);\r\n              }}>OK</Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        {/* Delete Confirmation Dialog */}\r\n        <AlertDialog open={!!documentToDelete} onOpenChange={(open) => !open && setDocumentToDelete(null)}>\r\n          <AlertDialogContent>\r\n            <AlertDialogHeader>\r\n              <AlertDialogTitle>Are you sure?</AlertDialogTitle>\r\n              <AlertDialogDescription>\r\n                This will permanently delete <span className=\"font-semibold\">&quot;{documentToDelete?.title}&quot;</span>. This action cannot be undone.\r\n              </AlertDialogDescription>\r\n            </AlertDialogHeader>\r\n            <AlertDialogFooter>\r\n              <AlertDialogCancel disabled={!!deletingDocId}>Cancel</AlertDialogCancel>\r\n              <AlertDialogAction\r\n                disabled={!!deletingDocId}\r\n                className=\"bg-red-600 hover:bg-red-700 focus:ring-red-600\"\r\n                onClick={async (e) => {\r\n                  e.preventDefault();\r\n                  if (!documentToDelete) return;\r\n                  \r\n                  setDeletingDocId(documentToDelete.id);\r\n                  try {\r\n                    const token = await AuthService.getAccessToken();\r\n                    if (!token) {\r\n                      await AuthService.logout();\r\n                      router.push('/');\r\n                      return;\r\n                    }\r\n                    const response = await fetch(`/api/documents/${documentToDelete.id}`, {\r\n                      method: 'DELETE',\r\n                      headers: {\r\n                        'Authorization': `Bearer ${token}`,\r\n                        'Content-Type': 'application/json',\r\n                      }\r\n                    });\r\n                    if (response.ok) {\r\n                      setDeletionSuccessMessage(`Document deleted successfully!`);\r\n                      setTimeout(() => setDeletionSuccessMessage(null), 3000);\r\n                      setDocumentToDelete(null);\r\n                      const refreshResponse = await fetch(`/api/documents?unit=${unitId}`, {\r\n                        headers: {\r\n                          'Authorization': `Bearer ${token}`,\r\n                          'Content-Type': 'application/json',\r\n                        }\r\n                      });\r\n                      if (refreshResponse.ok) {\r\n                        const data = await refreshResponse.json();\r\n                        setDocuments(data.documents || []);\r\n                      }\r\n                    } else {\r\n                      const errorData = await response.json();\r\n                      toast({\r\n                        title: response.status === 403 ? \"Access Denied\" : \"Error\",\r\n                        description: errorData.error || 'Failed to delete document',\r\n                        variant: \"destructive\",\r\n                      });\r\n                    }\r\n                  } catch (error) {\r\n                    toast({\r\n                      title: \"Error\",\r\n                      description: 'Failed to delete document',\r\n                      variant: \"destructive\",\r\n                    });\r\n                  } finally {\r\n                    setDeletingDocId(null);\r\n                  }\r\n                }}\r\n              >\r\n                {deletingDocId ? 'Deleting...' : 'Delete'}\r\n              </AlertDialogAction>\r\n            </AlertDialogFooter>\r\n          </AlertDialogContent>\r\n        </AlertDialog>\r\n      </div>\r\n    </ClientOnly>\r\n );\r\n}","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('Calendar', [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n]);\n\nexport default Calendar;\n"],"names":[],"mappings":"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","ignoreList":[1]}