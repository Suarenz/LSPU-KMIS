{"version":3,"sources":["../../../../components/unit-form.tsx","../../../../app/units/new/page.tsx","../../../../components/ui/textarea.tsx","../../../../node_modules/lucide-react/src/icons/save.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Label } from '@/components/ui/label';\r\nimport { useToast } from '@/components/ui/use-toast';\r\nimport { Unit } from '@/lib/api/types';\r\nimport AuthService from '@/lib/services/auth-service';\r\nimport { Building2, Save, X } from 'lucide-react';\r\n\r\ninterface UnitFormProps {\r\n  initialData?: Unit | null;\r\n  onSubmit: (unit: Unit) => void;\r\n  onCreated?: (unit: Unit) => void; // Callback when a new unit is created\r\n  onCancel: () => void;\r\n}\r\n\r\nexport function UnitForm({ initialData, onSubmit, onCreated, onCancel }: UnitFormProps) {\r\n  const { toast } = useToast();\r\n  const [name, setName] = useState(initialData?.name || '');\r\n  const [code, setCode] = useState(initialData?.code || '');\r\n  const [description, setDescription] = useState(initialData?.description || '');\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState<Record<string, string>>({});\r\n\r\n  const validateForm = () => {\r\n    const newErrors: Record<string, string> = {};\r\n\r\n    if (!name.trim()) {\r\n      newErrors.name = 'Unit name is required';\r\n    }\r\n\r\n    if (code.trim() && code.length > 10) {\r\n      newErrors.code = 'Unit code must be 10 characters or less';\r\n    } else if (code.trim() && !/^[A-Z0-9 _-]+$/.test(code)) {\r\n      newErrors.code = 'Unit code can only contain uppercase letters, numbers, spaces, underscores, and hyphens';\r\n    }\r\n\r\n    if (description.length > 500) {\r\n      newErrors.description = 'Description must be 500 characters or less';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const token = await AuthService.getAccessToken();\r\n      if (!token) {\r\n        throw new Error('No authentication token found');\r\n      }\r\n\r\n      const unitData = {\r\n        name: name.trim(),\r\n        code: code.trim() ? code.trim().toUpperCase() : undefined,\r\n        description: description.trim(),\r\n      };\r\n\r\n      let response;\r\n      if (initialData) {\r\n        // Update existing unit\r\n        response = await fetch(`/api/units/${initialData.id}`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(unitData),\r\n        });\r\n      } else {\r\n        // Create new unit\r\n        response = await fetch('/api/units', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(unitData),\r\n        });\r\n      }\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.error || `Failed to ${initialData ? 'update' : 'create'} unit: ${response.status} ${response.statusText}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      onSubmit(result.unit);\r\n\r\n      toast({\r\n        title: `Unit ${initialData ? 'updated' : 'created'} successfully`,\r\n        description: `The unit \"${result.unit.name}\" has been ${initialData ? 'updated' : 'added'} to the system.`,\r\n      });\r\n\r\n      // If it's a new unit, call the onCreated callback\r\n      if (!initialData && onCreated) {\r\n        onCreated(result.unit);\r\n      }\r\n\r\n      // Reset form\r\n      setName('');\r\n      setCode('');\r\n      setDescription('');\r\n      setErrors({});\r\n    } catch (error) {\r\n      console.error(`Error ${initialData ? 'updating' : 'creating'} unit:`, error);\r\n      toast({\r\n        title: `Failed to ${initialData ? 'update' : 'create'} unit`,\r\n        description: error instanceof Error ? error.message : 'An unexpected error occurred',\r\n        variant: 'destructive',\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"w-full max-w-2xl mx-auto border-0 shadow-xl bg-gradient-to-br from-background to-muted\">\r\n      <CardHeader className=\"pb-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center\">\r\n            <Building2 className=\"w-5 h-5 text-primary\" />\r\n          </div>\r\n          <div>\r\n            <CardTitle className=\"text-2xl font-bold\">\r\n              {initialData ? 'Edit Unit' : 'Create New Unit'}\r\n            </CardTitle>\r\n            <CardDescription className=\"mt-1\">\r\n              {initialData\r\n                ? 'Update the details for this academic unit.'\r\n                : 'Add a new academic unit to the repository system. All fields are required unless marked optional.'}\r\n            </CardDescription>\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <div className=\"space-y-6\">\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Label htmlFor=\"name\" className=\"text-base\">\r\n                  Unit Name <span className=\"text-destructive\">*</span>\r\n                </Label>\r\n              </div>\r\n              <div className=\"relative\">\r\n                <Input\r\n                  id=\"name\"\r\n                  value={name}\r\n                  onChange={(e) => setName(e.target.value)}\r\n                  placeholder=\"Enter full unit name (e.g., College of Arts and Sciences)\"\r\n                  disabled={loading}\r\n                  className=\"py-5 text-lg\"\r\n                />\r\n              </div>\r\n              {errors.name && (\r\n                <p className=\"text-sm text-destructive flex items-center gap-1 mt-1\">\r\n                  <X className=\"w-4 h-4\" /> {errors.name}\r\n                </p>\r\n              )}\r\n              <p className=\"text-xs text-muted-foreground mt-1\">\r\n                The full name of the academic unit (e.g., College of Arts and Sciences)\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Label htmlFor=\"code\" className=\"text-base\">\r\n                  Unit Code\r\n                </Label>\r\n              </div>\r\n              <div className=\"relative\">\r\n                <Input\r\n                  id=\"code\"\r\n                  value={code}\r\n                  onChange={(e) => setCode(e.target.value.toUpperCase())}\r\n                  placeholder=\"Enter unit code (e.g., CAS)\"\r\n                  disabled={loading}\r\n                  maxLength={10}\r\n                  className=\"py-5 text-lg\"\r\n                />\r\n              </div>\r\n              {errors.code && (\r\n                <p className=\"text-sm text-destructive flex items-center gap-1 mt-1\">\r\n                  <X className=\"w-4 h-4\" /> {errors.code}\r\n                </p>\r\n              )}\r\n              <p className=\"text-xs text-muted-foreground mt-1\">\r\n                Short code for the unit (max 10 characters, uppercase letters, numbers, spaces, underscores, and hyphens only)\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Label htmlFor=\"description\" className=\"text-base\">\r\n                  Description\r\n                </Label>\r\n              </div>\r\n              <Textarea\r\n                id=\"description\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                placeholder=\"Enter unit description (optional)\"\r\n                disabled={loading}\r\n                maxLength={500}\r\n                rows={4}\r\n                className=\"py-3\"\r\n              />\r\n              {errors.description && (\r\n                <p className=\"text-sm text-destructive flex items-center gap-1 mt-1\">\r\n                  <X className=\"w-4 h-4\" /> {errors.description}\r\n                </p>\r\n              )}\r\n              <div className=\"flex justify-between\">\r\n                <p className=\"text-xs text-muted-foreground mt-1\">\r\n                  Brief description of the unit (max 50 characters)\r\n                </p>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">\r\n                  {description.length}/500\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-3 pt-6 border-t\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={onCancel}\r\n              disabled={loading}\r\n              className=\"px-6\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"px-6 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-md\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <span className=\"mr-2\">Processing...</span>\r\n                  <span className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></span>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Save className=\"w-4 h-4 mr-2\" />\r\n                  {initialData ? 'Update Unit' : 'Create Unit'}\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/lib/auth-context';\r\nimport { Navbar } from '@/components/navbar';\r\nimport { UnitForm } from '@/components/unit-form';\r\nimport { Unit } from '@/lib/api/types';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Building2, ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport { ClientOnly } from '@/components/client-only-wrapper';\r\nimport Image from 'next/image';\r\nimport AuthService from '@/lib/services/auth-service';\r\nimport { UnitSidebar } from '@/components/unit-sidebar';\r\n\r\nexport default function NewUnitPage() {\r\n  const router = useRouter();\r\n const { user, isAuthenticated, isLoading } = useAuth();\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const [units, setUnits] = useState<Unit[]>([]);\r\n\r\n  // Fetch units for sidebar\r\n  useEffect(() => {\r\n    const fetchUnits = async () => {\r\n      try {\r\n        // First, verify that we have a valid authentication state\r\n        if (!isAuthenticated || !user) {\r\n          // If not authenticated, redirect to login\r\n          router.push('/');\r\n          return;\r\n        }\r\n        \r\n        // Then try to get the access token\r\n        const token = await AuthService.getAccessToken();\r\n        if (!token) {\r\n          // If no token is available despite being authenticated, log out the user\r\n          await AuthService.logout();\r\n          router.push('/');\r\n          return;\r\n        }\r\n        \r\n        const response = await fetch(`/api/units`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          }\r\n        });\r\n        \r\n        if (!response.ok) {\r\n          const errorData = await response.json().catch(() => ({}));\r\n          throw new Error(errorData.error || `Failed to fetch units: ${response.status} ${response.statusText}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        setUnits(data.units || []);\r\n      } catch (err) {\r\n        console.error('Error fetching units:', err);\r\n        setUnits([]);\r\n        // If there's an authentication error, redirect to login\r\n        if (err instanceof Error && err.message.includes('No authentication token found')) {\r\n          router.push('/');\r\n        }\r\n      }\r\n    };\r\n    \r\n    if (isAuthenticated && user) {\r\n      fetchUnits();\r\n    }\r\n  }, [isAuthenticated, user, router]);\r\n\r\n  // Check if user is admin\r\n  useEffect(() => {\r\n    if (!isLoading && !isAuthenticated) {\r\n      router.push('/');\r\n    } else if (!isLoading && isAuthenticated && user && user.role !== 'ADMIN') {\r\n      router.push('/repository'); // Redirect non-admins\r\n    }\r\n }, [isAuthenticated, isLoading, user, router]);\r\n\r\n  // Handle form submission\r\n const handleFormSubmit = (unit: Unit) => {\r\n    // Navigate back to repository after successful creation\r\n    router.push('/repository');\r\n    router.refresh(); // Refresh to show the new unit in the sidebar\r\n };\r\n\r\n  // Handle when a new unit is created\r\n  const handleUnitCreated = (unit: Unit) => {\r\n    // Optionally navigate to the newly created unit page\r\n    setTimeout(() => {\r\n      router.push(`/units/${unit.id}`);\r\n      router.refresh();\r\n    }, 1500); // Wait a bit for the toast to show before navigating\r\n  };\r\n\r\n  // Handle form cancellation\r\n  const handleCancel = () => {\r\n    router.push('/repository');\r\n  };\r\n\r\n  // Show loading state while authentication is being resolved\r\n  if (isLoading || (!isAuthenticated && !user)) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Image\r\n              src=\"/LSPULogo.png\"\r\n              alt=\"LSPU Logo\"\r\n              width={64}\r\n              height={64}\r\n              className=\"object-contain animate-spin\"\r\n            />\r\n          </div>\r\n          <p className=\"text-lg text-muted-foreground\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Redirect if not authenticated\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Image\r\n              src=\"/LSPULogo.png\"\r\n              alt=\"LSPU Logo\"\r\n              width={64}\r\n              height={64}\r\n              className=\"object-contain animate-spin\"\r\n            />\r\n          </div>\r\n          <p className=\"text-lg text-muted-foreground\">Redirecting to login...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Don't render if user is null but authentication is loaded\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Image\r\n              src=\"/LSPULogo.png\"\r\n              alt=\"LSPU Logo\"\r\n              width={64}\r\n              height={64}\r\n              className=\"object-contain animate-spin\"\r\n            />\r\n          </div>\r\n          <p className=\"text-lg text-muted-foreground\">Loading user data...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Check if user is admin\r\n  if (user.role !== 'ADMIN') {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center max-w-md\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Building2 className=\"w-12 h-12 text-muted-foreground\" />\r\n          </div>\r\n          <h2 className=\"text-xl font-semibold mb-2\">Access Denied</h2>\r\n          <p className=\"text-muted-foreground mb-4\">\r\n            Only administrators can create new units. Contact your system administrator for access.\r\n          </p>\r\n          <Button onClick={() => router.push('/repository')}>\r\n            Go to Repository\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ClientOnly>\r\n      <div className=\"min-h-screen bg-background\">\r\n        <Navbar />\r\n        <div className=\"flex\">\r\n          {/* Unit Sidebar */}\r\n          {sidebarOpen && (\r\n            <div className=\"w-64 border-r bg-muted/10 hidden lg:block\">\r\n              <UnitSidebar\r\n                units={units}\r\n                currentUnit={null}\r\n                onUnitSelect={(unitId) => {\r\n                  if (unitId) {\r\n                    router.push(`/units/${unitId}`);\r\n                  } else {\r\n                    router.push('/repository');\r\n                  }\r\n                }}\r\n                userRole={user?.role || ''}\r\n                userUnit={user?.unitId || null}\r\n              />\r\n            </div>\r\n          )}\r\n          \r\n          {/* Main Content */}\r\n          <main className=\"flex-1 lg:ml-0\">\r\n            <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n              {/* Header */}\r\n              <div className=\"mb-8\">\r\n                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      className=\"lg:hidden\"\r\n                      onClick={() => setSidebarOpen(!sidebarOpen)}\r\n                    >\r\n                      {sidebarOpen ? <ChevronLeft className=\"w-5 h-5\" /> : <ChevronRight className=\"w-5 h-5\" />}\r\n                    </Button>\r\n                    <div>\r\n                      <h1 className=\"text-3xl font-bold text-foreground\">Create New Unit</h1>\r\n                      <p className=\"text-muted-foreground\">\r\n                        Add a new academic unit to the repository system\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Form Card */}\r\n              <Card className=\"animate-fade-in\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Building2 className=\"w-5 h-5\" />\r\n                    Unit Information\r\n                  </CardTitle>\r\n                  <CardDescription>\r\n                    Enter the details for the new academic unit. The unit code should be a short identifier\r\n                    (e.g., CAS for College of Arts and Sciences).\r\n                  </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <UnitForm\r\n                    onSubmit={handleFormSubmit}\r\n                    onCreated={handleUnitCreated}\r\n                    onCancel={handleCancel}\r\n                  />\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </ClientOnly>\r\n  );\r\n}","import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('Save', [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n]);\n\nexport default Save;\n"],"names":[],"mappings":"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","ignoreList":[3]}