{"version":3,"sources":["../../../../app/qpro/analysis/%5Bid%5D/page.tsx","../../../../components/qpro/kra-review-component.tsx","../../../../components/qpro/kpi-dashboard.tsx","../../../../components/qpro/qpro-analysis-detail.tsx","../../../../node_modules/lucide-react/src/icons/activity.ts","../../../../node_modules/lucide-react/src/icons/folder-open.ts","../../../../node_modules/lucide-react/src/icons/zap.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/lib/auth-context';\r\nimport { Navbar } from '@/components/navbar';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Loader2, ChevronLeft, AlertCircle } from 'lucide-react';\r\nimport QPROAnalysisDetail from '@/components/qpro/qpro-analysis-detail';\r\n\r\nexport default function AnalysisPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const { isAuthenticated, isLoading } = useAuth();\r\n\r\n  const analysisId = params.id as string;\r\n\r\n  // Redirect if not authenticated\r\n  useEffect(() => {\r\n    if (!isLoading && !isAuthenticated) {\r\n      router.push('/');\r\n    }\r\n  }, [isLoading, isAuthenticated, router]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"min-h-screen bg-background\">\r\n        {/* Header */}\r\n        <div className=\"border-b bg-card\">\r\n          <div className=\"container mx-auto px-4 py-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h1 className=\"text-3xl font-bold tracking-tight\">\r\n                QPRO Analysis Details\r\n              </h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Analysis Content */}\r\n        <div className=\"container mx-auto px-4 py-6\">\r\n          <div className=\"space-y-4\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              onClick={() => router.back()}\r\n              className=\"gap-2\"\r\n            >\r\n              <ChevronLeft className=\"w-4 h-4\" />\r\n              Back\r\n            </Button>\r\n\r\n            {analysisId ? (\r\n              <QPROAnalysisDetail analysisId={analysisId} />\r\n            ) : (\r\n              <Card>\r\n                <div className=\"flex items-start gap-3 p-6\">\r\n                  <AlertCircle className=\"w-5 h-5 text-red-600 shrink-0 mt-0.5\" />\r\n                  <div>\r\n                    <p className=\"font-medium text-red-900\">Invalid Analysis ID</p>\r\n                    <p className=\"text-sm text-red-700 mt-1\">\r\n                      No analysis ID was provided\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport {\r\n  CheckCircle,\r\n  FileText,\r\n  FolderOpen,\r\n} from 'lucide-react';\r\n\r\nexport interface KRAClassification {\r\n  id: string;\r\n  title: string;\r\n  count: number;\r\n  achievementRate: number;\r\n  strategicAlignment?: string;\r\n  kpiName?: string; // Optional: KPI name for display\r\n}\r\n\r\ninterface KRAReviewProps {\r\n  classifications: KRAClassification[];\r\n  isApproved?: boolean;\r\n}\r\n\r\n// Map KRA IDs to human-readable titles\r\nconst KRA_TITLES: { [key: string]: string } = {\r\n  'KRA 1': 'Development of New Curricula',\r\n  'KRA 2': 'Accreditation',\r\n  'KRA 3': 'Quality and Relevance of Instruction',\r\n  'KRA 4': 'International Activities',\r\n  'KRA 5': 'Research Outputs',\r\n  'KRA 6': 'Extension Programs',\r\n  'KRA 7': 'Community Partnerships',\r\n  'KRA 8': 'Technology Transfer',\r\n  'KRA 9': 'Revenue Generation',\r\n  'KRA 10': 'Resource Mobilization',\r\n  'KRA 11': 'Human Resource Management',\r\n  'KRA 12': 'Student Development',\r\n  'KRA 13': 'Health and Wellness',\r\n  'KRA 14': 'Environmental Sustainability',\r\n  'KRA 15': 'Quality Management',\r\n  'KRA 16': 'Governance',\r\n  'KRA 17': 'Digital Transformation',\r\n  'UNCLASSIFIED': 'Uncategorized Activities',\r\n};\r\n\r\nfunction getKRATitle(kraId: string, fallbackTitle?: string): string {\r\n  return KRA_TITLES[kraId] || fallbackTitle || kraId;\r\n}\r\n\r\n/**\r\n * KRA Classification Review Component\r\n * \r\n * PURPOSE: Document Inventory / Verification List\r\n * Shows WHAT was captured by the AI, not performance metrics.\r\n * \r\n * For performance metrics, see the KPI-Level Breakdown (Yellow Card).\r\n */\r\nexport default function KRAReviewComponent({ classifications, isApproved = false }: KRAReviewProps) {\r\n\r\n  // Map KRA ID to readable title\r\n  const mappedClassifications = classifications.map(kra => ({\r\n    ...kra,\r\n    title: getKRATitle(kra.id, kra.title)\r\n  }));\r\n\r\n  // Calculate total records found\r\n  const totalRecords = mappedClassifications.reduce((sum, kra) => sum + kra.count, 0);\r\n\r\n  return (\r\n    <Card className=\"border rounded-lg bg-white\">\r\n      <CardHeader className=\"pb-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <CardTitle className=\"flex items-center gap-2 text-base\">\r\n            <FolderOpen className=\"w-5 h-5 text-slate-600\" />\r\n            KRA Classification Review\r\n          </CardTitle>\r\n          <div className=\"flex items-center gap-2\">\r\n            {totalRecords > 0 && (\r\n              <Badge variant=\"secondary\" className=\"text-slate-600\">\r\n                {totalRecords} Total Records\r\n              </Badge>\r\n            )}\r\n            {isApproved && (\r\n              <Badge variant=\"outline\" className=\"text-green-600 border-green-600\">\r\n                <CheckCircle className=\"w-3 h-3 mr-1\" />\r\n                Verified\r\n              </Badge>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-2\">\r\n        {mappedClassifications.length === 0 ? (\r\n          <div className=\"text-center py-6 text-slate-500\">\r\n            <FileText className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\r\n            <p className=\"text-sm\">No KRA classifications found</p>\r\n          </div>\r\n        ) : (\r\n          mappedClassifications.map((kra) => (\r\n            <div\r\n              key={kra.id}\r\n              className=\"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-200 hover:bg-slate-100 transition-colors\"\r\n            >\r\n              {/* Left: KRA Name */}\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center\">\r\n                  <FileText className=\"w-4 h-4 text-slate-600\" />\r\n                </div>\r\n                <div className=\"flex flex-col\">\r\n                  <span className=\"font-medium text-sm text-slate-800\">{kra.title}</span>\r\n                  {kra.kpiName && (\r\n                    <span className=\"text-xs text-slate-500\">{kra.kpiName}</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Right: Data Inventory Count */}\r\n              <div className=\"text-right\">\r\n                <span className=\"block text-lg font-bold text-slate-900\">\r\n                  {kra.count}\r\n                </span>\r\n                <span className=\"text-[10px] uppercase text-slate-500 font-semibold tracking-wider\">\r\n                  {kra.count === 1 ? 'Record Found' : 'Records Found'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useMemo } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  ChevronDown,\r\n  ChevronUp,\r\n  TrendingUp,\r\n  Activity,\r\n  Target,\r\n  CheckCircle2,\r\n  AlertCircle,\r\n  Clock,\r\n} from 'lucide-react';\r\n\r\n// Types for KPI-level data\r\nexport interface KPIActivity {\r\n  title: string;\r\n  target: number;\r\n  reported: number;\r\n  achievement: number;\r\n  status: 'MET' | 'PARTIAL' | 'NOT_STARTED';\r\n  confidence: number;\r\n}\r\n\r\nexport interface KPIGroup {\r\n  kraId: string;\r\n  kraTitle: string;\r\n  kpiId: string;\r\n  kpiTitle: string;\r\n  activities: KPIActivity[];\r\n  totalTarget: number;\r\n  totalReported: number;\r\n  completionPercentage: number;\r\n  status: 'MET' | 'ON_TRACK' | 'PARTIAL' | 'NOT_STARTED';\r\n}\r\n\r\ninterface KPIDashboardProps {\r\n  kpiGroups: KPIGroup[];\r\n  selectedQuarter?: number;\r\n  selectedYear?: number;\r\n}\r\n\r\n// Status configuration\r\nconst STATUS_CONFIG = {\r\n  MET: {\r\n    color: 'bg-green-100',\r\n    textColor: 'text-green-900',\r\n    borderColor: 'border-green-300',\r\n    icon: CheckCircle2,\r\n    label: 'Target Met',\r\n    badgeClass: 'bg-green-600',\r\n  },\r\n  ON_TRACK: {\r\n    color: 'bg-blue-100',\r\n    textColor: 'text-blue-900',\r\n    borderColor: 'border-blue-300',\r\n    icon: TrendingUp,\r\n    label: 'On Track',\r\n    badgeClass: 'bg-blue-600',\r\n  },\r\n  PARTIAL: {\r\n    color: 'bg-yellow-100',\r\n    textColor: 'text-yellow-900',\r\n    borderColor: 'border-yellow-300',\r\n    icon: Clock,\r\n    label: 'Partial Progress',\r\n    badgeClass: 'bg-yellow-600',\r\n  },\r\n  NOT_STARTED: {\r\n    color: 'bg-red-100',\r\n    textColor: 'text-red-900',\r\n    borderColor: 'border-red-300',\r\n    icon: AlertCircle,\r\n    label: 'Not Started',\r\n    badgeClass: 'bg-red-600',\r\n  },\r\n};\r\n\r\n/**\r\n * Feature 1: KPI-Level Groupings with visual hierarchy\r\n */\r\nfunction KPIGroupCard({\r\n  kpi,\r\n  expanded,\r\n  onToggle,\r\n}: {\r\n  kpi: KPIGroup;\r\n  expanded: boolean;\r\n  onToggle: () => void;\r\n}) {\r\n  const statusConfig = STATUS_CONFIG[kpi.status];\r\n  const StatusIcon = statusConfig.icon;\r\n\r\n  return (\r\n    <Card className={`border-l-4 ${statusConfig.borderColor}`}>\r\n      <CardHeader className=\"pb-3 cursor-pointer\" onClick={onToggle}>\r\n        <div className=\"flex flex-col sm:flex-row sm:items-start gap-2 sm:gap-3 sm:justify-between\">\r\n          <div className=\"flex-1 min-w-0 pr-2\">\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mb-2\">\r\n              <h3 className=\"font-semibold text-sm sm:text-base text-slate-900 truncate\">\r\n                {kpi.kraId} - {kpi.kpiTitle}\r\n              </h3>\r\n              <Badge className={`${statusConfig.badgeClass} text-white shrink-0 whitespace-nowrap`}>\r\n                {statusConfig.label}\r\n              </Badge>\r\n            </div>\r\n            <p className=\"text-xs text-slate-600 line-clamp-1\">{kpi.kraTitle}</p>\r\n          </div>\r\n          <div className=\"shrink-0 flex items-center justify-end\">\r\n            {expanded ? (\r\n              <ChevronUp className=\"w-5 h-5 text-slate-400\" />\r\n            ) : (\r\n              <ChevronDown className=\"w-5 h-5 text-slate-400\" />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n\r\n      {/* Feature 2: Progress metrics visualization */}\r\n      <CardContent className=\"space-y-4 pt-4\">\r\n        {/* Progress bar and percentage */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2\">\r\n            <span className=\"text-sm font-medium text-slate-700\">Target Progress</span>\r\n            <span className={`text-2xl sm:text-2xl font-bold ${statusConfig.textColor}`}>\r\n              {kpi.completionPercentage}%\r\n            </span>\r\n          </div>\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center gap-2\">\r\n            <div className=\"flex-1 bg-slate-200 rounded-full h-3 overflow-hidden\">\r\n              <div\r\n                className={`h-full transition-all rounded-full ${statusConfig.badgeClass}`}\r\n                style={{ width: `${Math.min(kpi.completionPercentage, 100)}%` }}\r\n              />\r\n            </div>\r\n            <span className=\"text-xs text-slate-600 font-medium shrink-0\">\r\n              {(() => {\r\n                const isRate =\r\n                  Number.isFinite(kpi.totalTarget) &&\r\n                  Number.isFinite(kpi.totalReported) &&\r\n                  kpi.totalTarget > 0 &&\r\n                  kpi.totalTarget <= 100 &&\r\n                  kpi.totalReported >= 0 &&\r\n                  kpi.totalReported <= 100;\r\n\r\n                const reported = isRate ? `${kpi.totalReported.toFixed(2)}%` : String(kpi.totalReported);\r\n                const target = isRate ? `${kpi.totalTarget.toFixed(2)}%` : String(kpi.totalTarget);\r\n                const reportedNum = Number(kpi.totalReported);\r\n                const targetNum = Number(kpi.totalTarget);\r\n\r\n                // Hide the \"0/0\" shorthand when both reported and target are zero or invalid\r\n                if ((reportedNum === 0 || Number.isNaN(reportedNum)) && (targetNum === 0 || Number.isNaN(targetNum))) {\r\n                  return '';\r\n                }\r\n\r\n                return `${reported}/${target}`;\r\n              })()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Status indicator with detail */}\r\n        <div className={`p-3 rounded-lg ${statusConfig.color} border ${statusConfig.borderColor}`}>\r\n          <div className=\"flex items-start gap-3\">\r\n            <StatusIcon className=\"w-5 h-5 shrink-0 mt-0.5\" />\r\n            <div className=\"flex-1 min-w-0\">\r\n              <p className={`text-sm font-semibold ${statusConfig.textColor}`}>\r\n                {statusConfig.label}\r\n              </p>\r\n              <p className=\"text-xs text-slate-700 mt-0.5 wrap-break-word\">\r\n                {kpi.completionPercentage >= 100\r\n                  ? 'Target achieved'\r\n                  : `${100 - kpi.completionPercentage}% remaining`}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Expanded view: Feature 4 - Drill down to activities */}\r\n        {expanded && (\r\n          <div className=\"space-y-3 pt-3 border-t\">\r\n            <h4 className=\"text-sm font-semibold text-slate-900 flex items-center gap-2\">\r\n              <Activity className=\"w-4 h-4\" />\r\n              Activities ({kpi.activities.length})\r\n            </h4>\r\n            <div className=\"space-y-2 max-h-96 overflow-y-auto\">\r\n              {kpi.activities.map((activity, idx) => (\r\n                <div\r\n                  key={idx}\r\n                  className=\"p-3 bg-slate-50 rounded-lg border border-slate-200 hover:border-slate-300 transition-colors\"\r\n                >\r\n                  <div className=\"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-3\">\r\n                    <h5 className=\"text-sm font-medium text-slate-900 flex-1 min-w-0\">\r\n                      {activity.title}\r\n                    </h5>\r\n                    <Badge\r\n                      variant=\"outline\"\r\n                      className={`text-xs shrink-0 whitespace-nowrap ${\r\n                        activity.status === 'MET'\r\n                          ? 'bg-green-50 text-green-700 border-green-200'\r\n                          : activity.status === 'PARTIAL'\r\n                          ? 'bg-yellow-50 text-yellow-700 border-yellow-200'\r\n                          : 'bg-red-50 text-red-700 border-red-200'\r\n                      }`}\r\n                    >\r\n                      {activity.status}\r\n                    </Badge>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-3 gap-2 mb-3 text-xs\">\r\n                    <div className=\"bg-white p-2 rounded border border-slate-100\">\r\n                      <p className=\"text-slate-600 font-medium mb-0.5\">Target</p>\r\n                      <p className=\"font-semibold text-slate-900\">\r\n                        {activity.target}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"bg-white p-2 rounded border border-slate-100\">\r\n                      <p className=\"text-slate-600 font-medium mb-0.5\">Reported</p>\r\n                      <p className=\"font-semibold text-slate-900\">\r\n                        {activity.reported}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"bg-white p-2 rounded border border-slate-100\">\r\n                      <p className=\"text-slate-600 font-medium mb-0.5\">Achievement</p>\r\n                      <p className=\"font-semibold text-slate-900\">\r\n                        {activity.achievement}%\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-2 text-xs\">\r\n                      <span className=\"text-slate-600\">Progress</span>\r\n                      <span className=\"text-slate-600 shrink-0\">\r\n                        {(activity.confidence * 100).toFixed(0)}% confident\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex-1 bg-slate-300 rounded h-1.5 overflow-hidden\">\r\n                      <div\r\n                        className={`h-full rounded ${\r\n                          activity.status === 'MET'\r\n                            ? 'bg-green-600'\r\n                            : activity.status === 'PARTIAL'\r\n                            ? 'bg-yellow-600'\r\n                            : 'bg-red-600'\r\n                        }`}\r\n                        style={{ width: `${Math.min(activity.achievement, 100)}%` }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// REMOVED: Feature 5 - Quarter Comparison\r\n// This chart was removed to de-clutter the UI. Performance trends are visible in the KPI-Level Breakdown section.\r\n\r\n/**\r\n * Main KPI Dashboard Component\r\n * Combines all 5 features\r\n */\r\nexport default function KPIDashboard({\r\n  kpiGroups,\r\n  selectedQuarter,\r\n  selectedYear = 2025,\r\n}: KPIDashboardProps) {\r\n  const [expandedKPI, setExpandedKPI] = useState<string | null>(null);\r\n\r\n  // Calculate summary metrics\r\n  const summary = useMemo(() => {\r\n    const total = kpiGroups.length;\r\n    const met = kpiGroups.filter((k) => k.status === 'MET').length;\r\n    const onTrack = kpiGroups.filter((k) => k.status === 'ON_TRACK').length;\r\n    const partial = kpiGroups.filter((k) => k.status === 'PARTIAL').length;\r\n    const notStarted = kpiGroups.filter((k) => k.status === 'NOT_STARTED').length;\r\n    const avgCompletion =\r\n      kpiGroups.reduce((sum, k) => sum + k.completionPercentage, 0) / total;\r\n    const totalActivities = kpiGroups.reduce((sum, k) => sum + k.activities.length, 0);\r\n\r\n    return { total, met, onTrack, partial, notStarted, avgCompletion, totalActivities };\r\n  }, [kpiGroups]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Summary Header */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>KPI Performance Dashboard</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\r\n            <div className=\"p-3 bg-slate-50 rounded-lg\">\r\n              <p className=\"text-xs text-slate-600 uppercase font-semibold\">Total KPIs</p>\r\n              <p className=\"text-2xl font-bold text-slate-900 mt-1\">{summary.total}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-green-50 rounded-lg border border-green-200\">\r\n              <p className=\"text-xs text-green-700 uppercase font-semibold\">Met</p>\r\n              <p className=\"text-2xl font-bold text-green-900 mt-1\">{summary.met}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-blue-50 rounded-lg border border-blue-200\">\r\n              <p className=\"text-xs text-blue-700 uppercase font-semibold\">On Track</p>\r\n              <p className=\"text-2xl font-bold text-blue-900 mt-1\">{summary.onTrack}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-yellow-50 rounded-lg border border-yellow-200\">\r\n              <p className=\"text-xs text-yellow-700 uppercase font-semibold\">Partial</p>\r\n              <p className=\"text-2xl font-bold text-yellow-900 mt-1\">{summary.partial}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-red-50 rounded-lg border border-red-200\">\r\n              <p className=\"text-xs text-red-700 uppercase font-semibold\">Not Started</p>\r\n              <p className=\"text-2xl font-bold text-red-900 mt-1\">{summary.notStarted}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-purple-50 rounded-lg border border-purple-200\">\r\n              <p className=\"text-xs text-purple-700 uppercase font-semibold\">Avg Completion</p>\r\n              <p className=\"text-2xl font-bold text-purple-900 mt-1\">\r\n                {summary.avgCompletion.toFixed(0)}%\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Feature 1: KPI Groups with Feature 3 & 4 */}\r\n      <div className=\"space-y-3\">\r\n        <h2 className=\"text-lg font-semibold text-slate-900 px-1\">\r\n          KPI-Level Breakdown\r\n        </h2>\r\n        {kpiGroups.map((kpi) => (\r\n          <KPIGroupCard\r\n            key={kpi.kpiId}\r\n            kpi={kpi}\r\n            expanded={expandedKPI === kpi.kpiId}\r\n            onToggle={() =>\r\n              setExpandedKPI(expandedKPI === kpi.kpiId ? null : kpi.kpiId)\r\n            }\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Label } from '@/components/ui/label';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select';\r\nimport { Loader2, AlertCircle, BookOpen, Zap, BarChart3, Lightbulb, AlertTriangle, Target, Clock, CheckCircle2, Edit2, RefreshCw, TrendingUp } from 'lucide-react';\r\nimport KRAReviewComponent, { KRAClassification } from './kra-review-component';\r\nimport RecommendationsDisplay, { Recommendation } from './recommendations-display';\r\nimport KPIDashboard, { KPIGroup, KPIActivity } from './kpi-dashboard';\r\nimport AuthService from '@/lib/services/auth-service';\r\nimport ReactMarkdown from 'react-markdown';\r\n\r\n// Helper function to safely render prescriptive analysis items\r\n// Handles strings, objects with action/timeline fields, and arrays\r\n// Renders arrays as proper bullet lists for professional formatting\r\nfunction renderPrescriptiveItem(item: any): React.ReactNode {\r\n  if (!item) return null;\r\n  \r\n  if (typeof item === 'string') {\r\n    // Try to parse JSON strings\r\n    try {\r\n      const parsed = JSON.parse(item);\r\n      return renderPrescriptiveItem(parsed);\r\n    } catch {\r\n      // Clean up markdown artifacts\r\n      return item\r\n        .replace(/^#{1,3}\\s+/gm, '')\r\n        .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\r\n        .replace(/\\*([^*]+)\\*/g, '$1')\r\n        .replace(/^\\[\"|\"\\]$/g, '')\r\n        .trim();\r\n    }\r\n  }\r\n  \r\n  // Handle arrays - render as bullet list\r\n  if (Array.isArray(item)) {\r\n    if (item.length === 0) return null;\r\n    return (\r\n      <ul className=\"list-disc list-inside space-y-1 mt-1\">\r\n        {item.map((subItem, idx) => {\r\n          let content = '';\r\n          if (typeof subItem === 'string') {\r\n            content = subItem.replace(/^#{1,3}\\s+/gm, '').replace(/\\*\\*([^*]+)\\*\\*/g, '$1').trim();\r\n          } else if (subItem?.action) {\r\n            content = `${subItem.action}${subItem.timeline ? ` (${subItem.timeline})` : ''}`;\r\n          } else if (subItem?.recommendation) {\r\n            content = subItem.recommendation;\r\n          } else if (typeof subItem === 'object') {\r\n            content = JSON.stringify(subItem);\r\n          } else {\r\n            content = String(subItem);\r\n          }\r\n          return <li key={idx} className=\"text-sm text-slate-700\">{content}</li>;\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n  \r\n  if (typeof item === 'object' && item !== null) {\r\n    if (item.action) {\r\n      return `${item.action}${item.timeline ? ` (${item.timeline})` : ''}`;\r\n    }\r\n    if (item.recommendation) {\r\n      return item.recommendation;\r\n    }\r\n    return JSON.stringify(item);\r\n  }\r\n  return String(item);\r\n}\r\n\r\n// Parse JSON string or array into structured action items\r\nfunction parseRecommendations(value: any): Array<{action: string; timeline?: string; priority?: string}> {\r\n  if (!value) return [];\r\n  \r\n  // Already an array\r\n  if (Array.isArray(value)) {\r\n    return value.map((item: any) => {\r\n      if (typeof item === 'string') {\r\n        return { action: item };\r\n      }\r\n      if (typeof item === 'object' && item !== null) {\r\n        return {\r\n          action: item.action || item.recommendation || JSON.stringify(item),\r\n          timeline: item.timeline || item.deadline,\r\n          priority: item.priority\r\n        };\r\n      }\r\n      return { action: String(item) };\r\n    });\r\n  }\r\n  \r\n  // Try to parse as JSON string\r\n  if (typeof value === 'string') {\r\n    try {\r\n      const parsed = JSON.parse(value);\r\n      return parseRecommendations(parsed);\r\n    } catch {\r\n      // Split by newlines or bullet points if plain text\r\n      const lines = value.split(/\\n|•|\\.(?=\\s*[A-Z])/).filter((l: string) => l.trim());\r\n      return lines.map((line: string) => ({ action: line.trim() }));\r\n    }\r\n  }\r\n  \r\n  // Single object\r\n  if (typeof value === 'object' && value !== null) {\r\n    return [{\r\n      action: value.action || value.recommendation || JSON.stringify(value),\r\n      timeline: value.timeline,\r\n      priority: value.priority\r\n    }];\r\n  }\r\n  \r\n  return [{ action: String(value) }];\r\n}\r\n\r\n// Parse and safely extract prescriptive analysis data from various formats\r\n// Handles cases where data might be a dictionary with keys like 'a', 'b', 'c', 'd', 'KRA 1', etc.\r\nfunction extractPrescriptiveValue(data: any): string | null {\r\n  if (!data) return null;\r\n  \r\n  // If it's already a string, return it\r\n  if (typeof data === 'string') return data;\r\n  \r\n  // If it's an object, check for common value fields\r\n  if (typeof data === 'object') {\r\n    // If it's a direct value object (not a wrapper dict)\r\n    if (data.recommendations || data.content || data.analysis || data.text) {\r\n      return data.recommendations || data.content || data.analysis || data.text;\r\n    }\r\n    \r\n    // If it's a dictionary with keys, extract the first/best value\r\n    const keys = Object.keys(data);\r\n    if (keys.length === 0) return null;\r\n    \r\n    // Skip single-letter keys that might indicate a bug (a, b, c, d)\r\n    const valueKey = keys.find(k => k.length > 1) || keys[0];\r\n    const value = data[valueKey];\r\n    \r\n    // Recursively extract if the value is also an object\r\n    if (typeof value === 'object' && value !== null) {\r\n      if (value.recommendations || value.content || value.analysis) {\r\n        return value.recommendations || value.content || value.analysis;\r\n      }\r\n      return JSON.stringify(value);\r\n    }\r\n    \r\n    return String(value);\r\n  }\r\n  \r\n  return null;\r\n}\r\n\r\n// Get status styling based on achievement percentage\r\nfunction getAchievementStatus(achievement: number): {\r\n  level: 'critical' | 'warning' | 'success'; \r\n  label: string; \r\n  bgColor: string; \r\n  textColor: string;\r\n  borderColor: string;\r\n} {\r\n  if (achievement < 50) {\r\n    return {\r\n      level: 'critical',\r\n      label: 'CRITICAL ALERT',\r\n      bgColor: 'bg-red-100',\r\n      textColor: 'text-red-900',\r\n      borderColor: 'border-red-500'\r\n    };\r\n  }\r\n  if (achievement < 80) {\r\n    return {\r\n      level: 'warning',\r\n      label: 'NEEDS ATTENTION',\r\n      bgColor: 'bg-amber-100',\r\n      textColor: 'text-amber-900',\r\n      borderColor: 'border-amber-500'\r\n    };\r\n  }\r\n  return {\r\n    level: 'success',\r\n    label: 'ON TRACK',\r\n    bgColor: 'bg-green-100',\r\n    textColor: 'text-green-900',\r\n    borderColor: 'border-green-500'\r\n  };\r\n}\r\n\r\n// Get priority badge color\r\nfunction getPriorityColor(priority?: string): string {\r\n  switch (priority?.toLowerCase()) {\r\n    case 'high':\r\n    case 'critical':\r\n      return 'bg-red-500 text-white';\r\n    case 'medium':\r\n      return 'bg-amber-500 text-white';\r\n    case 'low':\r\n      return 'bg-blue-500 text-white';\r\n    default:\r\n      return 'bg-gray-500 text-white';\r\n  }\r\n}\r\n\r\n// Format markdown text by removing raw markdown characters and converting to proper text\r\n// Handles strings, objects, arrays safely - prevents \"text.replace is not a function\" errors\r\nfunction formatMarkdownText(text: any): string {\r\n  if (!text) return '';\r\n  \r\n  // Handle non-string types first\r\n  if (typeof text !== 'string') {\r\n    // If it's an array, join items with newlines\r\n    if (Array.isArray(text)) {\r\n      return text.map((item: any) => formatMarkdownText(item)).join('\\n');\r\n    }\r\n    // If it's an object with action/recommendation field\r\n    if (typeof text === 'object') {\r\n      if (text.action) {\r\n        return `${text.action}${text.timeline ? ` (${text.timeline})` : ''}`;\r\n      }\r\n      if (text.recommendation) {\r\n        return text.recommendation;\r\n      }\r\n      // Fallback - try to stringify\r\n      try {\r\n        return JSON.stringify(text);\r\n      } catch {\r\n        return String(text);\r\n      }\r\n    }\r\n    // Convert to string for other types\r\n    return String(text);\r\n  }\r\n  \r\n  // Now we know text is a string\r\n  let formatted = text;\r\n  \r\n  // Try to parse JSON strings\r\n  try {\r\n    const parsed = JSON.parse(formatted);\r\n    if (Array.isArray(parsed)) {\r\n      // Return as bulleted list\r\n      return parsed.map((item: any) => {\r\n        if (typeof item === 'string') return item;\r\n        if (item?.action) return item.action;\r\n        if (item?.recommendation) return item.recommendation;\r\n        return String(item);\r\n      }).join('\\n• ');\r\n    }\r\n    if (typeof parsed === 'object' && parsed !== null) {\r\n      if (parsed.action) return parsed.action;\r\n      if (parsed.recommendation) return parsed.recommendation;\r\n    }\r\n  } catch {\r\n    // Not JSON, continue with string processing\r\n  }\r\n  \r\n  // Remove markdown headers (###, ##, #)\r\n  formatted = formatted.replace(/^#{1,3}\\s+/gm, '');\r\n  \r\n  // Remove bold/italic markers (**text** or *text*)\r\n  formatted = formatted.replace(/\\*\\*([^*]+)\\*\\*/g, '$1');\r\n  formatted = formatted.replace(/\\*([^*]+)\\*/g, '$1');\r\n  \r\n  // Remove JSON array brackets and quotes\r\n  formatted = formatted.replace(/^\\[\"|\"\\]$/g, '');\r\n  formatted = formatted.replace(/\",\"/g, ', ');\r\n  \r\n  return formatted.trim();\r\n}\r\n\r\n// Render formatted text with proper list formatting\r\nfunction renderFormattedText(text: string): React.ReactNode {\r\n  if (!text) return null;\r\n  \r\n  // Split by lines\r\n  const lines = text.split('\\n').filter(line => line.trim());\r\n  \r\n  const elements: React.ReactNode[] = [];\r\n  let currentList: string[] = [];\r\n  let listType: 'bullet' | 'numbered' | null = null;\r\n  \r\n  const flushList = () => {\r\n    if (currentList.length > 0) {\r\n      if (listType === 'numbered') {\r\n        elements.push(\r\n          <ol key={`ol-${elements.length}`} className=\"list-decimal list-inside space-y-1 ml-2\">\r\n            {currentList.map((item, idx) => (\r\n              <li key={idx}>{formatMarkdownText(item)}</li>\r\n            ))}\r\n          </ol>\r\n        );\r\n      } else {\r\n        elements.push(\r\n          <ul key={`ul-${elements.length}`} className=\"list-disc list-inside space-y-1 ml-2\">\r\n            {currentList.map((item, idx) => (\r\n              <li key={idx}>{formatMarkdownText(item)}</li>\r\n            ))}\r\n          </ul>\r\n        );\r\n      }\r\n      currentList = [];\r\n      listType = null;\r\n    }\r\n  };\r\n  \r\n  lines.forEach((line, idx) => {\r\n    const trimmedLine = line.trim();\r\n    \r\n    // Check for markdown headers\r\n    if (trimmedLine.startsWith('###') || trimmedLine.startsWith('##') || trimmedLine.startsWith('#')) {\r\n      flushList();\r\n      const headerText = trimmedLine.replace(/^#{1,3}\\s+/, '');\r\n      elements.push(\r\n        <p key={`h-${idx}`} className=\"font-semibold mt-3 first:mt-0\">{formatMarkdownText(headerText)}</p>\r\n      );\r\n      return;\r\n    }\r\n    \r\n    // Check for numbered list items (1. 2. etc)\r\n    const numberedMatch = trimmedLine.match(/^\\d+\\.\\s+(.+)/);\r\n    if (numberedMatch) {\r\n      if (listType !== 'numbered') {\r\n        flushList();\r\n        listType = 'numbered';\r\n      }\r\n      currentList.push(numberedMatch[1]);\r\n      return;\r\n    }\r\n    \r\n    // Check for bullet items (- or *)\r\n    const bulletMatch = trimmedLine.match(/^[-*]\\s+(.+)/);\r\n    if (bulletMatch) {\r\n      if (listType !== 'bullet') {\r\n        flushList();\r\n        listType = 'bullet';\r\n      }\r\n      currentList.push(bulletMatch[1]);\r\n      return;\r\n    }\r\n    \r\n    // Regular paragraph\r\n    flushList();\r\n    if (trimmedLine) {\r\n      elements.push(\r\n        <p key={`p-${idx}`} className=\"mb-2 last:mb-0\">{formatMarkdownText(trimmedLine)}</p>\r\n      );\r\n    }\r\n  });\r\n  \r\n  flushList();\r\n  \r\n  return <div className=\"space-y-2\">{elements}</div>;\r\n}\r\n\r\nexport interface ExtractedSection {\r\n  title: string;\r\n  type: string;\r\n  activities: string[];\r\n}\r\n\r\nexport interface PrescriptiveAnalysisData {\r\n  documentInsight?: string;\r\n  prescriptiveAnalysis?: string;\r\n  prescriptiveItems?: PrescriptiveItem[];\r\n  recommendations?: string;\r\n  root_cause?: string;\r\n  gaps?: string;\r\n  action_items?: string[];\r\n  summary?: {\r\n    year?: number;\r\n    totalActivities?: number;\r\n    metCount?: number;\r\n    missedCount?: number;\r\n    overallAchievement?: number;\r\n  };\r\n}\r\n\r\nexport interface PrescriptiveItem {\r\n  title: string;\r\n  issue: string;\r\n  action: string;\r\n  nextStep?: string;\r\n}\r\n\r\nfunction parsePrescriptiveTextToItems(text: string): PrescriptiveItem[] {\r\n  if (typeof text !== 'string') return [];\r\n  const raw = text.replace(/\\r\\n/g, '\\n').trim();\r\n  if (!raw) return [];\r\n\r\n  const lines = raw.split('\\n');\r\n  const items: PrescriptiveItem[] = [];\r\n  let current: Partial<PrescriptiveItem> | null = null;\r\n\r\n  const pushCurrent = () => {\r\n    if (!current) return;\r\n    const title = String(current.title || '').trim();\r\n    const issue = String(current.issue || '').trim();\r\n    const action = String(current.action || '').trim();\r\n    const nextStep = current.nextStep ? String(current.nextStep).trim() : undefined;\r\n    if (title && issue && action) items.push({ title, issue, action, nextStep });\r\n    current = null;\r\n  };\r\n\r\n  for (const line of lines) {\r\n    const trimmed = line.trim();\r\n    if (!trimmed) continue;\r\n\r\n    const headerMatch = trimmed.match(/^\\d+\\.\\s+(.*)$/);\r\n    if (headerMatch) {\r\n      pushCurrent();\r\n      current = { title: headerMatch[1].trim() };\r\n      continue;\r\n    }\r\n\r\n    const fieldMatch = trimmed.match(/^(?:-\\s*)?(Issue|Action|Next\\s*Step)\\s*:\\s*(.*)$/i);\r\n    if (fieldMatch && current) {\r\n      const key = fieldMatch[1].toLowerCase().replace(/\\s+/g, '');\r\n      const value = fieldMatch[2].trim();\r\n      if (key === 'issue') current.issue = value;\r\n      if (key === 'action') current.action = value;\r\n      if (key === 'nextstep') current.nextStep = value;\r\n      continue;\r\n    }\r\n  }\r\n\r\n  pushCurrent();\r\n  return items;\r\n}\r\n\r\nexport interface OrganizedActivity {\r\n  kraId: string;\r\n  kraTitle: string;\r\n  kpiId?: string;\r\n  kpiTitle?: string;\r\n  activities: Array<{\r\n    title: string;\r\n    target?: number;\r\n    reported?: number;\r\n    achievement?: number;\r\n    status?: string;\r\n    confidence?: number;\r\n    description?: string;\r\n    date?: string;\r\n    unit?: string;\r\n    aiInsight?: string;\r\n    prescriptiveAnalysis?: string;\r\n    rootCause?: string;\r\n  }>;\r\n  activityCount: number;\r\n  completionPercentage: number;\r\n  totalTarget?: number;\r\n  totalReported?: number;\r\n  status?: string;\r\n}\r\n\r\nexport interface AchievementMetric {\r\n  overallScore: number;\r\n  completeness: number;\r\n  currentState: string;\r\n  targetState: string;\r\n}\r\n\r\nexport interface QPROAnalysisDetail {\r\n  id: string;\r\n  title: string;\r\n  extractedSections: ExtractedSection[];\r\n  kraClassifications: KRAClassification[];\r\n  organizedActivities: OrganizedActivity[];\r\n  insights: string[];\r\n  recommendations: Recommendation[];\r\n  achievementMetrics: AchievementMetric;\r\n  uploadedDate: string;\r\n  status: 'PENDING' | 'COMPLETED' | 'FAILED' | 'APPROVED' | 'DRAFT';\r\n  prescriptiveAnalysis?: PrescriptiveAnalysisData | any;\r\n  alignment?: string;\r\n  opportunities?: string;\r\n  gaps?: string;\r\n}\r\n\r\n// Map KRA IDs to human-readable titles\r\nconst KRA_TITLES: { [key: string]: string } = {\r\n  'KRA 1': 'Development of New Curricula',\r\n  'KRA 2': 'Accreditation',\r\n  'KRA 3': 'Quality and Relevance of Instruction',\r\n  'KRA 4': 'International Activities',\r\n  'KRA 5': 'Research Outputs',\r\n  'KRA 6': 'Extension Programs',\r\n  'KRA 7': 'Community Partnerships',\r\n  'KRA 8': 'Technology Transfer',\r\n  'KRA 9': 'Revenue Generation',\r\n  'KRA 10': 'Resource Mobilization',\r\n  'KRA 11': 'Human Resource Management',\r\n  'KRA 12': 'Student Development',\r\n  'KRA 13': 'Health and Wellness',\r\n  'KRA 14': 'Environmental Sustainability',\r\n  'KRA 15': 'Quality Management',\r\n  'KRA 16': 'Governance',\r\n  'KRA 17': 'Digital Transformation',\r\n  'UNCLASSIFIED': 'Uncategorized Activities',\r\n};\r\n\r\nfunction getKRADisplayTitle(kraId: string, fallbackTitle?: string): string {\r\n  return KRA_TITLES[kraId] || fallbackTitle || kraId;\r\n}\r\n\r\n// Available KRAs for manual mapping (from LSPU Strategic Plan)\r\nconst AVAILABLE_KRAS = [\r\n  { id: 'KRA 1', title: 'Development of New Curricula Incorporating Emerging Technologies' },\r\n  { id: 'KRA 2', title: 'Market-Driven Program Design and Implementation' },\r\n  { id: 'KRA 3', title: 'Quality and Relevance of Instruction' },\r\n  { id: 'KRA 4', title: 'College and Office International Activities and Projects' },\r\n  { id: 'KRA 5', title: 'Research, Extension, and Innovation Productivity' },\r\n  { id: 'KRA 6', title: 'Research, Extension, and Innovation Linkages' },\r\n  { id: 'KRA 7', title: 'Research, Extension, and Innovation Resources' },\r\n  { id: 'KRA 8', title: 'Service to the Community' },\r\n  { id: 'KRA 9', title: 'Implementation of Sustainable Governance' },\r\n  { id: 'KRA 10', title: 'Transforming into Green University' },\r\n  { id: 'KRA 11', title: 'Judicious Management of Human Resources' },\r\n  { id: 'KRA 12', title: 'Internationalized/Global University Stakeholders' },\r\n  { id: 'KRA 13', title: 'Competitive Human Resources' },\r\n  { id: 'KRA 14', title: 'Improved Satisfaction Rating of the Students, Faculty, and Personnel of the University' },\r\n  { id: 'KRA 15', title: 'Certification and Compliance to Regulatory Requirements' },\r\n  { id: 'KRA 16', title: 'Updating of Learning Materials and Facilities' },\r\n  { id: 'KRA 17', title: 'Digital Transformation and Smart Campus Enablement' },\r\n  { id: 'KRA 18', title: 'Risk Management and Compliance' },\r\n  { id: 'KRA 19', title: 'Revenue Growth and Operational Efficiency' },\r\n  { id: 'KRA 20', title: 'Related IGP Industry Engagement' },\r\n  { id: 'KRA 21', title: 'Responsive Management of Resources' },\r\n  { id: 'KRA 22', title: 'Management of Financial Resources' },\r\n];\r\n\r\ninterface QPROAnalysisDetailProps {\r\n  analysisId: string;\r\n}\r\n\r\nexport default function QPROAnalysisDetail({\r\n  analysisId,\r\n}: QPROAnalysisDetailProps) {\r\n  const { toast } = useToast();\r\n  const [analysis, setAnalysis] = useState<QPROAnalysisDetail | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [editedKRAs, setEditedKRAs] = useState<{ [key: string]: string }>({});\r\n  const [changedActivityIds, setChangedActivityIds] = useState<Set<string>>(new Set());\r\n  const [isRegenerating, setIsRegenerating] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const loadAnalysis = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        setError(null);\r\n\r\n        // Get authentication token\r\n        const token = await AuthService.getAccessToken();\r\n        if (!token) {\r\n          throw new Error('Authentication required. Please log in again.');\r\n        }\r\n\r\n        const response = await fetch(`/api/qpro/analyses/${analysisId}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to load analysis');\r\n        }\r\n\r\n        const data = await response.json();\r\n        setAnalysis(data);\r\n      } catch (err) {\r\n        const message = err instanceof Error ? err.message : 'Failed to load analysis';\r\n        setError(message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    if (analysisId) {\r\n      loadAnalysis();\r\n    }\r\n  }, [analysisId]);\r\n\r\n  // Handle KRA change for an activity\r\n  const handleKRAChange = (activityId: string, newKraId: string) => {\r\n    setEditedKRAs((prev) => ({\r\n      ...prev,\r\n      [activityId]: newKraId,\r\n    }));\r\n    \r\n    setChangedActivityIds((prev) => {\r\n      const updated = new Set(prev);\r\n      updated.add(activityId);\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  // Regenerate insights for activities with changed KRAs\r\n  const handleRegenerateInsights = async () => {\r\n    if (changedActivityIds.size === 0) {\r\n      setError('No KRA changes to regenerate');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsRegenerating(true);\r\n      setError(null);\r\n      \r\n      // Show toast notification that regeneration has started\r\n      toast({\r\n        title: 'Regenerating Insights',\r\n        description: `Analyzing ${changedActivityIds.size} activities with corrected KPI types...`,\r\n        duration: 3000,\r\n      });\r\n\r\n      const token = await AuthService.getAccessToken();\r\n      if (!token) {\r\n        throw new Error('Authentication required');\r\n      }\r\n\r\n      // Get activities with changed KRAs\r\n      const activitiesToRegenerate = analysis!.organizedActivities.flatMap((org) =>\r\n        (org.activities || []).map((act, idx) => ({\r\n          ...act,\r\n          name: act.title || `Activity ${idx}`,\r\n          kraId: editedKRAs[`${org.kraId}-${idx}`] || org.kraId,\r\n          index: idx,\r\n        }))\r\n      ).filter((act) => changedActivityIds.has(`${act.kraId}-${act.index}`));\r\n\r\n      // Call API to regenerate insights\r\n      const response = await fetch(`/api/qpro/regenerate-insights`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          analysisId,\r\n          activities: activitiesToRegenerate,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to regenerate insights');\r\n      }\r\n\r\n      const regeneratedData = await response.json();\r\n\r\n      // Update analysis with new insights\r\n      setAnalysis((prev) => {\r\n        if (!prev) return prev;\r\n        const updated = { ...prev };\r\n        \r\n        // Update activities with regenerated insights, target, achievement, and status\r\n        regeneratedData.activities.forEach((regenerated: any) => {\r\n          // Find and update the matching activity\r\n          updated.organizedActivities = updated.organizedActivities.map((org) => ({\r\n            ...org,\r\n            activities: (org.activities || []).map((act) =>\r\n              act.title === regenerated.name\r\n                ? { \r\n                    ...act,\r\n                    target: regenerated.target !== undefined ? regenerated.target : act.target,\r\n                    achievement: regenerated.achievement !== undefined ? regenerated.achievement : act.achievement,\r\n                    status: regenerated.status || act.status,\r\n                    aiInsight: regenerated.aiInsight,\r\n                    prescriptiveAnalysis: regenerated.prescriptiveAnalysis \r\n                  }\r\n                : act\r\n            ),\r\n          }));\r\n        });\r\n        \r\n        // Recalculate kraClassifications based on updated activities\r\n        const kraClassificationsMap: { [key: string]: { id: string; title: string; count: number; achievements: number[] } } = {};\r\n        \r\n        updated.organizedActivities.forEach((org) => {\r\n          if (!kraClassificationsMap[org.kraId]) {\r\n            kraClassificationsMap[org.kraId] = {\r\n              id: org.kraId,\r\n              title: org.kraTitle,\r\n              count: 0,\r\n              achievements: [],\r\n            };\r\n          }\r\n          \r\n          (org.activities || []).forEach((act) => {\r\n            kraClassificationsMap[org.kraId].count += 1;\r\n            if (act.achievement !== undefined && act.achievement !== null) {\r\n              kraClassificationsMap[org.kraId].achievements.push(act.achievement);\r\n            }\r\n          });\r\n        });\r\n        \r\n        // Convert map to array and calculate achievement rates\r\n        updated.kraClassifications = Object.values(kraClassificationsMap).map((kra) => ({\r\n          id: kra.id,\r\n          title: kra.title,\r\n          count: kra.count,\r\n          achievementRate: kra.achievements.length > 0\r\n            ? kra.achievements.reduce((a, b) => a + b, 0) / kra.achievements.length\r\n            : 0,\r\n          strategicAlignment: '',\r\n        }));\r\n        \r\n        return updated;\r\n      });\r\n\r\n      // Clear the changed activity IDs\r\n      setChangedActivityIds(new Set());\r\n      setEditedKRAs({});\r\n      \r\n      // Show success toast\r\n      toast({\r\n        title: 'Insights Regenerated',\r\n        description: 'Fresh analysis generated with updated KPI classifications.',\r\n        duration: 3000,\r\n      });\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to regenerate insights');\r\n    } finally {\r\n      setIsRegenerating(false);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"flex items-center justify-center py-12\">\r\n          <Loader2 className=\"w-5 h-5 animate-spin text-slate-400\" />\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"flex items-start gap-3 py-6\">\r\n          <AlertCircle className=\"w-5 h-5 text-red-600 shrink-0 mt-0.5\" />\r\n          <div>\r\n            <p className=\"font-medium text-red-900\">Failed to load analysis</p>\r\n            <p className=\"text-sm text-red-700 mt-1\">{error}</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (!analysis) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"text-center py-12 text-slate-600\">\r\n          No analysis data available\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (analysis.status === 'PENDING') {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"flex flex-col items-center justify-center py-12 gap-3\">\r\n          <Loader2 className=\"w-8 h-8 animate-spin text-blue-600\" />\r\n          <p className=\"font-medium text-slate-900\">Analyzing document...</p>\r\n          <p className=\"text-sm text-slate-600\">\r\n            This may take a few minutes. Please wait.\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (analysis.status === 'FAILED') {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"flex items-start gap-3 py-6\">\r\n          <AlertCircle className=\"w-5 h-5 text-red-600 shrink-0 mt-0.5\" />\r\n          <div>\r\n            <p className=\"font-medium text-red-900\">Analysis failed</p>\r\n            <p className=\"text-sm text-red-700 mt-1\">\r\n              Could not process the document. Please try again.\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Convert organizedActivities to KPIGroups for the dashboard\r\n  const kpiGroups: KPIGroup[] = analysis.organizedActivities\r\n    .filter((org) => org.kpiId) // Only include activities with KPI data\r\n    .map((org) => ({\r\n      kraId: org.kraId,\r\n      kraTitle: org.kraTitle,\r\n      kpiId: org.kpiId || '',\r\n      kpiTitle: org.kpiTitle || '',\r\n      activities: (org.activities || []).map((act) => ({\r\n        title: act.title || 'Unnamed',\r\n        target: act.target || 0,\r\n        reported: act.reported || 0,\r\n        achievement: act.achievement || 0,\r\n        status: (act.status as 'MET' | 'PARTIAL' | 'NOT_STARTED') || 'NOT_STARTED',\r\n        confidence: act.confidence || 0.5,\r\n      })),\r\n      totalTarget: org.totalTarget || 0,\r\n      totalReported: org.totalReported || 0,\r\n      completionPercentage: org.completionPercentage || 0,\r\n      status: (org.status as 'MET' | 'ON_TRACK' | 'PARTIAL' | 'NOT_STARTED') || 'NOT_STARTED',\r\n    }));\r\n\r\n  const hasKPIData = kpiGroups.length > 0;\r\n  \r\n  // FIX: Flatten all activities from organizedActivities for Stage 3 display\r\n  // This ensures activities are shown even when KPI data is not available\r\n  const allFlattenedActivities = analysis.organizedActivities.flatMap((org) => \r\n    (org.activities || []).map((act) => ({\r\n      ...act,\r\n      kraId: org.kraId,\r\n      kraTitle: org.kraTitle,\r\n    }))\r\n  );\r\n  \r\n  // Check if we have any organized activities to show\r\n  const hasOrganizedActivities = analysis.organizedActivities.length > 0 && allFlattenedActivities.length > 0;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex items-start justify-between\">\r\n            <div className=\"flex-1\">\r\n              <CardTitle className=\"text-2xl\">{analysis.title}</CardTitle>\r\n              <p className=\"text-sm text-slate-600 mt-1\">\r\n                Uploaded{' '}\r\n                {new Date(analysis.uploadedDate).toLocaleDateString('en-US', {\r\n                  month: 'short',\r\n                  day: 'numeric',\r\n                  year: 'numeric',\r\n                })}\r\n              </p>\r\n            </div>\r\n            <Badge className=\"bg-green-100 text-green-800\">\r\n              {analysis.status}\r\n            </Badge>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"grid grid-cols-3 gap-4\">\r\n          <div className=\"p-4 bg-slate-50 rounded-lg\">\r\n            <p className=\"text-xs text-slate-600 uppercase font-semibold\">\r\n              Overall Score\r\n            </p>\r\n            <p className=\"text-3xl font-bold text-slate-900 mt-1\">\r\n              {analysis.achievementMetrics.overallScore}%\r\n            </p>\r\n          </div>\r\n          <div className=\"p-4 bg-slate-50 rounded-lg\">\r\n            <p className=\"text-xs text-slate-600 uppercase font-semibold\">\r\n              Data Completeness\r\n            </p>\r\n            <p className=\"text-3xl font-bold text-slate-900 mt-1\">\r\n              {analysis.achievementMetrics.completeness}%\r\n            </p>\r\n          </div>\r\n          <div className=\"p-4 bg-slate-50 rounded-lg\">\r\n            <p className=\"text-xs text-slate-600 uppercase font-semibold\">\r\n              KRAs Covered\r\n            </p>\r\n            <p className=\"text-3xl font-bold text-slate-900 mt-1\">\r\n              {analysis.kraClassifications.length}\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Feature: KPI Dashboard (all 5 features integrated) */}\r\n      {hasKPIData && (\r\n        <>\r\n          <KPIDashboard\r\n            kpiGroups={kpiGroups}\r\n            selectedYear={Number((analysis as any)?.year) || new Date().getFullYear()}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      {/* Fallback: Stage 1 for non-KPI data */}\r\n      {!hasKPIData && (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2 text-lg\">\r\n              <BookOpen className=\"w-5 h-5\" />\r\n              Stage 1: Content Segmentation\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            {analysis.extractedSections.length === 0 ? (\r\n              <p className=\"text-slate-600 text-sm\">No sections extracted</p>\r\n            ) : (\r\n              analysis.extractedSections.map((section, idx) => (\r\n                <div key={idx} className=\"p-4 bg-slate-50 rounded-lg\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <h4 className=\"font-semibold text-slate-900\">\r\n                      {section.title || section.type || 'Unnamed Section'}\r\n                    </h4>\r\n                    <Badge variant=\"outline\">{section.type}</Badge>\r\n                  </div>\r\n                  <div className=\"text-sm text-slate-700 space-y-1\">\r\n                    {section.activities && Array.isArray(section.activities) && section.activities.length > 0 ? (\r\n                      <>\r\n                        {section.activities.map((activity, i) => (\r\n                          <p key={i} className=\"text-slate-600\">\r\n                            • {activity}\r\n                          </p>\r\n                        ))}\r\n                      </>\r\n                    ) : (\r\n                      <p className=\"text-slate-500 italic\">No activities in this section</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Stage 2: KRA Classification Review */}\r\n      {analysis.kraClassifications.length > 0 && (\r\n        <KRAReviewComponent\r\n          classifications={analysis.kraClassifications}\r\n          isApproved={analysis.status === 'APPROVED' || analysis.status === 'COMPLETED'}\r\n        />\r\n      )}\r\n\r\n      {/* Stage 3: Organized Activities (non-KPI view) */}\r\n      {!hasKPIData && (\r\n        <Card>\r\n          <CardHeader>\r\n            <div className=\"flex items-center justify-between\">\r\n              <CardTitle className=\"flex items-center gap-2 text-lg\">\r\n                <Zap className=\"w-5 h-5\" />\r\n                Stage 3: Structured Data Organization\r\n              </CardTitle>\r\n              {changedActivityIds.size > 0 && (\r\n                <Button\r\n                  onClick={handleRegenerateInsights}\r\n                  disabled={isRegenerating}\r\n                  className=\"bg-indigo-600 hover:bg-indigo-700\"\r\n                  size=\"sm\"\r\n                >\r\n                  {isRegenerating ? (\r\n                    <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\r\n                  ) : (\r\n                    <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                  )}\r\n                  {isRegenerating ? 'Regenerating...' : `Regenerate (${changedActivityIds.size})`}\r\n                </Button>\r\n              )}\r\n            </div>\r\n            {changedActivityIds.size > 0 && (\r\n              <p className=\"text-sm text-indigo-600 mt-2\">\r\n                {changedActivityIds.size} activity(ies) have changed KRA. Click \"Regenerate\" to update AI insights.\r\n              </p>\r\n            )}\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            {!hasOrganizedActivities ? (\r\n              <p className=\"text-slate-600 text-sm\">\r\n                No activities organized yet\r\n              </p>\r\n            ) : (\r\n              analysis.organizedActivities.map((org) => {\r\n                // Map KRA ID to readable title\r\n                const kraTitle = getKRADisplayTitle(org.kraId, org.kraTitle);\r\n                return (\r\n                <div key={org.kraId} className=\"p-4 border rounded-lg\">\r\n                  <div className=\"flex items-center justify-between mb-3\">\r\n                    <h4 className=\"font-semibold text-slate-900\">\r\n                      {kraTitle}\r\n                    </h4>\r\n                    <Badge variant=\"outline\" className=\"text-slate-600\">\r\n                      {org.activityCount} activities\r\n                    </Badge>\r\n                  </div>\r\n                  <div className=\"space-y-3\">\r\n                    {org.activities && Array.isArray(org.activities) && org.activities.length > 0 ? (\r\n                      <>\r\n                        {org.activities.map((activity, i) => {\r\n                          const achievement = activity.achievement ?? 0;\r\n                          const activityId = `${org.kraId}-${i}`;\r\n                          const selectedKraId = editedKRAs[activityId] || org.kraId;\r\n                          const isChanged = changedActivityIds.has(activityId);\r\n                          \r\n                          return (\r\n                          <div key={i} className={`p-3 border rounded-lg ${isChanged ? 'bg-indigo-50 border-indigo-300' : 'bg-slate-50'}`}>\r\n                            <div className=\"flex justify-between items-start gap-4\">\r\n                              <div className=\"flex-1 space-y-2\">\r\n                                <p className=\"font-medium text-slate-900\">{activity.title || 'Unnamed'}</p>\r\n                                {activity.unit && (\r\n                                  <p className=\"text-slate-500 text-xs\">{activity.unit}</p>\r\n                                )}\r\n                                \r\n                                {/* KRA Selector */}\r\n                                <div className=\"pt-2\">\r\n                                  <Label className=\"text-xs text-slate-600 mb-1 block\">Assign KRA:</Label>\r\n                                  <Select\r\n                                    value={selectedKraId}\r\n                                    onValueChange={(v) => handleKRAChange(activityId, v)}\r\n                                  >\r\n                                    <SelectTrigger className=\"h-8 text-sm w-full\">\r\n                                      <SelectValue placeholder=\"Select KRA\" />\r\n                                    </SelectTrigger>\r\n                                    <SelectContent>\r\n                                      {AVAILABLE_KRAS.map((kra) => (\r\n                                        <SelectItem key={kra.id} value={kra.id}>\r\n                                          <span className=\"text-sm\">\r\n                                            <strong>{kra.id}</strong>: {kra.title.substring(0, 50)}...\r\n                                          </span>\r\n                                        </SelectItem>\r\n                                      ))}\r\n                                    </SelectContent>\r\n                                  </Select>\r\n                                  {selectedKraId && selectedKraId !== org.kraId && (\r\n                                    <p className=\"text-xs text-indigo-600 mt-1 font-medium\">KRA Changed ✓</p>\r\n                                  )}\r\n                                </div>\r\n\r\n                                {/* AI Insight moved to Document-Level summary in Review Modal - not shown per-activity */}\r\n                              </div>\r\n                              \r\n                              <div className=\"text-right ml-4 shrink-0\">\r\n                                <span className=\"block font-bold text-slate-900\">\r\n                                  {activity.reported}{achievement > 0 ? '%' : ''}\r\n                                </span>\r\n                                <span className={`text-xs font-medium ${\r\n                                  achievement >= 100 ? 'text-green-600' : \r\n                                  achievement > 0 ? 'text-yellow-600' : 'text-slate-500'\r\n                                }`}>\r\n                                  {achievement >= 100 ? 'MET' : \r\n                                   achievement > 0 ? `${Math.round(achievement)}%` : 'Pending'}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )})}\r\n                      </>\r\n                    ) : (\r\n                      <p className=\"text-slate-500 italic\">No activities</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              );})\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* AI Prescriptive Analysis - Display approved analysis */}\r\n      {(() => {\r\n        const isJsonLike = (value: unknown) => {\r\n          if (typeof value !== 'string') return false;\r\n          const t = value.trim();\r\n          if (!t) return false;\r\n          // Avoid rendering raw JSON blobs in the UI.\r\n          return (t.startsWith('{') && t.endsWith('}')) || (t.startsWith('[') && t.endsWith(']'));\r\n        };\r\n\r\n        const isNullishText = (value: unknown) => {\r\n          if (typeof value !== 'string') return false;\r\n          const t = value.trim().toLowerCase();\r\n          return t === 'null' || t === 'undefined';\r\n        };\r\n\r\n        const documentInsightText = (() => {\r\n          const fromJson = (analysis.prescriptiveAnalysis && typeof analysis.prescriptiveAnalysis === 'object')\r\n            ? (analysis.prescriptiveAnalysis as any).documentInsight\r\n            : null;\r\n          if (typeof fromJson === 'string' && fromJson.trim()) return fromJson.trim();\r\n\r\n          const parts = [analysis.alignment, analysis.opportunities, analysis.gaps]\r\n            .filter((v): v is string => typeof v === 'string' && v.trim().length > 0)\r\n            .filter((v) => !isJsonLike(v))\r\n            .map((v) => v.trim());\r\n          return parts.join('\\n\\n');\r\n        })();\r\n\r\n        const prescriptiveText = (() => {\r\n          const fromJson = (analysis.prescriptiveAnalysis && typeof analysis.prescriptiveAnalysis === 'object')\r\n            ? (analysis.prescriptiveAnalysis as any).prescriptiveAnalysis\r\n            : null;\r\n          if (typeof fromJson === 'string' && fromJson.trim()) return fromJson.trim();\r\n\r\n          if (Array.isArray(analysis.recommendations) && analysis.recommendations.length > 0) {\r\n            // Convert structured recommendations into a single markdown block.\r\n            // This preserves the \"ONE Prescriptive Analysis\" UI while staying type-safe.\r\n            return analysis.recommendations\r\n              .map((rec) => {\r\n                const metaParts = [rec.timeline, rec.owner].filter(Boolean);\r\n                const meta = metaParts.length > 0 ? ` (${metaParts.join(' • ')})` : '';\r\n                const priority = rec.priority ? `[${rec.priority}] ` : '';\r\n                const title = rec.title?.trim() ? `${rec.title.trim()}: ` : '';\r\n                const desc = rec.description?.trim() ? rec.description.trim() : '';\r\n                return `- ${priority}${title}${desc}${meta}`.trim();\r\n              })\r\n              .filter((line) => line !== '-')\r\n              .join('\\n');\r\n          }\r\n\r\n          const fallback = extractPrescriptiveValue(analysis.prescriptiveAnalysis) || '';\r\n          return isNullishText(fallback) ? '' : fallback;\r\n        })();\r\n\r\n        const structuredItems: PrescriptiveItem[] = (() => {\r\n          const fromJson = (() => {\r\n            if (!analysis.prescriptiveAnalysis || typeof analysis.prescriptiveAnalysis !== 'object') return [];\r\n            const items = (analysis.prescriptiveAnalysis as any).prescriptiveItems;\r\n            if (!Array.isArray(items)) return [];\r\n            return items\r\n              .filter((x: any) => x && typeof x === 'object')\r\n              .slice(0, 5)\r\n              .map((x: any) => ({\r\n                title: String(x.title || '').trim(),\r\n                issue: String(x.issue || '').trim(),\r\n                action: String(x.action || '').trim(),\r\n                nextStep: x.nextStep ? String(x.nextStep).trim() : undefined,\r\n              }))\r\n              .filter((x: any) => x.title && x.issue && x.action);\r\n          })();\r\n\r\n          if (fromJson.length > 0) return fromJson;\r\n          return prescriptiveText ? parsePrescriptiveTextToItems(prescriptiveText).slice(0, 5) : [];\r\n        })();\r\n\r\n        const shouldShow = Boolean(documentInsightText || prescriptiveText || structuredItems.length > 0);\r\n        if (!shouldShow) return null;\r\n\r\n        return (\r\n          <Card className=\"overflow-hidden\">\r\n          <CardHeader className=\"bg-purple-50 border-b border-purple-200\">\r\n            <CardTitle className=\"flex items-center gap-2 text-lg text-purple-900\">\r\n              <Lightbulb className=\"w-5 h-5 text-purple-700\" />\r\n              Prescriptive Analysis\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4 pt-6\">\r\n            {documentInsightText && (\r\n              <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n                <h4 className=\"font-semibold text-blue-900 mb-2 flex items-center gap-2\">\r\n                  <Target className=\"w-4 h-4\" />\r\n                  Document Insight\r\n                </h4>\r\n                <div className=\"text-sm text-blue-800 prose prose-sm prose-blue max-w-none\">\r\n                  {renderFormattedText(documentInsightText)}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {(structuredItems.length > 0 || prescriptiveText) && (\r\n              <div className=\"p-4 bg-purple-50 border border-purple-200 rounded-lg\">\r\n                <h4 className=\"font-semibold text-purple-900 mb-2 flex items-center gap-2\">\r\n                  <Lightbulb className=\"w-4 h-4\" />\r\n                  Prescriptive Analysis\r\n                </h4>\r\n                <div className=\"text-sm text-purple-800 prose prose-sm prose-purple max-w-none\">\r\n                  {structuredItems.length > 0 ? (\r\n                    <ol className=\"list-decimal list-inside space-y-3\">\r\n                      {structuredItems.map((item, idx) => (\r\n                        <li key={idx} className=\"\">\r\n                          <span className=\"font-semibold text-purple-900\">{item.title}</span>\r\n\r\n                          <ul className=\"list-disc ml-6 mt-1 space-y-1\">\r\n                            <li>\r\n                              <span className=\"font-semibold\">Issue:</span> {item.issue}\r\n                            </li>\r\n                            <li>\r\n                              <span className=\"font-semibold\">Action:</span> {item.action}\r\n                            </li>\r\n                            {item.nextStep ? (\r\n                              <li>\r\n                                <span className=\"font-semibold\">Next Step:</span> {item.nextStep}\r\n                              </li>\r\n                            ) : null}\r\n                          </ul>\r\n                        </li>\r\n                      ))}\r\n                    </ol>\r\n                  ) : (\r\n                    renderFormattedText(prescriptiveText)\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n          </Card>\r\n        );\r\n      })()}\r\n\r\n      {/* Achievement Summary */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Target Achievement Summary</CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"grid grid-cols-2 gap-4\">\r\n          <div className=\"p-4 bg-slate-50 rounded-lg\">\r\n            <p className=\"text-xs text-slate-600 uppercase font-semibold mb-2\">\r\n              Current State\r\n            </p>\r\n            <p className=\"text-slate-900 font-medium\">\r\n              {analysis.achievementMetrics.currentState}\r\n            </p>\r\n          </div>\r\n          <div className=\"p-4 bg-slate-50 rounded-lg\">\r\n            <p className=\"text-xs text-slate-600 uppercase font-semibold mb-2\">\r\n              Target State\r\n            </p>\r\n            <p className=\"text-slate-900 font-medium\">\r\n              {analysis.achievementMetrics.targetState}\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Activity\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTJoLTIuNDhhMiAyIDAgMCAwLTEuOTMgMS40NmwtMi4zNSA4LjM2YS4yNS4yNSAwIDAgMS0uNDggMEw5LjI0IDIuMThhLjI1LjI1IDAgMCAwLS40OCAwbC0yLjM1IDguMzZBMiAyIDAgMCAxIDQuNDkgMTJIMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/activity\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Activity = createLucideIcon('Activity', [\n  [\n    'path',\n    {\n      d: 'M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2',\n      key: '169zse',\n    },\n  ],\n]);\n\nexport default Activity;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FolderOpen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiAxNCAxLjUtMi45QTIgMiAwIDAgMSA5LjI0IDEwSDIwYTIgMiAwIDAgMSAxLjk0IDIuNWwtMS41NCA2YTIgMiAwIDAgMS0xLjk1IDEuNUg0YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDMuOWEyIDIgMCAwIDEgMS42OS45bC44MSAxLjJhMiAyIDAgMCAwIDEuNjcuOUgxOGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/folder-open\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FolderOpen = createLucideIcon('FolderOpen', [\n  [\n    'path',\n    {\n      d: 'm6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2',\n      key: 'usdka0',\n    },\n  ],\n]);\n\nexport default FolderOpen;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Zap\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxNGExIDEgMCAwIDEtLjc4LTEuNjNsOS45LTEwLjJhLjUuNSAwIDAgMSAuODYuNDZsLTEuOTIgNi4wMkExIDEgMCAwIDAgMTMgMTBoN2ExIDEgMCAwIDEgLjc4IDEuNjNsLTkuOSAxMC4yYS41LjUgMCAwIDEtLjg2LS40NmwxLjkyLTYuMDJBMSAxIDAgMCAwIDExIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/zap\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Zap = createLucideIcon('Zap', [\n  [\n    'path',\n    {\n      d: 'M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z',\n      key: '1xq2db',\n    },\n  ],\n]);\n\nexport default Zap;\n"],"names":[],"mappings":"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","ignoreList":[4,5,6]}