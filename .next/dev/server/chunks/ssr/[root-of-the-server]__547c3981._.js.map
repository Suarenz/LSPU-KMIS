{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: 'default' | 'destructive'\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/avatar.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn('aspect-square size-full', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        'bg-muted flex size-full items-center justify-center rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,8OAAC,8KAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/navbar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport Link from \"next/link\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { useAuth } from \"@/lib/auth-context\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\"\r\nimport { Menu, X, Search, MessageSquare, BarChart3, LogOut, UserRound, File, ClipboardCheck } from \"lucide-react\"\r\nimport Image from \"next/image\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport function Navbar() {\r\n  const { user, logout, isLoading, isAuthenticated } = useAuth()\r\n  const pathname = usePathname()\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)\r\n\r\n  // Don't render if user is not authenticated and not loading (meaning auth check is complete but user is not logged in)\r\n  if (!isAuthenticated && !isLoading) {\r\n    return null;\r\n  }\r\n\r\n  // Show loading state with skeleton if user is authenticated but still loading\r\n  if (isLoading) {\r\n    return (\r\n      <nav className=\"sticky top-0 z-50 bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60 border-b border-primary/20 shadow-sm\">\r\n        <div className=\"flex justify-between items-center h-16 px-4 sm:px-6 lg:px-8\">\r\n          {/* Left Side: Logo and Title (Loading skeleton) */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <Link href=\"/dashboard\" className=\"flex items-center gap-2 group\">\r\n              <div className=\"w-12 h-12 flex items-center justify-center group-hover:scale-105 transition-transform overflow-hidden\">\r\n                <Image\r\n                  src=\"/LSPULogo.png\"\r\n                  alt=\"LSPU Logo\"\r\n                  width={48}\r\n                  height={48}\r\n                  className=\"object-contain\"\r\n                  priority\r\n                />\r\n              </div>\r\n              <div className=\"hidden sm:flex sm:flex-col sm:items-start ml-2\">\r\n                <div className=\"text-xl font-bold bg-linear-to-r from-primary to-blue-700 bg-clip-text text-transparent\">LSPU KMIS</div>\r\n                <div className=\"text-xs text-muted-foreground -mt-1\">Knowledge Management Information System</div>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n \r\n          {/* Center: Navigation Links (Loading skeleton) */}\r\n          <div className=\"hidden md:flex items-center justify-center flex-1\">\r\n            <div className=\"flex items-center gap-1\">\r\n              <div className=\"h-10 w-24 bg-muted rounded animate-pulse mx-1\"></div>\r\n              <div className=\"h-10 w-20 bg-muted rounded animate-pulse mx-1\"></div>\r\n              <div className=\"h-10 w-20 bg-muted rounded animate-pulse mx-1\"></div>\r\n              <div className=\"h-10 w-24 bg-muted rounded animate-pulse mx-1\"></div>\r\n            </div>\r\n          </div>\r\n \r\n          {/* Right Side: User Profile (Loading skeleton) */}\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-8 h-8 rounded-full bg-muted animate-pulse\"></div>\r\n              <div className=\"hidden sm:block h-4 w-16 bg-muted rounded animate-pulse\"></div>\r\n              </div>\r\n            <div className=\"h-10 w-10 bg-muted rounded-full animate-pulse\"></div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n  const navigation = [\r\n    { name: \"Repository\", href: \"/repository\", icon: File },\r\n    { name: \"Search\", href: \"/search\", icon: Search },\r\n    ...(user?.role === \"ADMIN\" || user?.role === \"FACULTY\"\r\n      ? [\r\n          { name: \"QPRO\", href: \"/qpro\", icon: ClipboardCheck },\r\n          { name: \"Analytics\", href: \"/analytics\", icon: BarChart3 }\r\n        ]\r\n      : []),\r\n  ]\r\n\r\n  const getInitials = (name: string) => {\r\n    const initials = name\r\n      .split(\" \")\r\n      .map((n) => n[0])\r\n      .join(\"\")\r\n      .toUpperCase();\r\n    \r\n    // Avoid returning \"AU\" as initials, return first initial instead\r\n    if (initials === \"AU\") {\r\n      return initials.charAt(0);\r\n    }\r\n    return initials;\r\n  }\r\n\r\n  return (\r\n    <nav className=\"sticky top-0 z-50 bg-white/95 backdrop-blur supports-backdrop-filter:bg-white/60 border-b border-gray-200 shadow-sm\">\r\n      <div className=\"flex justify-between items-center h-16 px-4 sm:px-6 lg:px-8\">\r\n        {/* Left Side: Logo and Title */}\r\n        <div className=\"flex items-center gap-2\">\r\n          <Link href=\"/dashboard\" className=\"flex items-center gap-2 group\">\r\n            <div className=\"w-12 h-12 flex items-center justify-center group-hover:scale-105 transition-transform overflow-hidden\">\r\n              <Image\r\n                src=\"/LSPULogo.png\"\r\n                alt=\"LSPU Logo\"\r\n                width={48}\r\n                height={48}\r\n                className=\"object-contain\"\r\n                priority\r\n              />\r\n            </div>\r\n            <div className=\"hidden sm:flex sm:flex-col sm:items-start ml-2\">\r\n              <div className=\"text-xl font-bold\" style={{ color: '#2B4385' }}>LSPU KMIS</div>\r\n              <div className=\"text-xs text-gray-500 -mt-1\">Knowledge Management Information System</div>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Center: Navigation Links */}\r\n        <div className=\"hidden md:flex items-center justify-center flex-1\">\r\n          <div className=\"flex items-center gap-1\">\r\n            {navigation.map((item) => {\r\n              const Icon = item.icon\r\n              const isActive = pathname === item.href\r\n              return (\r\n                <Link key={item.name} href={item.href}>\r\n                  <Button\r\n                    variant={isActive ? \"secondary\" : \"ghost\"}\r\n                    className=\"gap-2\"\r\n                    style={isActive ? { color: '#2B4385', backgroundColor: 'rgba(43, 67, 133, 0.1)' } : {}}\r\n                  >\r\n                    <Icon className=\"w-4 h-4\" />\r\n                    {item.name}\r\n                  </Button>\r\n                </Link>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right Side: User Profile */}\r\n        <div className=\"flex items-center gap-4\">\r\n          <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n              <Button variant=\"ghost\" className=\"gap-2\">\r\n                <Avatar className=\"w-8 h-8\">\r\n                  <AvatarFallback className=\"text-sm flex items-center justify-center\" style={{backgroundColor: 'rgba(43, 67, 133, 0.1)', color: '#2B4385'}}>\r\n                    <UserRound className=\"w-4 h-4\" />\r\n                  </AvatarFallback>\r\n                </Avatar>\r\n                <span className=\"hidden sm:inline text-sm text-gray-700\">{user?.name}</span>\r\n              </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\" className=\"w-56\">\r\n              <DropdownMenuLabel>\r\n                <div className=\"flex flex-col gap-1\">\r\n                  <div className=\"font-medium text-gray-900\">{user?.name}</div>\r\n                  <div className=\"text-xs text-gray-500\">{user?.email}</div>\r\n                  <div className=\"text-xs text-gray-500 capitalize\">Role: {user?.role}</div>\r\n                </div>\r\n              </DropdownMenuLabel>\r\n              <DropdownMenuSeparator />\r\n              <DropdownMenuItem>\r\n                <UserRound className=\"w-4 h-4 mr-2\" />\r\n                Profile\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem\r\n                onClick={async () => {\r\n                  await logout();\r\n                }}\r\n                className=\"text-red-600\"\r\n              >\r\n                <LogOut className=\"w-4 h-4 mr-2\" />\r\n                Logout\r\n              </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"md:hidden\"\r\n            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n          >\r\n            {mobileMenuOpen ? <X className=\"w-5 h-5\" /> : <Menu className=\"w-5 h-5\" />}\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Mobile Navigation */}\r\n        {mobileMenuOpen && (\r\n          <div className=\"md:hidden py-4 border-t border-gray-200 animate-slide-in px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"flex flex-col gap-2\">\r\n              {navigation.map((item) => {\r\n                const Icon = item.icon\r\n                const isActive = pathname === item.href\r\n                return (\r\n                  <Link key={item.name} href={item.href} onClick={() => setMobileMenuOpen(false)}>\r\n                    <Button\r\n                      variant={isActive ? \"secondary\" : \"ghost\"}\r\n                      className=\"w-full justify-start gap-2\"\r\n                      style={isActive ? { color: '#2B4385', backgroundColor: 'rgba(43, 67, 133, 0.1)' } : {}}\r\n                    >\r\n                      <Icon className=\"w-4 h-4\" />\r\n                      {item.name}\r\n                    </Button>\r\n                  </Link>\r\n                )\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1022, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1124, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1149, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1195, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport type * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({ className, ...props }: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return <TabsPrimitive.Root data-slot=\"tabs\" className={cn(\"flex flex-col gap-2\", className)} {...props} />\n}\n\nfunction TabsList({ className, ...props }: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({ className, ...props }: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({ className, ...props }: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return <TabsPrimitive.Content data-slot=\"tabs-content\" className={cn(\"flex-1 outline-none\", className)} {...props} />\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAwD;IACpF,qBAAO,8OAAC,wKAAkB;QAAC,aAAU;QAAO,WAAW,IAAA,kHAAE,EAAC,uBAAuB;QAAa,GAAG,KAAK;;;;;;AACxG;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAwD;IACxF,qBACE,8OAAC,wKAAkB;QACjB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAA2D;IAC9F,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,ooBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAA2D;IAC9F,qBAAO,8OAAC,2KAAqB;QAAC,aAAU;QAAe,WAAW,IAAA,kHAAE,EAAC,uBAAuB;QAAa,GAAG,KAAK;;;;;;AACnH"}},
    {"offset": {"line": 1261, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/lib/utils/super-mapper.ts"],"sourcesContent":["/**\r\n * Super Mapper - A utility to handle document field mapping across different data sources\r\n * This solution addresses the need to look for document data under various possible field names\r\n */\r\n\r\ninterface DocumentFieldMapping {\r\n  // Title-related fields\r\n title?: string;\r\n  document_title?: string;\r\n  originalName?: string;\r\n  name?: string;\r\n  \r\n  // Description-related fields\r\n  description?: string;\r\n  content?: string;\r\n  text?: string;\r\n  summary?: string;\r\n  \r\n  // File-related fields\r\n  fileName?: string;\r\n  file_name?: string;\r\n  originalFileName?: string;\r\n  original_file_name?: string;\r\n  fileUrl?: string;\r\n  file_url?: string;\r\n  \r\n  // Other common fields\r\n  id?: string;\r\n  documentId?: string;\r\n  document_id?: string;\r\n  category?: string;\r\n  tags?: string[];\r\n  uploadedBy?: string;\r\n  uploaded_by?: string;\r\n  uploadedAt?: string | Date;\r\n uploaded_at?: string | Date;\r\n  fileType?: string;\r\n  file_type?: string;\r\n  fileSize?: number;\r\n  file_size?: number;\r\n}\r\n\r\n/**\r\n * Generic function to extract a value from an object trying multiple possible field names\r\n */\r\nfunction extractValue<T>(obj: any, possibleFieldNames: string[]): T | undefined {\r\n  for (const field of possibleFieldNames) {\r\n    if (obj && obj[field] !== undefined && obj[field] !== null) {\r\n      return obj[field];\r\n    }\r\n  }\r\n return undefined;\r\n}\r\n\r\n/**\r\n * Super Mapper class to handle document field mapping\r\n */\r\nclass SuperMapper {\r\n  /**\r\n   * Maps document data from various sources to a consistent format\r\n   * Tries multiple possible field names for each property\r\n   */\r\n  static mapDocumentData(rawData: any): DocumentFieldMapping {\r\n    if (!rawData) {\r\n      return {};\r\n    }\r\n\r\n    return {\r\n      // Title mapping - try various possible field names for document title\r\n      title: extractValue<string>(rawData, [\r\n        'title', 'document_title', 'originalName', 'name', \r\n        'fileName', 'file_name', 'documentName', 'document_name'\r\n      ]),\r\n      \r\n      // Description mapping\r\n      description: extractValue<string>(rawData, [\r\n        'description', 'content', 'text', 'summary', \r\n        'desc', 'body', 'details'\r\n      ]),\r\n      \r\n      // File name mapping\r\n      fileName: extractValue<string>(rawData, [\r\n        'fileName', 'file_name', 'originalFileName', \r\n        'original_file_name', 'filename', 'name'\r\n      ]),\r\n      \r\n      // File URL mapping\r\n      fileUrl: extractValue<string>(rawData, [\r\n        'fileUrl', 'file_url', 'url', 'documentUrl', \r\n        'document_url', 'source', 'path'\r\n      ]),\r\n      \r\n      // ID mapping\r\n      id: extractValue<string>(rawData, [\r\n        'id', 'documentId', 'document_id', 'docId', \r\n        'doc_id', '_id', 'identifier'\r\n      ]),\r\n      \r\n      // Category mapping\r\n      category: extractValue<string>(rawData, [\r\n        'category', 'category_name', 'type', 'documentType', \r\n        'document_type', 'classification'\r\n      ]),\r\n      \r\n      // Tags mapping\r\n      tags: extractValue<string[]>(rawData, [\r\n        'tags', 'tag_list', 'tagList', 'keywords', \r\n        'keyword_list', 'keywordList'\r\n      ]),\r\n      \r\n      // Uploaded by mapping\r\n      uploadedBy: extractValue<string>(rawData, [\r\n        'uploadedBy', 'uploaded_by', 'uploadedByUser', \r\n        'uploaded_by_user', 'author', 'creator', 'uploader'\r\n      ]),\r\n      \r\n      // Upload date mapping\r\n      uploadedAt: extractValue<Date | string>(rawData, [\r\n        'uploadedAt', 'uploaded_at', 'uploadDate', \r\n        'upload_date', 'createdAt', 'created_at', 'date'\r\n      ]),\r\n      \r\n      // File type mapping\r\n      fileType: extractValue<string>(rawData, [\r\n        'fileType', 'file_type', 'mimeType', \r\n        'mime_type', 'type', 'extension'\r\n      ]),\r\n      \r\n      // File size mapping\r\n      fileSize: extractValue<number>(rawData, [\r\n        'fileSize', 'file_size', 'size', \r\n        'fileSizeBytes', 'file_size_bytes'\r\n      ]),\r\n    };\r\n }\r\n\r\n  /**\r\n   * Gets a specific field value trying multiple possible names\r\n   */\r\n  static getFieldValue(obj: any, fieldPath: string | string[]): any {\r\n    if (!obj) return undefined;\r\n    \r\n    // If fieldPath is a string, split it by dots to handle nested properties\r\n    const fields = Array.isArray(fieldPath) ? fieldPath : fieldPath.split('.');\r\n    \r\n    // If we have a single field name, try multiple possible variants\r\n    if (fields.length === 1) {\r\n      const fieldName = fields[0];\r\n      \r\n      // Define possible variations for common field names\r\n      const possibleNames: Record<string, string[]> = {\r\n        title: ['title', 'document_title', 'originalName', 'name', 'fileName', 'file_name', 'documentName'],\r\n        description: ['description', 'content', 'text', 'summary', 'desc', 'body'],\r\n        fileName: ['fileName', 'file_name', 'originalFileName', 'original_file_name', 'filename'],\r\n        fileUrl: ['fileUrl', 'file_url', 'url', 'documentUrl', 'document_url', 'source'],\r\n        id: ['id', 'documentId', 'document_id', 'docId', 'doc_id', '_id'],\r\n        category: ['category', 'category_name', 'type', 'documentType', 'document_type'],\r\n        tags: ['tags', 'tag_list', 'tagList', 'keywords', 'keyword_list', 'keywordList'],\r\n        uploadedBy: ['uploadedBy', 'uploaded_by', 'uploadedByUser', 'uploaded_by_user', 'author', 'creator'],\r\n        uploadedAt: ['uploadedAt', 'uploaded_at', 'uploadDate', 'upload_date', 'createdAt', 'created_at'],\r\n        fileType: ['fileType', 'file_type', 'mimeType', 'mime_type', 'type', 'extension'],\r\n        fileSize: ['fileSize', 'file_size', 'size', 'fileSizeBytes', 'file_size_bytes'],\r\n      };\r\n      \r\n      const possibleFieldNames = possibleNames[fieldName] || [fieldName];\r\n      return extractValue(obj, possibleFieldNames);\r\n    }\r\n    \r\n    // For nested properties, try to access the path directly first\r\n    let result = obj;\r\n    for (const field of fields) {\r\n      if (result && result[field] !== undefined) {\r\n        result = result[field];\r\n      } else {\r\n        result = undefined;\r\n        break;\r\n      }\r\n    }\r\n    \r\n    if (result !== undefined) {\r\n      return result;\r\n    }\r\n    \r\n    // If direct access fails, try common variations of the first field\r\n    const firstField = fields[0];\r\n    const remainingPath = fields.slice(1).join('.');\r\n    \r\n    const possibleNames: Record<string, string[]> = {\r\n      metadata: ['metadata', 'meta', 'data', 'info', 'document_metadata'],\r\n      document: ['document', 'doc', 'result', 'item', 'data', 'record'],\r\n    };\r\n    \r\n    const possibleFieldNames = possibleNames[firstField] || [firstField];\r\n    \r\n    for (const possibleName of possibleFieldNames) {\r\n      const nestedObj = obj[possibleName];\r\n      if (nestedObj) {\r\n        // Recursively call for the remaining path\r\n        const nestedResult = this.getFieldValue(nestedObj, remainingPath);\r\n        if (nestedResult !== undefined) {\r\n          return nestedResult;\r\n        }\r\n      }\r\n    }\r\n    \r\n    return undefined;\r\n }\r\n\r\n  /**\r\n   * Creates a mapped document object with standardized field names\r\n   */\r\n  static createStandardDocument(rawData: any): any {\r\n    const mappedData = this.mapDocumentData(rawData);\r\n    \r\n    // Create a standard document object using the mapped values\r\n    // Only apply defaults if no value was found from any of the possible field names\r\n    return {\r\n      ...rawData, // Include original data to preserve existing properties\r\n      id: mappedData.id || rawData.id || rawData.documentId || (rawData.document ? rawData.document.id : undefined),\r\n      title: mappedData.title || rawData.title || rawData.originalName || rawData.name || 'Untitled Document',\r\n      description: mappedData.description || rawData.description || rawData.content || rawData.text || rawData.summary || '',\r\n      fileName: mappedData.fileName || rawData.fileName || rawData.originalFileName || rawData.name || 'unknown.pdf',\r\n      fileUrl: mappedData.fileUrl || rawData.fileUrl || rawData.url || rawData.documentUrl || rawData.source,\r\n      category: mappedData.category || rawData.category || rawData.type || rawData.documentType || 'Uncategorized',\r\n      tags: mappedData.tags || rawData.tags || rawData.keywords || [],\r\n      uploadedBy: mappedData.uploadedBy || rawData.uploadedBy || rawData.author || rawData.creator || rawData.uploader || 'Unknown',\r\n      uploadedAt: mappedData.uploadedAt ? new Date(mappedData.uploadedAt as string) :\r\n                  rawData.uploadedAt ? new Date(rawData.uploadedAt) :\r\n                  rawData.uploadDate ? new Date(rawData.uploadDate) :\r\n                  rawData.createdAt ? new Date(rawData.createdAt) :\r\n                  new Date(),\r\n      fileType: mappedData.fileType || rawData.fileType || rawData.mimeType || rawData.type || 'unknown',\r\n      fileSize: mappedData.fileSize || rawData.fileSize || rawData.size || 0,\r\n    };\r\n  }\r\n}\r\n\r\nexport default SuperMapper;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1574, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/lib/utils/document-utils.ts"],"sourcesContent":["/**\r\n * Utility functions for handling document titles and names\r\n */\r\n\r\n/**\r\n * Cleans a document title by removing the alphanumeric prefix that is added during Colivara processing\r\n * @param title The original document title that may contain an alphanumeric prefix\r\n * @returns The cleaned document title with the prefix removed\r\n * \r\n * Example: \r\n * Input: \"cmicq4gtx0001lvg4tzbcpqgz_QPRO - 3RD QUARTER - JULY TO SEPTEMBER 2025.pdf\"\r\n * Output: \"QPRO - 3RD QUARTER - JULY TO SEPTEMBER 2025.pdf\"\r\n */\r\nexport function cleanDocumentTitle(title: string): string {\r\n  if (!title) {\r\n    return title;\r\n  }\r\n\r\n  // Pattern to match the alphanumeric prefix followed by an underscore\r\n  // This matches the pattern: alphanumeric_string_original_filename\r\n  // The prefix is typically a longer random alphanumeric string (like a UUID), followed by an underscore\r\n  // Then followed by the actual filename that starts with a non-underscore character\r\n  const prefixPattern = /^[a-zA-Z0-9]{10,}_([^_].*)$/;\r\n  \r\n  const match = title.match(prefixPattern);\r\n  \r\n  if (match) {\r\n    // Return the part after the underscore\r\n    return match[1];\r\n  }\r\n  \r\n  // If no match, return the original title\r\n return title;\r\n}\r\n\r\n/**\r\n * Cleans multiple document titles\r\n * @param titles Array of document titles to clean\r\n * @returns Array of cleaned document titles\r\n */\r\nexport function cleanDocumentTitles(titles: string[]): string[] {\r\n  return titles.map(title => cleanDocumentTitle(title));\r\n}"],"names":[],"mappings":"AAAA;;CAEC,GAED;;;;;;;;CAQC;;;;;;AACM,SAAS,mBAAmB,KAAa;IAC9C,IAAI,CAAC,OAAO;QACV,OAAO;IACT;IAEA,qEAAqE;IACrE,kEAAkE;IAClE,uGAAuG;IACvG,mFAAmF;IACnF,MAAM,gBAAgB;IAEtB,MAAM,QAAQ,MAAM,KAAK,CAAC;IAE1B,IAAI,OAAO;QACT,uCAAuC;QACvC,OAAO,KAAK,CAAC,EAAE;IACjB;IAEA,yCAAyC;IAC1C,OAAO;AACR;AAOO,SAAS,oBAAoB,MAAgB;IAClD,OAAO,OAAO,GAAG,CAAC,CAAA,QAAS,mBAAmB;AAChD"}},
    {"offset": {"line": 1614, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/qwen-response-display.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { BotIcon, LightbulbIcon, FileText, ExternalLink } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { cleanDocumentTitle } from '@/lib/utils/document-utils';\r\n\r\ninterface QwenResponseDisplayProps {\r\n  generatedResponse: string;\r\n generationType: string;\r\n sources?: Array<{ title: string; documentId: string; confidence: number }>;\r\n isLoading?: boolean;\r\n  error?: string;\r\n  relevantDocumentUrl?: string; // Added for the clickable document link\r\n}\r\n\r\nconst QwenResponseDisplay: React.FC<QwenResponseDisplayProps> = ({\r\n  generatedResponse,\r\n  generationType,\r\n  sources,\r\n  isLoading,\r\n  error,\r\n  relevantDocumentUrl // Added to props\r\n}) => {\r\n if (isLoading) {\r\n    return (\r\n      <Card className=\"mb-6 animate-pulse\">\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <LightbulbIcon className=\"w-5 h-5\" />\r\n            Generating Insights\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-2\">\r\n            <div className=\"h-4 bg-gray-20 rounded w-3/4\"></div>\r\n            <div className=\"h-4 bg-gray-200 rounded\"></div>\r\n            <div className=\"h-4 bg-gray-200 rounded w-5/6\"></div>\r\n            {sources && sources.length > 0 && (\r\n              <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                <h4 className=\"flex items-center gap-2 font-medium mb-2\">\r\n                  <FileText className=\"w-4 h-4\" />\r\n                  Source Documents\r\n                </h4>\r\n                <ul className=\"space-y-2\">\r\n                  {sources.map((source, index) => ( // Show all sources for comprehensive queries\r\n                    <li key={index} className=\"flex items-start gap-2 text-sm\">\r\n                      <span className=\"text-xs bg-blue-10 text-blue-800 rounded-full w-5 h-5 flex items-center justify-center shrink-0 mt-0.5\">\r\n                        {index + 1}\r\n                      </span>\r\n                      <div className=\"flex-1\">\r\n                        {source.documentId && source.documentId !== 'undefined' && !source.documentId.includes('undefined') && !/\\.(pdf|docx?|xlsx?|pptx?|jpg|jpeg|png|gif|bmp|tiff|webp)$/i.test(source.documentId) ? (\r\n                          <Link href={`/repository/preview/${source.documentId}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"font-medium text-blue-600 hover:text-blue-800 transition-colors\">\r\n                            {cleanDocumentTitle(source.title)}\r\n                          </Link>\r\n                        ) : (\r\n                          <div className=\"font-medium\">{cleanDocumentTitle(source.title)}</div>\r\n                        )}\r\n                        {source.confidence && (\r\n                          <span className=\"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded mt-1 inline-block\">\r\n                            {(source.confidence * 100).toFixed(1)}% relevance\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      {/* Make all source documents clickable if they have a documentId */}\r\n                      {source.documentId && source.documentId !== 'undefined' && !source.documentId.includes('undefined') && !/\\.(pdf|docx?|xlsx?|pptx?|jpg|jpeg|png|gif|bmp|tiff|webp)$/i.test(source.documentId) ? (\r\n                        <Link href={`/repository/preview/${source.documentId}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-600 hover:text-blue-800 transition-colors\">\r\n                          <ExternalLink className=\"w-4 h-4\" />\r\n                          <span className=\"sr-only\">View Document</span>\r\n                        </Link>\r\n                      ) : (\r\n                        <ExternalLink className=\"w-4 h-4 text-gray-400\" />\r\n                      )}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card className=\"mb-6 border-red-200\">\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2 text-red-60\">\r\n            <LightbulbIcon className=\"w-5 h-5\" />\r\n            Generated Insights Error\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <p className=\"text-red-60\">{error}</p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (!generatedResponse) {\r\n    return null;\r\n  }\r\n\r\n return (\r\n    <Card className=\"mb-6 border-blue-20\">\r\n      <CardHeader>\r\n        <CardTitle className=\"flex items-center gap-2\">\r\n          <LightbulbIcon className=\"w-5 h-5 text-blue-600\" />\r\n          Generated Insights\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div className=\"prose prose-blue max-w-none\">\r\n          <div className=\"whitespace-pre-wrap text-gray-70\">\r\n            {generatedResponse.split('\\n').map((line, i) => {\r\n              // Check if the line contains a list item (starts with * or - or numbered list)\r\n              const trimmedLine = line.trim();\r\n              if (trimmedLine.startsWith('* **') || trimmedLine.startsWith('- **')) {\r\n                // Handle nested bullet list items like \"* **Name of Person**\"\r\n                const match = trimmedLine.match(/^\\s*[*-]\\s*\\*\\*(.+?)\\*\\*(.*)/);\r\n                if (match) {\r\n                  return (\r\n                    <div key={i} className=\"ml-4 my-1\">\r\n                      <span className=\"font-semibold\"> {match[1]}</span>\r\n                      {match[2] && <span>{match[2]}</span>}\r\n                    </div>\r\n                  );\r\n                }\r\n                return <div key={i} className=\"ml-4 my-1\"> {trimmedLine.substring(2).trim()}</div>;\r\n              } else if (/^\\s*\\d+\\.\\s/.test(trimmedLine)) {\r\n                // Handle numbered lists\r\n                return <div key={i} className=\"ml-4 my-1\">{trimmedLine}</div>;\r\n              } else if (trimmedLine.startsWith('**') && trimmedLine.endsWith('**')) {\r\n                // Handle bold headers\r\n                return <div key={i} className=\"font-bold mt-3 mb-1\">{trimmedLine.slice(2, -2)}</div>;\r\n              } else if (trimmedLine === '') {\r\n                // Handle empty lines\r\n                return <div key={i} className=\"my-2\"></div>;\r\n              } else {\r\n                // Handle regular text\r\n                return <div key={i} className=\"my-1\">{line}</div>;\r\n              }\r\n            })}\r\n          </div>\r\n          \r\n          {sources && sources.length > 0 && (\r\n            <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n              <h4 className=\"flex items-center gap-2 font-medium mb-2\">\r\n                <FileText className=\"w-4 h-4\" />\r\n                Source Documents\r\n              </h4>\r\n              <ul className=\"space-y-2\">\r\n                {sources.map((source, index) => ( // Show all sources for comprehensive queries\r\n                  <li key={index} className=\"flex items-start gap-2 text-sm\">\r\n                    <span className=\"text-xs bg-blue-10 text-blue-800 rounded-full w-5 h-5 flex items-center justify-center shrink-0 mt-0.5\">\r\n                      {index + 1}\r\n                    </span>\r\n                    <div className=\"flex-1\">\r\n                      {source.documentId && source.documentId !== 'undefined' && !source.documentId.includes('undefined') && !/\\.(pdf|docx?|xlsx?|pptx?|jpg|jpeg|png|gif|bmp|tiff|webp)$/i.test(source.documentId) ? (\r\n                        <Link href={`/repository/preview/${source.documentId}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"font-medium text-blue-600 hover:text-blue-800 transition-colors\">\r\n                          {cleanDocumentTitle(source.title)}\r\n                        </Link>\r\n                      ) : (\r\n                        <div className=\"font-medium\">{cleanDocumentTitle(source.title)}</div>\r\n                      )}\r\n                      {source.confidence && (\r\n                        <span className=\"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded mt-1 inline-block\">\r\n                          {(source.confidence * 100).toFixed(1)}% relevance\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                    {/* Make all source documents clickable if they have a documentId */}\r\n                    {source.documentId && source.documentId !== 'undefined' && !source.documentId.includes('undefined') && !/\\.(pdf|docx?|xlsx?|pptx?|jpg|jpeg|png|gif|bmp|tiff|webp)$/i.test(source.documentId) ? (\r\n                      <Link href={`/repository/preview/${source.documentId}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-600 hover:text-blue-800 transition-colors\">\r\n                        <ExternalLink className=\"w-4 h-4\" />\r\n                        <span className=\"sr-only\">View Document</span>\r\n                      </Link>\r\n                    ) : (\r\n                      <ExternalLink className=\"w-4 h-4 text-gray-400\" />\r\n                    )}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n          \r\n          {relevantDocumentUrl && (\r\n            <div className=\"mt-6 pt-4 border-t border-gray-200\">\r\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n                <Link href={relevantDocumentUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"inline-flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors font-medium\">\r\n                  <FileText className=\"w-5 h-5\" />\r\n                  <span>View Source Document in Repository</span>\r\n                  <ExternalLink className=\"w-5 h-5\" />\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default QwenResponseDisplay;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2189, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/app/search/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { useAuth } from \"@/lib/auth-context\"\r\nimport { Navbar } from \"@/components/navbar\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { SearchIcon, FileText, TrendingUp, BotIcon, Eye } from \"lucide-react\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport Image from \"next/image\"\r\nimport AuthService from '@/lib/services/auth-service';\r\nimport { Document } from '@/lib/api/types';\r\nimport SuperMapper from '@/lib/utils/super-mapper';\r\nimport QwenResponseDisplay from '@/components/qwen-response-display';\r\nimport { cleanDocumentTitle } from '@/lib/utils/document-utils';\r\nimport { useToast } from '@/components/ui/use-toast';\r\n\r\nexport default function SearchPage() {\r\n  const { user, isAuthenticated, isLoading } = useAuth()\r\n  const router = useRouter()\r\n  const [searchQuery, setSearchQuery] = useState(\"\")\r\n  const [hasPerformedSearch, setHasPerformedSearch] = useState(false)\r\n  const [searchResults, setSearchResults] = useState<{\r\n    documents: Document[]\r\n  }>({\r\n    documents: [],\r\n  })\r\n  const [generatedResponse, setGeneratedResponse] = useState<string | null>(null);\r\n  const [generationType, setGenerationType] = useState<string>('');\r\n  const [isGenerating, setIsGenerating] = useState<boolean>(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [sources, setSources] = useState<any[]>([]); // State to store the sources used in the AI response\r\n  const [relevantDocumentUrl, setRelevantDocumentUrl] = useState<string | undefined>(undefined); // State to store the relevant document URL\r\n\r\n  useEffect(() => {\r\n    if (!isLoading && !isAuthenticated) {\r\n      router.push(\"/\");\r\n    }\r\n  }, [isAuthenticated, isLoading, router])\r\n\r\n  const performSearch = async () => {\r\n    if (searchQuery.trim()) {\r\n      setHasPerformedSearch(true);\r\n      setLoading(true);\r\n      setIsGenerating(true);\r\n      try {\r\n        const token = await AuthService.getAccessToken();\r\n        if (!token) {\r\n          throw new Error('No authentication token found');\r\n        }\r\n\r\n        // Always use semantic search with AI generation by default\r\n        const needsGeneration = true; // Always generate AI response\r\n        \r\n        // Build query parameters for the new search API - always use semantic search\r\n        const queryParams = new URLSearchParams();\r\n        queryParams.append('query', searchQuery);\r\n        queryParams.append('useSemantic', 'true'); // Always use semantic search\r\n        queryParams.append('generate', needsGeneration.toString()); // Always generate AI response\r\n        queryParams.append('generationType', 'text-only'); // Default to text-only generation for documents\r\n        \r\n        // Search for documents using the new enhanced search API\r\n        const response = await fetch(`/api/search?${queryParams.toString()}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          // Handle different status codes appropriately\r\n          if (response.status === 500) {\r\n            console.error('Search API internal server error:', response.status, response.statusText);\r\n            // Set empty results and show user-friendly message\r\n            setSearchResults({ documents: [] });\r\n            return;\r\n          } else if (response.status === 401) {\r\n            console.error('Authentication error during search:', response.status);\r\n            await AuthService.logout();\r\n            return;\r\n          } else if (response.status === 403) {\r\n            console.error('Forbidden access during search:', response.status);\r\n            setSearchResults({ documents: [] });\r\n            return;\r\n          } else {\r\n            throw new Error(`Failed to fetch documents: ${response.status} ${response.statusText}`);\r\n          }\r\n        }\r\n\r\n        const data = await response.json();\r\n        \r\n        // Extract documents from the enhanced search results\r\n        // Handle both direct document results and enhanced search results with additional metadata\r\n        const documents = data.results.map((result: any) => {\r\n          // If result has a document property, use it; otherwise use the result itself\r\n          return result.document || result;\r\n        });\r\n        \r\n        // Handle generated response if present\r\n        if (data.generatedResponse) {\r\n          setGeneratedResponse(data.generatedResponse);\r\n          setGenerationType(data.generationType || 'semantic'); // Default to semantic\r\n          setSources(data.sources || []); // Set the sources used in the AI response\r\n          setRelevantDocumentUrl(data.relevantDocumentUrl || undefined); // Set the relevant document URL\r\n        } else {\r\n          setGeneratedResponse(null);\r\n          setSources([]); // Clear sources when there's no generated response\r\n          setRelevantDocumentUrl(undefined); // Clear the document URL as well\r\n        }\r\n        \r\n        setSearchResults({\r\n          documents: documents || [],\r\n        });\r\n      } catch (error) {\r\n        console.error('Search error:', error);\r\n        setSearchResults({ documents: [] });\r\n        setGeneratedResponse(null);\r\n        setSources([]); // Clear sources on error as well\r\n        setRelevantDocumentUrl(undefined); // Clear document URL on error as well\r\n      } finally {\r\n        setLoading(false);\r\n        setIsGenerating(false);\r\n      }\r\n    } else {\r\n      setSearchResults({ documents: [] });\r\n      setGeneratedResponse(null);\r\n      setHasPerformedSearch(false);\r\n      setSources([]); // Clear sources when there's no search query\r\n      setRelevantDocumentUrl(undefined); // Clear document URL when there's no search query\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Image\r\n              src=\"/LSPULogo.png\"\r\n              alt=\"LSPU Logo\"\r\n              width={64}\r\n              height={64}\r\n              className=\"object-contain animate-spin\"\r\n            />\r\n          </div>\r\n          <p className=\"text-lg text-muted-foreground\">Loading search...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Image\r\n              src=\"/LSPULogo.png\"\r\n              alt=\"LSPU Logo\"\r\n              width={64}\r\n              height={64}\r\n              className=\"object-contain animate-spin\"\r\n            />\r\n          </div>\r\n          <p className=\"text-lg text-muted-foreground\">Redirecting to login...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Don't render if user is null but authentication is loading\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 flex items-center justify-center mx-auto mb-4 overflow-hidden\">\r\n            <Image\r\n              src=\"/LSPULogo.png\"\r\n              alt=\"LSPU Logo\"\r\n              width={64}\r\n              height={64}\r\n              className=\"object-contain animate-spin\"\r\n            />\r\n          </div>\r\n          <p className=\"text-lg text-muted-foreground\">Loading user data...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const totalResults = searchResults.documents.length\r\n\r\n  const popularSearches = [\"Research\", \"Curriculum\", \"Policy\", \"Extension\", \"Teaching\"]\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      <Navbar />\r\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n       <div className=\"mb-8 animate-fade-in text-center\">\r\n         <h1 className=\"text-3xl md:text-4xl font-bold text-foreground mb-2\">AI-Powered Search</h1>\r\n         <p className=\"text-muted-foreground\">Find documents and resources across the system</p>\r\n       </div>\r\n\r\n        {/* Search Bar */}\r\n        <Card className=\"mb-8 animate-fade-in\">\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"relative mb-4\">\r\n              <SearchIcon className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5\" style={{ color: 'gray' }} />\r\n              <Input\r\n                placeholder=\"Ask or search about institutional documents and files (English/Filipino)\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === 'Enter') {\r\n                    performSearch();\r\n                  }\r\n                }}\r\n                className=\"pl-12 h-14 text-lg\"\r\n              />\r\n              <Button\r\n                onClick={performSearch}\r\n                className=\"absolute right-2 top-1/2 -translate-y-1/2 h-10 w-10 p-0 opacity-0\"\r\n                aria-label=\"Search\"\r\n              >\r\n                S\r\n              </Button>\r\n            </div>\r\n            {/* Advanced search indicator - shows that we're using the most advanced search by default */}\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Search Results */}\r\n        {searchQuery && hasPerformedSearch && (\r\n          <div className=\"animate-fade-in\">\r\n            <div className=\"mb-6\">\r\n              <h2 className=\"text-xl font-semibold\">\r\n                {loading ? 'Searching...' : `${searchResults.documents.length} ${searchResults.documents.length === 1 ? \"result\" : \"results\"} found for \"${searchQuery}\"`}\r\n              </h2>\r\n              {generatedResponse && searchResults.documents.length > 0 && (\r\n                <p className=\"text-sm text-muted-foreground mt-1\">\r\n                  Showing the most relevant document for your query\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Display generated response if available */}\r\n            <QwenResponseDisplay\r\n              generatedResponse={generatedResponse || ''}\r\n              generationType={generationType}\r\n              sources={sources} // Pass the sources used in the AI response\r\n              relevantDocumentUrl={relevantDocumentUrl} // Pass the relevant document URL\r\n              isLoading={isGenerating} // Always show loading when generating since we're always using semantic search\r\n            />\r\n\r\n            {/* Only show the documents tab if we don't have a generated response or if we want to show both */}\r\n            {!generatedResponse ? (\r\n              searchResults.documents.length > 0 && (\r\n                <Tabs defaultValue=\"documents\" className=\"w-full\">\r\n                  <TabsList className=\"mb-6\">\r\n                    <TabsTrigger value=\"documents\">Documents</TabsTrigger>\r\n                  </TabsList>\r\n\r\n                  <TabsContent value=\"documents\" className=\"space-y-4\">\r\n                    {loading ? (\r\n                      <div className=\"flex justify-center py-8\">\r\n                        <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\"></div>\r\n                      </div>\r\n                    ) : (\r\n                      searchResults.documents.map((doc, index) => {\r\n                        // Check if this document is from enhanced search (has additional properties)\r\n                        const enhancedResult = Array.isArray(searchResults.documents) && searchResults.documents.length > 0 && 'documentId' in searchResults.documents[0];\r\n                        const enhancedDoc = enhancedResult ? (searchResults as any).documents[index] : null;\r\n                        \r\n                        return (\r\n                          <Card key={`${doc.id}-${index}`} className=\"hover:shadow-lg transition-shadow cursor-pointer\" onClick={() => {\r\n                            // Navigate to the document preview page\r\n                            // Check multiple possible locations for the document ID or URL\r\n                            \r\n                            // First, check if the result has a direct documentUrl field (using type assertion to any)\r\n                            const resultWithUrl = doc as any;\r\n                            if (resultWithUrl.documentUrl && resultWithUrl.documentUrl !== `/repository/preview/undefined` && !resultWithUrl.documentUrl.includes('/repository/preview/undefined')) {\r\n                              router.push(resultWithUrl.documentUrl);\r\n                            }\r\n                            // Then check if enhancedDoc has originalDocumentId which is the database ID\r\n                            else if (enhancedDoc?.originalDocumentId) {\r\n                              // Use the original database document ID for preview\r\n                              router.push(`/repository/preview/${enhancedDoc.originalDocumentId}`);\r\n                            }\r\n                            // Check if enhancedDoc has documentUrl\r\n                            else if (enhancedDoc?.documentUrl && enhancedDoc.documentUrl !== `/repository/preview/undefined` && !enhancedDoc.documentUrl.includes('/repository/preview/undefined')) {\r\n                              // Use the document URL if available\r\n                              router.push(enhancedDoc.documentUrl);\r\n                            }\r\n                            // Check if the document has a colivaraDocumentId and try to find the database ID\r\n                            else if (doc.colivaraDocumentId) {\r\n                              // If we have a Colivara document ID, navigate to the preview page with it\r\n                              // The preview API will handle mapping Colivara ID to database ID\r\n                              router.push(`/repository/preview/${doc.colivaraDocumentId}`);\r\n                            }\r\n                            // Fallback to the standard document preview URL using the document's own ID\r\n                            else {\r\n                              router.push(`/repository/preview/${doc.id}`);\r\n                            }\r\n                          }}>\r\n                            <CardHeader>\r\n                              <div className=\"flex items-start gap-3\">\r\n                                <div className=\"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center shrink-0\">\r\n                                  <FileText className=\"w-5 h-5 text-primary\" />\r\n                                  </div>\r\n                                <div className=\"flex-1\">\r\n                                  <div className=\"flex items-start justify-between gap-2\">\r\n                                    <CardTitle className=\"text-lg\">{cleanDocumentTitle(SuperMapper.getFieldValue(doc, 'title') || (doc as any).title || ((doc as any).document && SuperMapper.getFieldValue((doc as any).document, 'title')) || (doc as any).originalName || \"Untitled Document\")}</CardTitle>\r\n                                    <Badge variant=\"secondary\">{SuperMapper.getFieldValue(doc, 'category') || (doc as any).category || (doc as any).type || \"Uncategorized\"}</Badge>\r\n                                  </div>\r\n                                  {/* Show enhanced content snippet if available */}\r\n                                  {enhancedDoc?.snippet ? (\r\n                                    <CardDescription className=\"mt-1\" dangerouslySetInnerHTML={{ __html: enhancedDoc.snippet }} />\r\n                                  ) : (\r\n                                    <CardDescription className=\"mt-1\">{(doc as any).snippet || (doc as any).content || (doc as any).text || doc.description || (doc as any).document?.description || (doc as any).summary || \"No preview available\"}</CardDescription>\r\n                                  )}\r\n                                  <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                                    {(doc.tags || (doc as any).keywords || []).map((tag: string, index: number) => (\r\n                                      <Badge key={index} variant=\"outline\" className=\"text-xs\">\r\n                                        {tag}\r\n                                      </Badge>\r\n                                    ))}\r\n                                  </div>\r\n                                  {/* Show additional metadata if available from enhanced search */}\r\n                                  {enhancedDoc?.confidenceScore && (\r\n                                    <div className=\"mt-2 text-xs text-muted-foreground flex items-center gap-2\">\r\n                                      <span>Relevance: {(enhancedDoc.confidenceScore * 100).toFixed(0)}%</span>\r\n                                      {enhancedDoc.pageNumbers && enhancedDoc.pageNumbers.length > 0 && (\r\n                                        <span>Pages: {enhancedDoc.pageNumbers.join(', ')}</span>\r\n                                      )}\r\n                                    </div>\r\n                                  )}\r\n                                  {/* Show visual content if available */}\r\n                                  {enhancedDoc?.visualContent && (\r\n                                    <div className=\"mt-2\">\r\n                                      <div className=\"text-xs font-medium text-muted-foreground mb-1\">Evidence Image:</div>\r\n                                      <img\r\n                                        src={`data:image/png;base64,${enhancedDoc.visualContent}`}\r\n                                        alt=\"Evidence from document\"\r\n                                        className=\"max-w-xs max-h-32 object-contain border rounded\"\r\n                                      />\r\n                                    </div>\r\n                                  )}\r\n                                  {/* Preview link */}\r\n                                  <div className=\"mt-3 flex justify-end\">\r\n                                    <Button variant=\"outline\" size=\"sm\" onClick={(e) => {\r\n                                      e.stopPropagation(); // Prevent card click from triggering\r\n                                      // Navigate to the document preview page\r\n                                      // Check multiple possible locations for the document ID or URL\r\n                                      \r\n                                      // First, check if the result has a direct documentUrl field (using type assertion to any)\r\n                                      const resultWithUrl = doc as any;\r\n                                      if (resultWithUrl.documentUrl && resultWithUrl.documentUrl !== `/repository/preview/undefined` && !resultWithUrl.documentUrl.includes('/repository/preview/undefined')) {\r\n                                        router.push(resultWithUrl.documentUrl);\r\n                                      }\r\n                                      // Then check if enhancedDoc has originalDocumentId which is the database ID\r\n                                      else if (enhancedDoc?.originalDocumentId) {\r\n                                        // Use the original database document ID for preview\r\n                                        router.push(`/repository/preview/${enhancedDoc.originalDocumentId}`);\r\n                                      }\r\n                                      // Check if enhancedDoc has documentUrl\r\n                                      else if (enhancedDoc?.documentUrl && enhancedDoc.documentUrl !== `/repository/preview/undefined` && !enhancedDoc.documentUrl.includes('/repository/preview/undefined')) {\r\n                                        // Use the document URL if available\r\n                                        router.push(enhancedDoc.documentUrl);\r\n                                      }\r\n                                      // Check if the document has a colivaraDocumentId and try to find the database ID\r\n                                      else if (doc.colivaraDocumentId) {\r\n                                        // If we have a Colivara document ID, navigate to the preview page with it\r\n                                        // The preview API will handle mapping Colivara ID to database ID\r\n                                        router.push(`/repository/preview/${doc.colivaraDocumentId}`);\r\n                                      }\r\n                                      // Fallback to the standard document preview URL using the document's own ID\r\n                                      else {\r\n                                        router.push(`/repository/preview/${doc.id}`);\r\n                                      }\r\n                                    }}>\r\n                                      <Eye className=\"w-4 h-4 mr-1\" />\r\n                                      Preview\r\n                                    </Button>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </CardHeader>\r\n                          </Card>\r\n                        );\r\n                      })\r\n                    )}\r\n                  </TabsContent>\r\n                </Tabs>\r\n              )\r\n            ) : null}\r\n\r\n            {!loading && searchResults.documents.length === 0 && (\r\n              <Card>\r\n                <CardContent className=\"py-12 text-center\">\r\n                  <SearchIcon className=\"w-12 h-12 mx-auto mb-4\" style={{ color: 'gray' }} />\r\n                  <h3 className=\"text-lg font-semibold mb-2\">No results found</h3>\r\n                  <p className=\"text-muted-foreground\">Try different keywords or browse the repository</p>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Empty State */}\r\n        {!searchQuery && !hasPerformedSearch && (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in\">\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}