{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = 'default',\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: 'default' | 'destructive'\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        'text-muted-foreground ml-auto text-xs tracking-widest',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 396, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/avatar.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn('aspect-square size-full', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        'bg-muted flex size-full items-center justify-center rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,6LAAC,iLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},
    {"offset": {"line": 459, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/navbar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport Link from \"next/link\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { useAuth } from \"@/lib/auth-context\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\"\r\nimport { Menu, X, Search, MessageSquare, BarChart3, LogOut, UserRound, File, ClipboardCheck } from \"lucide-react\"\r\nimport Image from \"next/image\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport function Navbar() {\r\n  const { user, logout, isLoading, isAuthenticated } = useAuth()\r\n  const pathname = usePathname()\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)\r\n\r\n  // Don't render if user is not authenticated and not loading (meaning auth check is complete but user is not logged in)\r\n  if (!isAuthenticated && !isLoading) {\r\n    return null;\r\n  }\r\n\r\n  // Show loading state with skeleton if user is authenticated but still loading\r\n  if (isLoading) {\r\n    return (\r\n      <nav className=\"sticky top-0 z-50 bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60 border-b border-primary/20 shadow-sm\">\r\n        <div className=\"flex justify-between items-center h-16 px-4 sm:px-6 lg:px-8\">\r\n          {/* Left Side: Logo and Title (Loading skeleton) */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <Link href=\"/dashboard\" className=\"flex items-center gap-2 group\">\r\n              <div className=\"w-12 h-12 flex items-center justify-center group-hover:scale-105 transition-transform overflow-hidden\">\r\n                <Image\r\n                  src=\"/LSPULogo.png\"\r\n                  alt=\"LSPU Logo\"\r\n                  width={48}\r\n                  height={48}\r\n                  className=\"object-contain\"\r\n                  priority\r\n                />\r\n              </div>\r\n              <div className=\"hidden sm:flex sm:flex-col sm:items-start ml-2\">\r\n                <div className=\"text-xl font-bold bg-linear-to-r from-primary to-blue-700 bg-clip-text text-transparent\">LSPU KMIS</div>\r\n                <div className=\"text-xs text-muted-foreground -mt-1\">Knowledge Management Information System</div>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n \r\n          {/* Center: Navigation Links (Loading skeleton) */}\r\n          <div className=\"hidden md:flex items-center justify-center flex-1\">\r\n            <div className=\"flex items-center gap-1\">\r\n              <div className=\"h-10 w-24 bg-muted rounded animate-pulse mx-1\"></div>\r\n              <div className=\"h-10 w-20 bg-muted rounded animate-pulse mx-1\"></div>\r\n              <div className=\"h-10 w-20 bg-muted rounded animate-pulse mx-1\"></div>\r\n              <div className=\"h-10 w-24 bg-muted rounded animate-pulse mx-1\"></div>\r\n            </div>\r\n          </div>\r\n \r\n          {/* Right Side: User Profile (Loading skeleton) */}\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-8 h-8 rounded-full bg-muted animate-pulse\"></div>\r\n              <div className=\"hidden sm:block h-4 w-16 bg-muted rounded animate-pulse\"></div>\r\n              </div>\r\n            <div className=\"h-10 w-10 bg-muted rounded-full animate-pulse\"></div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n  const navigation = [\r\n    { name: \"Repository\", href: \"/repository\", icon: File },\r\n    { name: \"Search\", href: \"/search\", icon: Search },\r\n    ...(user?.role === \"ADMIN\" || user?.role === \"FACULTY\"\r\n      ? [\r\n          { name: \"QPRO\", href: \"/qpro\", icon: ClipboardCheck },\r\n          { name: \"Analytics\", href: \"/analytics\", icon: BarChart3 }\r\n        ]\r\n      : []),\r\n  ]\r\n\r\n  const getInitials = (name: string) => {\r\n    const initials = name\r\n      .split(\" \")\r\n      .map((n) => n[0])\r\n      .join(\"\")\r\n      .toUpperCase();\r\n    \r\n    // Avoid returning \"AU\" as initials, return first initial instead\r\n    if (initials === \"AU\") {\r\n      return initials.charAt(0);\r\n    }\r\n    return initials;\r\n  }\r\n\r\n  return (\r\n    <nav className=\"sticky top-0 z-50 bg-white/95 backdrop-blur supports-backdrop-filter:bg-white/60 border-b border-gray-200 shadow-sm\">\r\n      <div className=\"flex justify-between items-center h-16 px-4 sm:px-6 lg:px-8\">\r\n        {/* Left Side: Logo and Title */}\r\n        <div className=\"flex items-center gap-2\">\r\n          <Link href=\"/dashboard\" className=\"flex items-center gap-2 group\">\r\n            <div className=\"w-12 h-12 flex items-center justify-center group-hover:scale-105 transition-transform overflow-hidden\">\r\n              <Image\r\n                src=\"/LSPULogo.png\"\r\n                alt=\"LSPU Logo\"\r\n                width={48}\r\n                height={48}\r\n                className=\"object-contain\"\r\n                priority\r\n              />\r\n            </div>\r\n            <div className=\"hidden sm:flex sm:flex-col sm:items-start ml-2\">\r\n              <div className=\"text-xl font-bold\" style={{ color: '#2B4385' }}>LSPU KMIS</div>\r\n              <div className=\"text-xs text-gray-500 -mt-1\">Knowledge Management Information System</div>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Center: Navigation Links */}\r\n        <div className=\"hidden md:flex items-center justify-center flex-1\">\r\n          <div className=\"flex items-center gap-1\">\r\n            {navigation.map((item) => {\r\n              const Icon = item.icon\r\n              const isActive = pathname === item.href\r\n              return (\r\n                <Link key={item.name} href={item.href}>\r\n                  <Button\r\n                    variant={isActive ? \"secondary\" : \"ghost\"}\r\n                    className=\"gap-2\"\r\n                    style={isActive ? { color: '#2B4385', backgroundColor: 'rgba(43, 67, 133, 0.1)' } : {}}\r\n                  >\r\n                    <Icon className=\"w-4 h-4\" />\r\n                    {item.name}\r\n                  </Button>\r\n                </Link>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right Side: User Profile */}\r\n        <div className=\"flex items-center gap-4\">\r\n          <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n              <Button variant=\"ghost\" className=\"gap-2\">\r\n                <Avatar className=\"w-8 h-8\">\r\n                  <AvatarFallback className=\"text-sm flex items-center justify-center\" style={{backgroundColor: 'rgba(43, 67, 133, 0.1)', color: '#2B4385'}}>\r\n                    <UserRound className=\"w-4 h-4\" />\r\n                  </AvatarFallback>\r\n                </Avatar>\r\n                <span className=\"hidden sm:inline text-sm text-gray-700\">{user?.name}</span>\r\n              </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\" className=\"w-56\">\r\n              <DropdownMenuLabel>\r\n                <div className=\"flex flex-col gap-1\">\r\n                  <div className=\"font-medium text-gray-900\">{user?.name}</div>\r\n                  <div className=\"text-xs text-gray-500\">{user?.email}</div>\r\n                  <div className=\"text-xs text-gray-500 capitalize\">Role: {user?.role}</div>\r\n                </div>\r\n              </DropdownMenuLabel>\r\n              <DropdownMenuSeparator />\r\n              <DropdownMenuItem>\r\n                <UserRound className=\"w-4 h-4 mr-2\" />\r\n                Profile\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem\r\n                onClick={async () => {\r\n                  await logout();\r\n                }}\r\n                className=\"text-red-600\"\r\n              >\r\n                <LogOut className=\"w-4 h-4 mr-2\" />\r\n                Logout\r\n              </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"md:hidden\"\r\n            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n          >\r\n            {mobileMenuOpen ? <X className=\"w-5 h-5\" /> : <Menu className=\"w-5 h-5\" />}\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Mobile Navigation */}\r\n        {mobileMenuOpen && (\r\n          <div className=\"md:hidden py-4 border-t border-gray-200 animate-slide-in px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"flex flex-col gap-2\">\r\n              {navigation.map((item) => {\r\n                const Icon = item.icon\r\n                const isActive = pathname === item.href\r\n                return (\r\n                  <Link key={item.name} href={item.href} onClick={() => setMobileMenuOpen(false)}>\r\n                    <Button\r\n                      variant={isActive ? \"secondary\" : \"ghost\"}\r\n                      className=\"w-full justify-start gap-2\"\r\n                      style={isActive ? { color: '#2B4385', backgroundColor: 'rgba(43, 67, 133, 0.1)' } : {}}\r\n                    >\r\n                      <Icon className=\"w-4 h-4\" />\r\n                      {item.name}\r\n                    </Button>\r\n                  </Link>\r\n                )\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1071, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 1191, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 1243, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 1276, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/ui/select.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-placeholder:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-[--radix-select-content-available-height] min-w-32 origin-[--radix-select-content-transform-origin] overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[--radix-select-trigger-height] w-full min-w-[--radix-select-trigger-width] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:last:[span]:flex *:last:[span]:items-center *:last:[span]:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,qHAAE,EACX,8yBACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,8OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,aAAU;YACV,WAAW,IAAA,qHAAE,EACX,6iBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,yaACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,wNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,6LAAC,uLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,wOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6LAAC,yLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,8OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},
    {"offset": {"line": 1533, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/qpro/kra-review-component.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport {\r\n  CheckCircle,\r\n  BarChart3,\r\n} from 'lucide-react';\r\n\r\nexport interface KRAClassification {\r\n  id: string;\r\n  title: string;\r\n  count: number;\r\n  achievementRate: number;\r\n  strategicAlignment?: string;\r\n}\r\n\r\ninterface KRAReviewProps {\r\n  classifications: KRAClassification[];\r\n  isApproved?: boolean;\r\n}\r\n\r\n// Map KRA IDs to human-readable titles\r\nconst KRA_TITLES: { [key: string]: string } = {\r\n  'KRA 1': 'Development of New Curricula',\r\n  'KRA 2': 'Accreditation',\r\n  'KRA 3': 'Quality and Relevance of Instruction',\r\n  'KRA 4': 'International Activities',\r\n  'KRA 5': 'Research Outputs',\r\n  'KRA 6': 'Extension Programs',\r\n  'KRA 7': 'Community Partnerships',\r\n  'KRA 8': 'Technology Transfer',\r\n  'KRA 9': 'Revenue Generation',\r\n  'KRA 10': 'Resource Mobilization',\r\n  'KRA 11': 'Human Resource Management',\r\n  'KRA 12': 'Student Development',\r\n  'KRA 13': 'Health and Wellness',\r\n  'KRA 14': 'Environmental Sustainability',\r\n  'KRA 15': 'Quality Management',\r\n  'KRA 16': 'Governance',\r\n  'KRA 17': 'Digital Transformation',\r\n  'UNCLASSIFIED': 'Uncategorized Activities',\r\n};\r\n\r\nfunction getKRATitle(kraId: string, fallbackTitle?: string): string {\r\n  return KRA_TITLES[kraId] || fallbackTitle || kraId;\r\n}\r\n\r\nexport default function KRAReviewComponent({ classifications, isApproved = false }: KRAReviewProps) {\r\n\r\n  const getAchievementColor = (rate: number) => {\r\n    if (rate >= 80) return 'text-green-600';\r\n    if (rate >= 60) return 'text-yellow-600';\r\n    return 'text-red-600';\r\n  };\r\n\r\n  const getAchievementBg = (rate: number) => {\r\n    if (rate >= 80) return 'bg-green-50';\r\n    if (rate >= 60) return 'bg-yellow-50';\r\n    return 'bg-red-50';\r\n  };\r\n\r\n  // Map KRA ID to readable title\r\n  const mappedClassifications = classifications.map(kra => ({\r\n    ...kra,\r\n    title: getKRATitle(kra.id, kra.title)\r\n  }));\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <div className=\"flex items-center justify-between\">\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <BarChart3 className=\"w-5 h-5\" />\r\n            KRA Classification Review\r\n          </CardTitle>\r\n          {isApproved && (\r\n            <Badge variant=\"outline\" className=\"text-green-600 border-green-600\">\r\n              <CheckCircle className=\"w-3 h-3 mr-1\" />\r\n              Verified\r\n            </Badge>\r\n          )}\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-3\">\r\n        {mappedClassifications.map((kra) => (\r\n          <div\r\n            key={kra.id}\r\n            className={`p-4 rounded-lg border transition-all ${getAchievementBg(kra.achievementRate)} border-slate-200`}\r\n          >\r\n            <div className=\"flex items-start justify-between gap-3 mb-2\">\r\n              <div className=\"flex-1\">\r\n                <h4 className=\"font-medium text-slate-900\">{kra.title}</h4>\r\n                <p className=\"text-sm text-slate-600 mt-1\">\r\n                  {kra.count} activities recorded\r\n                </p>\r\n              </div>\r\n              <span className={`text-lg font-bold ${getAchievementColor(kra.achievementRate)}`}>\r\n                {kra.achievementRate}%\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm font-medium text-slate-600\">\r\n                  Achievement Rate\r\n                </span>\r\n                <span\r\n                  className={`text-sm font-bold ${getAchievementColor(kra.achievementRate)}`}\r\n                >\r\n                  {kra.achievementRate}%\r\n                </span>\r\n              </div>\r\n              <div className=\"w-full bg-slate-200 rounded-full h-2\">\r\n                <div\r\n                  className={`h-2 rounded-full transition-all ${\r\n                    kra.achievementRate >= 80\r\n                      ? 'bg-green-600'\r\n                      : kra.achievementRate >= 60\r\n                        ? 'bg-yellow-600'\r\n                        : 'bg-red-600'\r\n                  }`}\r\n                  style={{ width: `${kra.achievementRate}%` }}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        ))}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAJA;;;;;AAsBA,uCAAuC;AACvC,MAAM,aAAwC;IAC5C,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,UAAU;IACV,gBAAgB;AAClB;AAEA,SAAS,YAAY,KAAa,EAAE,aAAsB;IACxD,OAAO,UAAU,CAAC,MAAM,IAAI,iBAAiB;AAC/C;AAEe,SAAS,mBAAmB,EAAE,eAAe,EAAE,aAAa,KAAK,EAAkB;IAEhG,MAAM,sBAAsB,CAAC;QAC3B,IAAI,QAAQ,IAAI,OAAO;QACvB,IAAI,QAAQ,IAAI,OAAO;QACvB,OAAO;IACT;IAEA,MAAM,mBAAmB,CAAC;QACxB,IAAI,QAAQ,IAAI,OAAO;QACvB,IAAI,QAAQ,IAAI,OAAO;QACvB,OAAO;IACT;IAEA,+BAA+B;IAC/B,MAAM,wBAAwB,gBAAgB,GAAG,CAAC,CAAA,MAAO,CAAC;YACxD,GAAG,GAAG;YACN,OAAO,YAAY,IAAI,EAAE,EAAE,IAAI,KAAK;QACtC,CAAC;IAED,qBACE,6LAAC,oIAAI;;0BACH,6LAAC,0IAAU;0BACT,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,yIAAS;4BAAC,WAAU;;8CACnB,6LAAC,kOAAS;oCAAC,WAAU;;;;;;gCAAY;;;;;;;wBAGlC,4BACC,6LAAC,sIAAK;4BAAC,SAAQ;4BAAU,WAAU;;8CACjC,6LAAC,6OAAW;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;0BAMhD,6LAAC,2IAAW;gBAAC,WAAU;0BACpB,sBAAsB,GAAG,CAAC,CAAC,oBAC1B,6LAAC;wBAEC,WAAW,CAAC,qCAAqC,EAAE,iBAAiB,IAAI,eAAe,EAAE,iBAAiB,CAAC;;0CAE3G,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;0DAA8B,IAAI,KAAK;;;;;;0DACrD,6LAAC;gDAAE,WAAU;;oDACV,IAAI,KAAK;oDAAC;;;;;;;;;;;;;kDAGf,6LAAC;wCAAK,WAAW,CAAC,kBAAkB,EAAE,oBAAoB,IAAI,eAAe,GAAG;;4CAC7E,IAAI,eAAe;4CAAC;;;;;;;;;;;;;0CAIzB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;0DAAqC;;;;;;0DAGrD,6LAAC;gDACC,WAAW,CAAC,kBAAkB,EAAE,oBAAoB,IAAI,eAAe,GAAG;;oDAEzE,IAAI,eAAe;oDAAC;;;;;;;;;;;;;kDAGzB,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CACC,WAAW,CAAC,gCAAgC,EAC1C,IAAI,eAAe,IAAI,KACnB,iBACA,IAAI,eAAe,IAAI,KACrB,kBACA,cACN;4CACF,OAAO;gDAAE,OAAO,GAAG,IAAI,eAAe,CAAC,CAAC,CAAC;4CAAC;;;;;;;;;;;;;;;;;;uBAnC3C,IAAI,EAAE;;;;;;;;;;;;;;;;AA6CvB;KApFwB"}},
    {"offset": {"line": 1774, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/qpro/kpi-dashboard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useMemo } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  ChevronDown,\r\n  ChevronUp,\r\n  TrendingUp,\r\n  Activity,\r\n  Target,\r\n  CheckCircle2,\r\n  AlertCircle,\r\n  Clock,\r\n} from 'lucide-react';\r\n\r\n// Types for KPI-level data\r\nexport interface KPIActivity {\r\n  title: string;\r\n  target: number;\r\n  reported: number;\r\n  achievement: number;\r\n  status: 'MET' | 'PARTIAL' | 'NOT_STARTED';\r\n  confidence: number;\r\n}\r\n\r\nexport interface KPIGroup {\r\n  kraId: string;\r\n  kraTitle: string;\r\n  kpiId: string;\r\n  kpiTitle: string;\r\n  activities: KPIActivity[];\r\n  totalTarget: number;\r\n  totalReported: number;\r\n  completionPercentage: number;\r\n  status: 'MET' | 'ON_TRACK' | 'PARTIAL' | 'NOT_STARTED';\r\n}\r\n\r\ninterface KPIDashboardProps {\r\n  kpiGroups: KPIGroup[];\r\n  selectedQuarter?: number;\r\n  selectedYear?: number;\r\n}\r\n\r\n// Status configuration\r\nconst STATUS_CONFIG = {\r\n  MET: {\r\n    color: 'bg-green-100',\r\n    textColor: 'text-green-900',\r\n    borderColor: 'border-green-300',\r\n    icon: CheckCircle2,\r\n    label: 'Target Met',\r\n    badgeClass: 'bg-green-600',\r\n  },\r\n  ON_TRACK: {\r\n    color: 'bg-blue-100',\r\n    textColor: 'text-blue-900',\r\n    borderColor: 'border-blue-300',\r\n    icon: TrendingUp,\r\n    label: 'On Track',\r\n    badgeClass: 'bg-blue-600',\r\n  },\r\n  PARTIAL: {\r\n    color: 'bg-yellow-100',\r\n    textColor: 'text-yellow-900',\r\n    borderColor: 'border-yellow-300',\r\n    icon: Clock,\r\n    label: 'Partial Progress',\r\n    badgeClass: 'bg-yellow-600',\r\n  },\r\n  NOT_STARTED: {\r\n    color: 'bg-red-100',\r\n    textColor: 'text-red-900',\r\n    borderColor: 'border-red-300',\r\n    icon: AlertCircle,\r\n    label: 'Not Started',\r\n    badgeClass: 'bg-red-600',\r\n  },\r\n};\r\n\r\n/**\r\n * Feature 1: KPI-Level Groupings with visual hierarchy\r\n */\r\nfunction KPIGroupCard({\r\n  kpi,\r\n  expanded,\r\n  onToggle,\r\n}: {\r\n  kpi: KPIGroup;\r\n  expanded: boolean;\r\n  onToggle: () => void;\r\n}) {\r\n  const statusConfig = STATUS_CONFIG[kpi.status];\r\n  const StatusIcon = statusConfig.icon;\r\n\r\n  return (\r\n    <Card className={`border-l-4 ${statusConfig.borderColor}`}>\r\n      <CardHeader className=\"pb-3 cursor-pointer\" onClick={onToggle}>\r\n        <div className=\"flex flex-col sm:flex-row sm:items-start gap-2 sm:gap-3 sm:justify-between\">\r\n          <div className=\"flex-1 min-w-0 pr-2\">\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mb-2\">\r\n              <h3 className=\"font-semibold text-sm sm:text-base text-slate-900 truncate\">\r\n                {kpi.kraId} - {kpi.kpiTitle}\r\n              </h3>\r\n              <Badge className={`${statusConfig.badgeClass} text-white shrink-0 whitespace-nowrap`}>\r\n                {statusConfig.label}\r\n              </Badge>\r\n            </div>\r\n            <p className=\"text-xs text-slate-600 line-clamp-1\">{kpi.kraTitle}</p>\r\n          </div>\r\n          <div className=\"shrink-0 flex items-center justify-end\">\r\n            {expanded ? (\r\n              <ChevronUp className=\"w-5 h-5 text-slate-400\" />\r\n            ) : (\r\n              <ChevronDown className=\"w-5 h-5 text-slate-400\" />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n\r\n      {/* Feature 2: Progress metrics visualization */}\r\n      <CardContent className=\"space-y-4 pt-4\">\r\n        {/* Progress bar and percentage */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2\">\r\n            <span className=\"text-sm font-medium text-slate-700\">Target Progress</span>\r\n            <span className={`text-2xl sm:text-2xl font-bold ${statusConfig.textColor}`}>\r\n              {kpi.completionPercentage}%\r\n            </span>\r\n          </div>\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center gap-2\">\r\n            <div className=\"flex-1 bg-slate-200 rounded-full h-3 overflow-hidden\">\r\n              <div\r\n                className={`h-full transition-all rounded-full ${statusConfig.badgeClass}`}\r\n                style={{ width: `${Math.min(kpi.completionPercentage, 100)}%` }}\r\n              />\r\n            </div>\r\n            <span className=\"text-xs text-slate-600 font-medium shrink-0\">\r\n              {(() => {\r\n                const isRate =\r\n                  Number.isFinite(kpi.totalTarget) &&\r\n                  Number.isFinite(kpi.totalReported) &&\r\n                  kpi.totalTarget > 0 &&\r\n                  kpi.totalTarget <= 100 &&\r\n                  kpi.totalReported >= 0 &&\r\n                  kpi.totalReported <= 100;\r\n\r\n                const reported = isRate ? `${kpi.totalReported.toFixed(2)}%` : String(kpi.totalReported);\r\n                const target = isRate ? `${kpi.totalTarget.toFixed(2)}%` : String(kpi.totalTarget);\r\n                const reportedNum = Number(kpi.totalReported);\r\n                const targetNum = Number(kpi.totalTarget);\r\n\r\n                // Hide the \"0/0\" shorthand when both reported and target are zero or invalid\r\n                if ((reportedNum === 0 || Number.isNaN(reportedNum)) && (targetNum === 0 || Number.isNaN(targetNum))) {\r\n                  return '';\r\n                }\r\n\r\n                return `${reported}/${target}`;\r\n              })()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Status indicator with detail */}\r\n        <div className={`p-3 rounded-lg ${statusConfig.color} border ${statusConfig.borderColor}`}>\r\n          <div className=\"flex items-start gap-3\">\r\n            <StatusIcon className=\"w-5 h-5 shrink-0 mt-0.5\" />\r\n            <div className=\"flex-1 min-w-0\">\r\n              <p className={`text-sm font-semibold ${statusConfig.textColor}`}>\r\n                {statusConfig.label}\r\n              </p>\r\n              <p className=\"text-xs text-slate-700 mt-0.5 wrap-break-word\">\r\n                {kpi.completionPercentage >= 100\r\n                  ? 'Target achieved'\r\n                  : `${100 - kpi.completionPercentage}% remaining`}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Expanded view: Feature 4 - Drill down to activities */}\r\n        {expanded && (\r\n          <div className=\"space-y-3 pt-3 border-t\">\r\n            <h4 className=\"text-sm font-semibold text-slate-900 flex items-center gap-2\">\r\n              <Activity className=\"w-4 h-4\" />\r\n              Activities ({kpi.activities.length})\r\n            </h4>\r\n            <div className=\"space-y-2 max-h-96 overflow-y-auto\">\r\n              {kpi.activities.map((activity, idx) => (\r\n                <div\r\n                  key={idx}\r\n                  className=\"p-3 bg-slate-50 rounded-lg border border-slate-200 hover:border-slate-300 transition-colors\"\r\n                >\r\n                  <div className=\"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-3\">\r\n                    <h5 className=\"text-sm font-medium text-slate-900 flex-1 min-w-0\">\r\n                      {activity.title}\r\n                    </h5>\r\n                    <Badge\r\n                      variant=\"outline\"\r\n                      className={`text-xs shrink-0 whitespace-nowrap ${\r\n                        activity.status === 'MET'\r\n                          ? 'bg-green-50 text-green-700 border-green-200'\r\n                          : activity.status === 'PARTIAL'\r\n                          ? 'bg-yellow-50 text-yellow-700 border-yellow-200'\r\n                          : 'bg-red-50 text-red-700 border-red-200'\r\n                      }`}\r\n                    >\r\n                      {activity.status}\r\n                    </Badge>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-3 gap-2 mb-3 text-xs\">\r\n                    <div className=\"bg-white p-2 rounded border border-slate-100\">\r\n                      <p className=\"text-slate-600 font-medium mb-0.5\">Target</p>\r\n                      <p className=\"font-semibold text-slate-900\">\r\n                        {activity.target}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"bg-white p-2 rounded border border-slate-100\">\r\n                      <p className=\"text-slate-600 font-medium mb-0.5\">Reported</p>\r\n                      <p className=\"font-semibold text-slate-900\">\r\n                        {activity.reported}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"bg-white p-2 rounded border border-slate-100\">\r\n                      <p className=\"text-slate-600 font-medium mb-0.5\">Achievement</p>\r\n                      <p className=\"font-semibold text-slate-900\">\r\n                        {activity.achievement}%\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-2 text-xs\">\r\n                      <span className=\"text-slate-600\">Progress</span>\r\n                      <span className=\"text-slate-600 shrink-0\">\r\n                        {(activity.confidence * 100).toFixed(0)}% confident\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex-1 bg-slate-300 rounded h-1.5 overflow-hidden\">\r\n                      <div\r\n                        className={`h-full rounded ${\r\n                          activity.status === 'MET'\r\n                            ? 'bg-green-600'\r\n                            : activity.status === 'PARTIAL'\r\n                            ? 'bg-yellow-600'\r\n                            : 'bg-red-600'\r\n                        }`}\r\n                        style={{ width: `${Math.min(activity.achievement, 100)}%` }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// REMOVED: Feature 5 - Quarter Comparison\r\n// This chart was removed to de-clutter the UI. Performance trends are visible in the KPI-Level Breakdown section.\r\n\r\n/**\r\n * Main KPI Dashboard Component\r\n * Combines all 5 features\r\n */\r\nexport default function KPIDashboard({\r\n  kpiGroups,\r\n  selectedQuarter,\r\n  selectedYear = 2025,\r\n}: KPIDashboardProps) {\r\n  const [expandedKPI, setExpandedKPI] = useState<string | null>(null);\r\n\r\n  // Calculate summary metrics\r\n  const summary = useMemo(() => {\r\n    const total = kpiGroups.length;\r\n    const met = kpiGroups.filter((k) => k.status === 'MET').length;\r\n    const onTrack = kpiGroups.filter((k) => k.status === 'ON_TRACK').length;\r\n    const partial = kpiGroups.filter((k) => k.status === 'PARTIAL').length;\r\n    const notStarted = kpiGroups.filter((k) => k.status === 'NOT_STARTED').length;\r\n    const avgCompletion =\r\n      kpiGroups.reduce((sum, k) => sum + k.completionPercentage, 0) / total;\r\n    const totalActivities = kpiGroups.reduce((sum, k) => sum + k.activities.length, 0);\r\n\r\n    return { total, met, onTrack, partial, notStarted, avgCompletion, totalActivities };\r\n  }, [kpiGroups]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Summary Header */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>KPI Performance Dashboard</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\r\n            <div className=\"p-3 bg-slate-50 rounded-lg\">\r\n              <p className=\"text-xs text-slate-600 uppercase font-semibold\">Total KPIs</p>\r\n              <p className=\"text-2xl font-bold text-slate-900 mt-1\">{summary.total}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-green-50 rounded-lg border border-green-200\">\r\n              <p className=\"text-xs text-green-700 uppercase font-semibold\">Met</p>\r\n              <p className=\"text-2xl font-bold text-green-900 mt-1\">{summary.met}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-blue-50 rounded-lg border border-blue-200\">\r\n              <p className=\"text-xs text-blue-700 uppercase font-semibold\">On Track</p>\r\n              <p className=\"text-2xl font-bold text-blue-900 mt-1\">{summary.onTrack}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-yellow-50 rounded-lg border border-yellow-200\">\r\n              <p className=\"text-xs text-yellow-700 uppercase font-semibold\">Partial</p>\r\n              <p className=\"text-2xl font-bold text-yellow-900 mt-1\">{summary.partial}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-red-50 rounded-lg border border-red-200\">\r\n              <p className=\"text-xs text-red-700 uppercase font-semibold\">Not Started</p>\r\n              <p className=\"text-2xl font-bold text-red-900 mt-1\">{summary.notStarted}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-purple-50 rounded-lg border border-purple-200\">\r\n              <p className=\"text-xs text-purple-700 uppercase font-semibold\">Avg Completion</p>\r\n              <p className=\"text-2xl font-bold text-purple-900 mt-1\">\r\n                {summary.avgCompletion.toFixed(0)}%\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Feature 1: KPI Groups with Feature 3 & 4 */}\r\n      <div className=\"space-y-3\">\r\n        <h2 className=\"text-lg font-semibold text-slate-900 px-1\">\r\n          KPI-Level Breakdown\r\n        </h2>\r\n        {kpiGroups.map((kpi) => (\r\n          <KPIGroupCard\r\n            key={kpi.kpiId}\r\n            kpi={kpi}\r\n            expanded={expandedKPI === kpi.kpiId}\r\n            onToggle={() =>\r\n              setExpandedKPI(expandedKPI === kpi.kpiId ? null : kpi.kpiId)\r\n            }\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2555, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/components/qpro/qpro-analysis-detail.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Label } from '@/components/ui/label';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select';\r\nimport { Loader2, AlertCircle, BookOpen, Zap, BarChart3, Lightbulb, AlertTriangle, Target, Clock, CheckCircle2, Edit2, RefreshCw, TrendingUp } from 'lucide-react';\r\nimport KRAReviewComponent, { KRAClassification } from './kra-review-component';\r\nimport RecommendationsDisplay, { Recommendation } from './recommendations-display';\r\nimport KPIDashboard, { KPIGroup, KPIActivity } from './kpi-dashboard';\r\nimport AuthService from '@/lib/services/auth-service';\r\nimport ReactMarkdown from 'react-markdown';\r\n\r\n// Helper function to safely render prescriptive analysis items\r\n// Handles strings, objects with action/timeline fields, and arrays\r\n// Renders arrays as proper bullet lists for professional formatting\r\nfunction renderPrescriptiveItem(item: any): React.ReactNode {\r\n  if (!item) return null;\r\n  \r\n  if (typeof item === 'string') {\r\n    // Try to parse JSON strings\r\n    try {\r\n      const parsed = JSON.parse(item);\r\n      return renderPrescriptiveItem(parsed);\r\n    } catch {\r\n      // Clean up markdown artifacts\r\n      return item\r\n        .replace(/^#{1,3}\\s+/gm, '')\r\n        .replace(/\\*\\*([^*]+)\\*\\*/g, '$1')\r\n        .replace(/\\*([^*]+)\\*/g, '$1')\r\n        .replace(/^\\[\"|\"\\]$/g, '')\r\n        .trim();\r\n    }\r\n  }\r\n  \r\n  // Handle arrays - render as bullet list\r\n  if (Array.isArray(item)) {\r\n    if (item.length === 0) return null;\r\n    return (\r\n      <ul className=\"list-disc list-inside space-y-1 mt-1\">\r\n        {item.map((subItem, idx) => {\r\n          let content = '';\r\n          if (typeof subItem === 'string') {\r\n            content = subItem.replace(/^#{1,3}\\s+/gm, '').replace(/\\*\\*([^*]+)\\*\\*/g, '$1').trim();\r\n          } else if (subItem?.action) {\r\n            content = `${subItem.action}${subItem.timeline ? ` (${subItem.timeline})` : ''}`;\r\n          } else if (subItem?.recommendation) {\r\n            content = subItem.recommendation;\r\n          } else if (typeof subItem === 'object') {\r\n            content = JSON.stringify(subItem);\r\n          } else {\r\n            content = String(subItem);\r\n          }\r\n          return <li key={idx} className=\"text-sm text-slate-700\">{content}</li>;\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n  \r\n  if (typeof item === 'object' && item !== null) {\r\n    if (item.action) {\r\n      return `${item.action}${item.timeline ? ` (${item.timeline})` : ''}`;\r\n    }\r\n    if (item.recommendation) {\r\n      return item.recommendation;\r\n    }\r\n    return JSON.stringify(item);\r\n  }\r\n  return String(item);\r\n}\r\n\r\n// Parse JSON string or array into structured action items\r\nfunction parseRecommendations(value: any): Array<{action: string; timeline?: string; priority?: string}> {\r\n  if (!value) return [];\r\n  \r\n  // Already an array\r\n  if (Array.isArray(value)) {\r\n    return value.map((item: any) => {\r\n      if (typeof item === 'string') {\r\n        return { action: item };\r\n      }\r\n      if (typeof item === 'object' && item !== null) {\r\n        return {\r\n          action: item.action || item.recommendation || JSON.stringify(item),\r\n          timeline: item.timeline || item.deadline,\r\n          priority: item.priority\r\n        };\r\n      }\r\n      return { action: String(item) };\r\n    });\r\n  }\r\n  \r\n  // Try to parse as JSON string\r\n  if (typeof value === 'string') {\r\n    try {\r\n      const parsed = JSON.parse(value);\r\n      return parseRecommendations(parsed);\r\n    } catch {\r\n      // Split by newlines or bullet points if plain text\r\n      const lines = value.split(/\\n||\\.(?=\\s*[A-Z])/).filter((l: string) => l.trim());\r\n      return lines.map((line: string) => ({ action: line.trim() }));\r\n    }\r\n  }\r\n  \r\n  // Single object\r\n  if (typeof value === 'object' && value !== null) {\r\n    return [{\r\n      action: value.action || value.recommendation || JSON.stringify(value),\r\n      timeline: value.timeline,\r\n      priority: value.priority\r\n    }];\r\n  }\r\n  \r\n  return [{ action: String(value) }];\r\n}\r\n\r\n// Parse and safely extract prescriptive analysis data from various formats\r\n// Handles cases where data might be a dictionary with keys like 'a', 'b', 'c', 'd', 'KRA 1', etc.\r\nfunction extractPrescriptiveValue(data: any): string | null {\r\n  if (!data) return null;\r\n  \r\n  // If it's already a string, return it\r\n  if (typeof data === 'string') return data;\r\n  \r\n  // If it's an object, check for common value fields\r\n  if (typeof data === 'object') {\r\n    // If it's a direct value object (not a wrapper dict)\r\n    if (data.recommendations || data.content || data.analysis || data.text) {\r\n      return data.recommendations || data.content || data.analysis || data.text;\r\n    }\r\n    \r\n    // If it's a dictionary with keys, extract the first/best value\r\n    const keys = Object.keys(data);\r\n    if (keys.length === 0) return null;\r\n    \r\n    // Skip single-letter keys that might indicate a bug (a, b, c, d)\r\n    const valueKey = keys.find(k => k.length > 1) || keys[0];\r\n    const value = data[valueKey];\r\n    \r\n    // Recursively extract if the value is also an object\r\n    if (typeof value === 'object' && value !== null) {\r\n      if (value.recommendations || value.content || value.analysis) {\r\n        return value.recommendations || value.content || value.analysis;\r\n      }\r\n      return JSON.stringify(value);\r\n    }\r\n    \r\n    return String(value);\r\n  }\r\n  \r\n  return null;\r\n}\r\n\r\n// Get status styling based on achievement percentage\r\nfunction getAchievementStatus(achievement: number): {\r\n  level: 'critical' | 'warning' | 'success'; \r\n  label: string; \r\n  bgColor: string; \r\n  textColor: string;\r\n  borderColor: string;\r\n} {\r\n  if (achievement < 50) {\r\n    return {\r\n      level: 'critical',\r\n      label: 'CRITICAL ALERT',\r\n      bgColor: 'bg-red-100',\r\n      textColor: 'text-red-900',\r\n      borderColor: 'border-red-500'\r\n    };\r\n  }\r\n  if (achievement < 80) {\r\n    return {\r\n      level: 'warning',\r\n      label: 'NEEDS ATTENTION',\r\n      bgColor: 'bg-amber-100',\r\n      textColor: 'text-amber-900',\r\n      borderColor: 'border-amber-500'\r\n    };\r\n  }\r\n  return {\r\n    level: 'success',\r\n    label: 'ON TRACK',\r\n    bgColor: 'bg-green-100',\r\n    textColor: 'text-green-900',\r\n    borderColor: 'border-green-500'\r\n  };\r\n}\r\n\r\n// Get priority badge color\r\nfunction getPriorityColor(priority?: string): string {\r\n  switch (priority?.toLowerCase()) {\r\n    case 'high':\r\n    case 'critical':\r\n      return 'bg-red-500 text-white';\r\n    case 'medium':\r\n      return 'bg-amber-500 text-white';\r\n    case 'low':\r\n      return 'bg-blue-500 text-white';\r\n    default:\r\n      return 'bg-gray-500 text-white';\r\n  }\r\n}\r\n\r\n// Format markdown text by removing raw markdown characters and converting to proper text\r\n// Handles strings, objects, arrays safely - prevents \"text.replace is not a function\" errors\r\nfunction formatMarkdownText(text: any): string {\r\n  if (!text) return '';\r\n  \r\n  // Handle non-string types first\r\n  if (typeof text !== 'string') {\r\n    // If it's an array, join items with newlines\r\n    if (Array.isArray(text)) {\r\n      return text.map((item: any) => formatMarkdownText(item)).join('\\n');\r\n    }\r\n    // If it's an object with action/recommendation field\r\n    if (typeof text === 'object') {\r\n      if (text.action) {\r\n        return `${text.action}${text.timeline ? ` (${text.timeline})` : ''}`;\r\n      }\r\n      if (text.recommendation) {\r\n        return text.recommendation;\r\n      }\r\n      // Fallback - try to stringify\r\n      try {\r\n        return JSON.stringify(text);\r\n      } catch {\r\n        return String(text);\r\n      }\r\n    }\r\n    // Convert to string for other types\r\n    return String(text);\r\n  }\r\n  \r\n  // Now we know text is a string\r\n  let formatted = text;\r\n  \r\n  // Try to parse JSON strings\r\n  try {\r\n    const parsed = JSON.parse(formatted);\r\n    if (Array.isArray(parsed)) {\r\n      // Return as bulleted list\r\n      return parsed.map((item: any) => {\r\n        if (typeof item === 'string') return item;\r\n        if (item?.action) return item.action;\r\n        if (item?.recommendation) return item.recommendation;\r\n        return String(item);\r\n      }).join('\\n ');\r\n    }\r\n    if (typeof parsed === 'object' && parsed !== null) {\r\n      if (parsed.action) return parsed.action;\r\n      if (parsed.recommendation) return parsed.recommendation;\r\n    }\r\n  } catch {\r\n    // Not JSON, continue with string processing\r\n  }\r\n  \r\n  // Remove markdown headers (###, ##, #)\r\n  formatted = formatted.replace(/^#{1,3}\\s+/gm, '');\r\n  \r\n  // Remove bold/italic markers (**text** or *text*)\r\n  formatted = formatted.replace(/\\*\\*([^*]+)\\*\\*/g, '$1');\r\n  formatted = formatted.replace(/\\*([^*]+)\\*/g, '$1');\r\n  \r\n  // Remove JSON array brackets and quotes\r\n  formatted = formatted.replace(/^\\[\"|\"\\]$/g, '');\r\n  formatted = formatted.replace(/\",\"/g, ', ');\r\n  \r\n  return formatted.trim();\r\n}\r\n\r\n// Render formatted text with proper list formatting\r\nfunction renderFormattedText(text: string): React.ReactNode {\r\n  if (!text) return null;\r\n  \r\n  // Split by lines\r\n  const lines = text.split('\\n').filter(line => line.trim());\r\n  \r\n  const elements: React.ReactNode[] = [];\r\n  let currentList: string[] = [];\r\n  let listType: 'bullet' | 'numbered' | null = null;\r\n  \r\n  const flushList = () => {\r\n    if (currentList.length > 0) {\r\n      if (listType === 'numbered') {\r\n        elements.push(\r\n          <ol key={`ol-${elements.length}`} className=\"list-decimal list-inside space-y-1 ml-2\">\r\n            {currentList.map((item, idx) => (\r\n              <li key={idx}>{formatMarkdownText(item)}</li>\r\n            ))}\r\n          </ol>\r\n        );\r\n      } else {\r\n        elements.push(\r\n          <ul key={`ul-${elements.length}`} className=\"list-disc list-inside space-y-1 ml-2\">\r\n            {currentList.map((item, idx) => (\r\n              <li key={idx}>{formatMarkdownText(item)}</li>\r\n            ))}\r\n          </ul>\r\n        );\r\n      }\r\n      currentList = [];\r\n      listType = null;\r\n    }\r\n  };\r\n  \r\n  lines.forEach((line, idx) => {\r\n    const trimmedLine = line.trim();\r\n    \r\n    // Check for markdown headers\r\n    if (trimmedLine.startsWith('###') || trimmedLine.startsWith('##') || trimmedLine.startsWith('#')) {\r\n      flushList();\r\n      const headerText = trimmedLine.replace(/^#{1,3}\\s+/, '');\r\n      elements.push(\r\n        <p key={`h-${idx}`} className=\"font-semibold mt-3 first:mt-0\">{formatMarkdownText(headerText)}</p>\r\n      );\r\n      return;\r\n    }\r\n    \r\n    // Check for numbered list items (1. 2. etc)\r\n    const numberedMatch = trimmedLine.match(/^\\d+\\.\\s+(.+)/);\r\n    if (numberedMatch) {\r\n      if (listType !== 'numbered') {\r\n        flushList();\r\n        listType = 'numbered';\r\n      }\r\n      currentList.push(numberedMatch[1]);\r\n      return;\r\n    }\r\n    \r\n    // Check for bullet items (- or *)\r\n    const bulletMatch = trimmedLine.match(/^[-*]\\s+(.+)/);\r\n    if (bulletMatch) {\r\n      if (listType !== 'bullet') {\r\n        flushList();\r\n        listType = 'bullet';\r\n      }\r\n      currentList.push(bulletMatch[1]);\r\n      return;\r\n    }\r\n    \r\n    // Regular paragraph\r\n    flushList();\r\n    if (trimmedLine) {\r\n      elements.push(\r\n        <p key={`p-${idx}`} className=\"mb-2 last:mb-0\">{formatMarkdownText(trimmedLine)}</p>\r\n      );\r\n    }\r\n  });\r\n  \r\n  flushList();\r\n  \r\n  return <div className=\"space-y-2\">{elements}</div>;\r\n}\r\n\r\nexport interface ExtractedSection {\r\n  title: string;\r\n  type: string;\r\n  activities: string[];\r\n}\r\n\r\nexport interface PrescriptiveAnalysisData {\r\n  documentInsight?: string;\r\n  prescriptiveAnalysis?: string;\r\n  prescriptiveItems?: PrescriptiveItem[];\r\n  recommendations?: string;\r\n  root_cause?: string;\r\n  gaps?: string;\r\n  action_items?: string[];\r\n  summary?: {\r\n    year?: number;\r\n    totalActivities?: number;\r\n    metCount?: number;\r\n    missedCount?: number;\r\n    overallAchievement?: number;\r\n  };\r\n}\r\n\r\nexport interface PrescriptiveItem {\r\n  title: string;\r\n  issue: string;\r\n  action: string;\r\n  nextStep?: string;\r\n}\r\n\r\nfunction parsePrescriptiveTextToItems(text: string): PrescriptiveItem[] {\r\n  if (typeof text !== 'string') return [];\r\n  const raw = text.replace(/\\r\\n/g, '\\n').trim();\r\n  if (!raw) return [];\r\n\r\n  const lines = raw.split('\\n');\r\n  const items: PrescriptiveItem[] = [];\r\n  let current: Partial<PrescriptiveItem> | null = null;\r\n\r\n  const pushCurrent = () => {\r\n    if (!current) return;\r\n    const title = String(current.title || '').trim();\r\n    const issue = String(current.issue || '').trim();\r\n    const action = String(current.action || '').trim();\r\n    const nextStep = current.nextStep ? String(current.nextStep).trim() : undefined;\r\n    if (title && issue && action) items.push({ title, issue, action, nextStep });\r\n    current = null;\r\n  };\r\n\r\n  for (const line of lines) {\r\n    const trimmed = line.trim();\r\n    if (!trimmed) continue;\r\n\r\n    const headerMatch = trimmed.match(/^\\d+\\.\\s+(.*)$/);\r\n    if (headerMatch) {\r\n      pushCurrent();\r\n      current = { title: headerMatch[1].trim() };\r\n      continue;\r\n    }\r\n\r\n    const fieldMatch = trimmed.match(/^(?:-\\s*)?(Issue|Action|Next\\s*Step)\\s*:\\s*(.*)$/i);\r\n    if (fieldMatch && current) {\r\n      const key = fieldMatch[1].toLowerCase().replace(/\\s+/g, '');\r\n      const value = fieldMatch[2].trim();\r\n      if (key === 'issue') current.issue = value;\r\n      if (key === 'action') current.action = value;\r\n      if (key === 'nextstep') current.nextStep = value;\r\n      continue;\r\n    }\r\n  }\r\n\r\n  pushCurrent();\r\n  return items;\r\n}\r\n\r\nexport interface OrganizedActivity {\r\n  kraId: string;\r\n  kraTitle: string;\r\n  kpiId?: string;\r\n  kpiTitle?: string;\r\n  activities: Array<{\r\n    title: string;\r\n    target?: number;\r\n    reported?: number;\r\n    achievement?: number;\r\n    status?: string;\r\n    confidence?: number;\r\n    description?: string;\r\n    date?: string;\r\n    unit?: string;\r\n    aiInsight?: string;\r\n    prescriptiveAnalysis?: string;\r\n    rootCause?: string;\r\n  }>;\r\n  activityCount: number;\r\n  completionPercentage: number;\r\n  totalTarget?: number;\r\n  totalReported?: number;\r\n  status?: string;\r\n}\r\n\r\nexport interface AchievementMetric {\r\n  overallScore: number;\r\n  completeness: number;\r\n  currentState: string;\r\n  targetState: string;\r\n}\r\n\r\nexport interface QPROAnalysisDetail {\r\n  id: string;\r\n  title: string;\r\n  extractedSections: ExtractedSection[];\r\n  kraClassifications: KRAClassification[];\r\n  organizedActivities: OrganizedActivity[];\r\n  insights: string[];\r\n  recommendations: Recommendation[];\r\n  achievementMetrics: AchievementMetric;\r\n  uploadedDate: string;\r\n  status: 'PENDING' | 'COMPLETED' | 'FAILED' | 'APPROVED' | 'DRAFT';\r\n  prescriptiveAnalysis?: PrescriptiveAnalysisData | any;\r\n  alignment?: string;\r\n  opportunities?: string;\r\n  gaps?: string;\r\n}\r\n\r\n// Map KRA IDs to human-readable titles\r\nconst KRA_TITLES: { [key: string]: string } = {\r\n  'KRA 1': 'Development of New Curricula',\r\n  'KRA 2': 'Accreditation',\r\n  'KRA 3': 'Quality and Relevance of Instruction',\r\n  'KRA 4': 'International Activities',\r\n  'KRA 5': 'Research Outputs',\r\n  'KRA 6': 'Extension Programs',\r\n  'KRA 7': 'Community Partnerships',\r\n  'KRA 8': 'Technology Transfer',\r\n  'KRA 9': 'Revenue Generation',\r\n  'KRA 10': 'Resource Mobilization',\r\n  'KRA 11': 'Human Resource Management',\r\n  'KRA 12': 'Student Development',\r\n  'KRA 13': 'Health and Wellness',\r\n  'KRA 14': 'Environmental Sustainability',\r\n  'KRA 15': 'Quality Management',\r\n  'KRA 16': 'Governance',\r\n  'KRA 17': 'Digital Transformation',\r\n  'UNCLASSIFIED': 'Uncategorized Activities',\r\n};\r\n\r\nfunction getKRADisplayTitle(kraId: string, fallbackTitle?: string): string {\r\n  return KRA_TITLES[kraId] || fallbackTitle || kraId;\r\n}\r\n\r\n// Available KRAs for manual mapping (from LSPU Strategic Plan)\r\nconst AVAILABLE_KRAS = [\r\n  { id: 'KRA 1', title: 'Development of New Curricula Incorporating Emerging Technologies' },\r\n  { id: 'KRA 2', title: 'Market-Driven Program Design and Implementation' },\r\n  { id: 'KRA 3', title: 'Quality and Relevance of Instruction' },\r\n  { id: 'KRA 4', title: 'College and Office International Activities and Projects' },\r\n  { id: 'KRA 5', title: 'Research, Extension, and Innovation Productivity' },\r\n  { id: 'KRA 6', title: 'Research, Extension, and Innovation Linkages' },\r\n  { id: 'KRA 7', title: 'Research, Extension, and Innovation Resources' },\r\n  { id: 'KRA 8', title: 'Service to the Community' },\r\n  { id: 'KRA 9', title: 'Implementation of Sustainable Governance' },\r\n  { id: 'KRA 10', title: 'Transforming into Green University' },\r\n  { id: 'KRA 11', title: 'Judicious Management of Human Resources' },\r\n  { id: 'KRA 12', title: 'Internationalized/Global University Stakeholders' },\r\n  { id: 'KRA 13', title: 'Competitive Human Resources' },\r\n  { id: 'KRA 14', title: 'Improved Satisfaction Rating of the Students, Faculty, and Personnel of the University' },\r\n  { id: 'KRA 15', title: 'Certification and Compliance to Regulatory Requirements' },\r\n  { id: 'KRA 16', title: 'Updating of Learning Materials and Facilities' },\r\n  { id: 'KRA 17', title: 'Digital Transformation and Smart Campus Enablement' },\r\n  { id: 'KRA 18', title: 'Risk Management and Compliance' },\r\n  { id: 'KRA 19', title: 'Revenue Growth and Operational Efficiency' },\r\n  { id: 'KRA 20', title: 'Related IGP Industry Engagement' },\r\n  { id: 'KRA 21', title: 'Responsive Management of Resources' },\r\n  { id: 'KRA 22', title: 'Management of Financial Resources' },\r\n];\r\n\r\ninterface QPROAnalysisDetailProps {\r\n  analysisId: string;\r\n}\r\n\r\nexport default function QPROAnalysisDetail({\r\n  analysisId,\r\n}: QPROAnalysisDetailProps) {\r\n  const [analysis, setAnalysis] = useState<QPROAnalysisDetail | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [editedKRAs, setEditedKRAs] = useState<{ [key: string]: string }>({});\r\n  const [changedActivityIds, setChangedActivityIds] = useState<Set<string>>(new Set());\r\n  const [isRegenerating, setIsRegenerating] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const loadAnalysis = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        setError(null);\r\n\r\n        // Get authentication token\r\n        const token = await AuthService.getAccessToken();\r\n        if (!token) {\r\n          throw new Error('Authentication required. Please log in again.');\r\n        }\r\n\r\n        const response = await fetch(`/api/qpro/analyses/${analysisId}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to load analysis');\r\n        }\r\n\r\n        const data = await response.json();\r\n        setAnalysis(data);\r\n      } catch (err) {\r\n        const message = err instanceof Error ? err.message : 'Failed to load analysis';\r\n        setError(message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    if (analysisId) {\r\n      loadAnalysis();\r\n    }\r\n  }, [analysisId]);\r\n\r\n  // Handle KRA change for an activity\r\n  const handleKRAChange = (activityId: string, newKraId: string) => {\r\n    setEditedKRAs((prev) => ({\r\n      ...prev,\r\n      [activityId]: newKraId,\r\n    }));\r\n    \r\n    setChangedActivityIds((prev) => {\r\n      const updated = new Set(prev);\r\n      updated.add(activityId);\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  // Regenerate insights for activities with changed KRAs\r\n  const handleRegenerateInsights = async () => {\r\n    if (changedActivityIds.size === 0) {\r\n      setError('No KRA changes to regenerate');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsRegenerating(true);\r\n      setError(null);\r\n\r\n      const token = await AuthService.getAccessToken();\r\n      if (!token) {\r\n        throw new Error('Authentication required');\r\n      }\r\n\r\n      // Get activities with changed KRAs\r\n      const activitiesToRegenerate = analysis!.organizedActivities.flatMap((org) =>\r\n        (org.activities || []).map((act, idx) => ({\r\n          ...act,\r\n          name: act.title || `Activity ${idx}`,\r\n          kraId: editedKRAs[`${org.kraId}-${idx}`] || org.kraId,\r\n          index: idx,\r\n        }))\r\n      ).filter((act) => changedActivityIds.has(`${act.kraId}-${act.index}`));\r\n\r\n      // Call API to regenerate insights\r\n      const response = await fetch(`/api/qpro/regenerate-insights`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          analysisId,\r\n          activities: activitiesToRegenerate,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to regenerate insights');\r\n      }\r\n\r\n      const regeneratedData = await response.json();\r\n\r\n      // Update analysis with new insights\r\n      setAnalysis((prev) => {\r\n        if (!prev) return prev;\r\n        const updated = { ...prev };\r\n        \r\n        // Update activities with regenerated insights, target, achievement, and status\r\n        regeneratedData.activities.forEach((regenerated: any) => {\r\n          // Find and update the matching activity\r\n          updated.organizedActivities = updated.organizedActivities.map((org) => ({\r\n            ...org,\r\n            activities: (org.activities || []).map((act) =>\r\n              act.title === regenerated.name\r\n                ? { \r\n                    ...act,\r\n                    target: regenerated.target !== undefined ? regenerated.target : act.target,\r\n                    achievement: regenerated.achievement !== undefined ? regenerated.achievement : act.achievement,\r\n                    status: regenerated.status || act.status,\r\n                    aiInsight: regenerated.aiInsight,\r\n                    prescriptiveAnalysis: regenerated.prescriptiveAnalysis \r\n                  }\r\n                : act\r\n            ),\r\n          }));\r\n        });\r\n        \r\n        // Recalculate kraClassifications based on updated activities\r\n        const kraClassificationsMap: { [key: string]: { id: string; title: string; count: number; achievements: number[] } } = {};\r\n        \r\n        updated.organizedActivities.forEach((org) => {\r\n          if (!kraClassificationsMap[org.kraId]) {\r\n            kraClassificationsMap[org.kraId] = {\r\n              id: org.kraId,\r\n              title: org.kraTitle,\r\n              count: 0,\r\n              achievements: [],\r\n            };\r\n          }\r\n          \r\n          (org.activities || []).forEach((act) => {\r\n            kraClassificationsMap[org.kraId].count += 1;\r\n            if (act.achievement !== undefined && act.achievement !== null) {\r\n              kraClassificationsMap[org.kraId].achievements.push(act.achievement);\r\n            }\r\n          });\r\n        });\r\n        \r\n        // Convert map to array and calculate achievement rates\r\n        updated.kraClassifications = Object.values(kraClassificationsMap).map((kra) => ({\r\n          id: kra.id,\r\n          title: kra.title,\r\n          count: kra.count,\r\n          achievementRate: kra.achievements.length > 0\r\n            ? kra.achievements.reduce((a, b) => a + b, 0) / kra.achievements.length\r\n            : 0,\r\n          strategicAlignment: '',\r\n        }));\r\n        \r\n        return updated;\r\n      });\r\n\r\n      // Clear the changed activity IDs\r\n      setChangedActivityIds(new Set());\r\n      setEditedKRAs({});\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to regenerate insights');\r\n    } finally {\r\n      setIsRegenerating(false);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"flex items-center justify-center py-12\">\r\n          <Loader2 className=\"w-5 h-5 animate-spin text-slate-400\" />\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"flex items-start gap-3 py-6\">\r\n          <AlertCircle className=\"w-5 h-5 text-red-600 shrink-0 mt-0.5\" />\r\n          <div>\r\n            <p className=\"font-medium text-red-900\">Failed to load analysis</p>\r\n            <p className=\"text-sm text-red-700 mt-1\">{error}</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (!analysis) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"text-center py-12 text-slate-600\">\r\n          No analysis data available\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (analysis.status === 'PENDING') {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"flex flex-col items-center justify-center py-12 gap-3\">\r\n          <Loader2 className=\"w-8 h-8 animate-spin text-blue-600\" />\r\n          <p className=\"font-medium text-slate-900\">Analyzing document...</p>\r\n          <p className=\"text-sm text-slate-600\">\r\n            This may take a few minutes. Please wait.\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (analysis.status === 'FAILED') {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"flex items-start gap-3 py-6\">\r\n          <AlertCircle className=\"w-5 h-5 text-red-600 shrink-0 mt-0.5\" />\r\n          <div>\r\n            <p className=\"font-medium text-red-900\">Analysis failed</p>\r\n            <p className=\"text-sm text-red-700 mt-1\">\r\n              Could not process the document. Please try again.\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Convert organizedActivities to KPIGroups for the dashboard\r\n  const kpiGroups: KPIGroup[] = analysis.organizedActivities\r\n    .filter((org) => org.kpiId) // Only include activities with KPI data\r\n    .map((org) => ({\r\n      kraId: org.kraId,\r\n      kraTitle: org.kraTitle,\r\n      kpiId: org.kpiId || '',\r\n      kpiTitle: org.kpiTitle || '',\r\n      activities: (org.activities || []).map((act) => ({\r\n        title: act.title || 'Unnamed',\r\n        target: act.target || 0,\r\n        reported: act.reported || 0,\r\n        achievement: act.achievement || 0,\r\n        status: (act.status as 'MET' | 'PARTIAL' | 'NOT_STARTED') || 'NOT_STARTED',\r\n        confidence: act.confidence || 0.5,\r\n      })),\r\n      totalTarget: org.totalTarget || 0,\r\n      totalReported: org.totalReported || 0,\r\n      completionPercentage: org.completionPercentage || 0,\r\n      status: (org.status as 'MET' | 'ON_TRACK' | 'PARTIAL' | 'NOT_STARTED') || 'NOT_STARTED',\r\n    }));\r\n\r\n  const hasKPIData = kpiGroups.length > 0;\r\n  \r\n  // FIX: Flatten all activities from organizedActivities for Stage 3 display\r\n  // This ensures activities are shown even when KPI data is not available\r\n  const allFlattenedActivities = analysis.organizedActivities.flatMap((org) => \r\n    (org.activities || []).map((act) => ({\r\n      ...act,\r\n      kraId: org.kraId,\r\n      kraTitle: org.kraTitle,\r\n    }))\r\n  );\r\n  \r\n  // Check if we have any organized activities to show\r\n  const hasOrganizedActivities = analysis.organizedActivities.length > 0 && allFlattenedActivities.length > 0;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex items-start justify-between\">\r\n            <div className=\"flex-1\">\r\n              <CardTitle className=\"text-2xl\">{analysis.title}</CardTitle>\r\n              <p className=\"text-sm text-slate-600 mt-1\">\r\n                Uploaded{' '}\r\n                {new Date(analysis.uploadedDate).toLocaleDateString('en-US', {\r\n                  month: 'short',\r\n                  day: 'numeric',\r\n                  year: 'numeric',\r\n                })}\r\n              </p>\r\n            </div>\r\n            <Badge className=\"bg-green-100 text-green-800\">\r\n              {analysis.status}\r\n            </Badge>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"grid grid-cols-3 gap-4\">\r\n          <div className=\"p-4 bg-slate-50 rounded-lg\">\r\n            <p className=\"text-xs text-slate-600 uppercase font-semibold\">\r\n              Overall Score\r\n            </p>\r\n            <p className=\"text-3xl font-bold text-slate-900 mt-1\">\r\n              {analysis.achievementMetrics.overallScore}%\r\n            </p>\r\n          </div>\r\n          <div className=\"p-4 bg-slate-50 rounded-lg\">\r\n            <p className=\"text-xs text-slate-600 uppercase font-semibold\">\r\n              Data Completeness\r\n            </p>\r\n            <p className=\"text-3xl font-bold text-slate-900 mt-1\">\r\n              {analysis.achievementMetrics.completeness}%\r\n            </p>\r\n          </div>\r\n          <div className=\"p-4 bg-slate-50 rounded-lg\">\r\n            <p className=\"text-xs text-slate-600 uppercase font-semibold\">\r\n              KRAs Covered\r\n            </p>\r\n            <p className=\"text-3xl font-bold text-slate-900 mt-1\">\r\n              {analysis.kraClassifications.length}\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Feature: KPI Dashboard (all 5 features integrated) */}\r\n      {hasKPIData && (\r\n        <>\r\n          <KPIDashboard\r\n            kpiGroups={kpiGroups}\r\n            selectedYear={Number((analysis as any)?.year) || new Date().getFullYear()}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      {/* Fallback: Stage 1 for non-KPI data */}\r\n      {!hasKPIData && (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2 text-lg\">\r\n              <BookOpen className=\"w-5 h-5\" />\r\n              Stage 1: Content Segmentation\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            {analysis.extractedSections.length === 0 ? (\r\n              <p className=\"text-slate-600 text-sm\">No sections extracted</p>\r\n            ) : (\r\n              analysis.extractedSections.map((section, idx) => (\r\n                <div key={idx} className=\"p-4 bg-slate-50 rounded-lg\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <h4 className=\"font-semibold text-slate-900\">\r\n                      {section.title || section.type || 'Unnamed Section'}\r\n                    </h4>\r\n                    <Badge variant=\"outline\">{section.type}</Badge>\r\n                  </div>\r\n                  <div className=\"text-sm text-slate-700 space-y-1\">\r\n                    {section.activities && Array.isArray(section.activities) && section.activities.length > 0 ? (\r\n                      <>\r\n                        {section.activities.map((activity, i) => (\r\n                          <p key={i} className=\"text-slate-600\">\r\n                             {activity}\r\n                          </p>\r\n                        ))}\r\n                      </>\r\n                    ) : (\r\n                      <p className=\"text-slate-500 italic\">No activities in this section</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Stage 2: KRA Classification Review */}\r\n      {analysis.kraClassifications.length > 0 && (\r\n        <KRAReviewComponent\r\n          classifications={analysis.kraClassifications}\r\n          isApproved={analysis.status === 'APPROVED' || analysis.status === 'COMPLETED'}\r\n        />\r\n      )}\r\n\r\n      {/* Stage 3: Organized Activities (non-KPI view) */}\r\n      {!hasKPIData && (\r\n        <Card>\r\n          <CardHeader>\r\n            <div className=\"flex items-center justify-between\">\r\n              <CardTitle className=\"flex items-center gap-2 text-lg\">\r\n                <Zap className=\"w-5 h-5\" />\r\n                Stage 3: Structured Data Organization\r\n              </CardTitle>\r\n              {changedActivityIds.size > 0 && (\r\n                <Button\r\n                  onClick={handleRegenerateInsights}\r\n                  disabled={isRegenerating}\r\n                  className=\"bg-indigo-600 hover:bg-indigo-700\"\r\n                  size=\"sm\"\r\n                >\r\n                  {isRegenerating ? (\r\n                    <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\r\n                  ) : (\r\n                    <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                  )}\r\n                  {isRegenerating ? 'Regenerating...' : `Regenerate (${changedActivityIds.size})`}\r\n                </Button>\r\n              )}\r\n            </div>\r\n            {changedActivityIds.size > 0 && (\r\n              <p className=\"text-sm text-indigo-600 mt-2\">\r\n                {changedActivityIds.size} activity(ies) have changed KRA. Click \"Regenerate\" to update AI insights.\r\n              </p>\r\n            )}\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            {!hasOrganizedActivities ? (\r\n              <p className=\"text-slate-600 text-sm\">\r\n                No activities organized yet\r\n              </p>\r\n            ) : (\r\n              analysis.organizedActivities.map((org) => {\r\n                // Map KRA ID to readable title\r\n                const kraTitle = getKRADisplayTitle(org.kraId, org.kraTitle);\r\n                return (\r\n                <div key={org.kraId} className=\"p-4 border rounded-lg\">\r\n                  <div className=\"flex items-center justify-between mb-3\">\r\n                    <h4 className=\"font-semibold text-slate-900\">\r\n                      {kraTitle}\r\n                    </h4>\r\n                    <Badge variant=\"outline\" className=\"text-slate-600\">\r\n                      {org.activityCount} activities\r\n                    </Badge>\r\n                  </div>\r\n                  <div className=\"space-y-3\">\r\n                    {org.activities && Array.isArray(org.activities) && org.activities.length > 0 ? (\r\n                      <>\r\n                        {org.activities.map((activity, i) => {\r\n                          const achievement = activity.achievement ?? 0;\r\n                          const activityId = `${org.kraId}-${i}`;\r\n                          const selectedKraId = editedKRAs[activityId] || org.kraId;\r\n                          const isChanged = changedActivityIds.has(activityId);\r\n                          \r\n                          return (\r\n                          <div key={i} className={`p-3 border rounded-lg ${isChanged ? 'bg-indigo-50 border-indigo-300' : 'bg-slate-50'}`}>\r\n                            <div className=\"flex justify-between items-start gap-4\">\r\n                              <div className=\"flex-1 space-y-2\">\r\n                                <p className=\"font-medium text-slate-900\">{activity.title || 'Unnamed'}</p>\r\n                                {activity.unit && (\r\n                                  <p className=\"text-slate-500 text-xs\">{activity.unit}</p>\r\n                                )}\r\n                                \r\n                                {/* KRA Selector */}\r\n                                <div className=\"pt-2\">\r\n                                  <Label className=\"text-xs text-slate-600 mb-1 block\">Assign KRA:</Label>\r\n                                  <Select\r\n                                    value={selectedKraId}\r\n                                    onValueChange={(v) => handleKRAChange(activityId, v)}\r\n                                  >\r\n                                    <SelectTrigger className=\"h-8 text-sm w-full\">\r\n                                      <SelectValue placeholder=\"Select KRA\" />\r\n                                    </SelectTrigger>\r\n                                    <SelectContent>\r\n                                      {AVAILABLE_KRAS.map((kra) => (\r\n                                        <SelectItem key={kra.id} value={kra.id}>\r\n                                          <span className=\"text-sm\">\r\n                                            <strong>{kra.id}</strong>: {kra.title.substring(0, 50)}...\r\n                                          </span>\r\n                                        </SelectItem>\r\n                                      ))}\r\n                                    </SelectContent>\r\n                                  </Select>\r\n                                  {selectedKraId && selectedKraId !== org.kraId && (\r\n                                    <p className=\"text-xs text-indigo-600 mt-1 font-medium\">KRA Changed </p>\r\n                                  )}\r\n                                </div>\r\n\r\n                                {/* AI Insight moved to Document-Level summary in Review Modal - not shown per-activity */}\r\n                              </div>\r\n                              \r\n                              <div className=\"text-right ml-4 shrink-0\">\r\n                                <span className=\"block font-bold text-slate-900\">\r\n                                  {activity.reported}{achievement > 0 ? '%' : ''}\r\n                                </span>\r\n                                <span className={`text-xs font-medium ${\r\n                                  achievement >= 100 ? 'text-green-600' : \r\n                                  achievement > 0 ? 'text-yellow-600' : 'text-slate-500'\r\n                                }`}>\r\n                                  {achievement >= 100 ? 'MET' : \r\n                                   achievement > 0 ? `${Math.round(achievement)}%` : 'Pending'}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )})}\r\n                      </>\r\n                    ) : (\r\n                      <p className=\"text-slate-500 italic\">No activities</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              );})\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* AI Prescriptive Analysis - Display approved analysis */}\r\n      {(() => {\r\n        const isJsonLike = (value: unknown) => {\r\n          if (typeof value !== 'string') return false;\r\n          const t = value.trim();\r\n          if (!t) return false;\r\n          // Avoid rendering raw JSON blobs in the UI.\r\n          return (t.startsWith('{') && t.endsWith('}')) || (t.startsWith('[') && t.endsWith(']'));\r\n        };\r\n\r\n        const isNullishText = (value: unknown) => {\r\n          if (typeof value !== 'string') return false;\r\n          const t = value.trim().toLowerCase();\r\n          return t === 'null' || t === 'undefined';\r\n        };\r\n\r\n        const documentInsightText = (() => {\r\n          const fromJson = (analysis.prescriptiveAnalysis && typeof analysis.prescriptiveAnalysis === 'object')\r\n            ? (analysis.prescriptiveAnalysis as any).documentInsight\r\n            : null;\r\n          if (typeof fromJson === 'string' && fromJson.trim()) return fromJson.trim();\r\n\r\n          const parts = [analysis.alignment, analysis.opportunities, analysis.gaps]\r\n            .filter((v): v is string => typeof v === 'string' && v.trim().length > 0)\r\n            .filter((v) => !isJsonLike(v))\r\n            .map((v) => v.trim());\r\n          return parts.join('\\n\\n');\r\n        })();\r\n\r\n        const prescriptiveText = (() => {\r\n          const fromJson = (analysis.prescriptiveAnalysis && typeof analysis.prescriptiveAnalysis === 'object')\r\n            ? (analysis.prescriptiveAnalysis as any).prescriptiveAnalysis\r\n            : null;\r\n          if (typeof fromJson === 'string' && fromJson.trim()) return fromJson.trim();\r\n\r\n          if (Array.isArray(analysis.recommendations) && analysis.recommendations.length > 0) {\r\n            // Convert structured recommendations into a single markdown block.\r\n            // This preserves the \"ONE Prescriptive Analysis\" UI while staying type-safe.\r\n            return analysis.recommendations\r\n              .map((rec) => {\r\n                const metaParts = [rec.timeline, rec.owner].filter(Boolean);\r\n                const meta = metaParts.length > 0 ? ` (${metaParts.join('  ')})` : '';\r\n                const priority = rec.priority ? `[${rec.priority}] ` : '';\r\n                const title = rec.title?.trim() ? `${rec.title.trim()}: ` : '';\r\n                const desc = rec.description?.trim() ? rec.description.trim() : '';\r\n                return `- ${priority}${title}${desc}${meta}`.trim();\r\n              })\r\n              .filter((line) => line !== '-')\r\n              .join('\\n');\r\n          }\r\n\r\n          const fallback = extractPrescriptiveValue(analysis.prescriptiveAnalysis) || '';\r\n          return isNullishText(fallback) ? '' : fallback;\r\n        })();\r\n\r\n        const structuredItems: PrescriptiveItem[] = (() => {\r\n          const fromJson = (() => {\r\n            if (!analysis.prescriptiveAnalysis || typeof analysis.prescriptiveAnalysis !== 'object') return [];\r\n            const items = (analysis.prescriptiveAnalysis as any).prescriptiveItems;\r\n            if (!Array.isArray(items)) return [];\r\n            return items\r\n              .filter((x: any) => x && typeof x === 'object')\r\n              .slice(0, 5)\r\n              .map((x: any) => ({\r\n                title: String(x.title || '').trim(),\r\n                issue: String(x.issue || '').trim(),\r\n                action: String(x.action || '').trim(),\r\n                nextStep: x.nextStep ? String(x.nextStep).trim() : undefined,\r\n              }))\r\n              .filter((x: any) => x.title && x.issue && x.action);\r\n          })();\r\n\r\n          if (fromJson.length > 0) return fromJson;\r\n          return prescriptiveText ? parsePrescriptiveTextToItems(prescriptiveText).slice(0, 5) : [];\r\n        })();\r\n\r\n        const shouldShow = Boolean(documentInsightText || prescriptiveText || structuredItems.length > 0);\r\n        if (!shouldShow) return null;\r\n\r\n        return (\r\n          <Card className=\"overflow-hidden\">\r\n          <CardHeader className=\"bg-purple-50 border-b border-purple-200\">\r\n            <CardTitle className=\"flex items-center gap-2 text-lg text-purple-900\">\r\n              <Lightbulb className=\"w-5 h-5 text-purple-700\" />\r\n              Prescriptive Analysis\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4 pt-6\">\r\n            {documentInsightText && (\r\n              <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n                <h4 className=\"font-semibold text-blue-900 mb-2 flex items-center gap-2\">\r\n                  <Target className=\"w-4 h-4\" />\r\n                  Document Insight\r\n                </h4>\r\n                <div className=\"text-sm text-blue-800 prose prose-sm prose-blue max-w-none\">\r\n                  {renderFormattedText(documentInsightText)}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {(structuredItems.length > 0 || prescriptiveText) && (\r\n              <div className=\"p-4 bg-purple-50 border border-purple-200 rounded-lg\">\r\n                <h4 className=\"font-semibold text-purple-900 mb-2 flex items-center gap-2\">\r\n                  <Lightbulb className=\"w-4 h-4\" />\r\n                  Prescriptive Analysis\r\n                </h4>\r\n                <div className=\"text-sm text-purple-800 prose prose-sm prose-purple max-w-none\">\r\n                  {structuredItems.length > 0 ? (\r\n                    <ol className=\"list-decimal list-inside space-y-3\">\r\n                      {structuredItems.map((item, idx) => (\r\n                        <li key={idx} className=\"\">\r\n                          <span className=\"font-semibold text-purple-900\">{item.title}</span>\r\n\r\n                          <ul className=\"list-disc ml-6 mt-1 space-y-1\">\r\n                            <li>\r\n                              <span className=\"font-semibold\">Issue:</span> {item.issue}\r\n                            </li>\r\n                            <li>\r\n                              <span className=\"font-semibold\">Action:</span> {item.action}\r\n                            </li>\r\n                            {item.nextStep ? (\r\n                              <li>\r\n                                <span className=\"font-semibold\">Next Step:</span> {item.nextStep}\r\n                              </li>\r\n                            ) : null}\r\n                          </ul>\r\n                        </li>\r\n                      ))}\r\n                    </ol>\r\n                  ) : (\r\n                    renderFormattedText(prescriptiveText)\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n          </Card>\r\n        );\r\n      })()}\r\n\r\n      {/* Achievement Summary */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Target Achievement Summary</CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"grid grid-cols-2 gap-4\">\r\n          <div className=\"p-4 bg-slate-50 rounded-lg\">\r\n            <p className=\"text-xs text-slate-600 uppercase font-semibold mb-2\">\r\n              Current State\r\n            </p>\r\n            <p className=\"text-slate-900 font-medium\">\r\n              {analysis.achievementMetrics.currentState}\r\n            </p>\r\n          </div>\r\n          <div className=\"p-4 bg-slate-50 rounded-lg\">\r\n            <p className=\"text-xs text-slate-600 uppercase font-semibold mb-2\">\r\n              Target State\r\n            </p>\r\n            <p className=\"text-slate-900 font-medium\">\r\n              {analysis.achievementMetrics.targetState}\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4394, "column": 0}, "map": {"version":3,"sources":["file:///D:/downloads/Downloads%20from%20web/LSPU%20KMIS/app/qpro/analysis/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/lib/auth-context';\r\nimport { Navbar } from '@/components/navbar';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Loader2, ChevronLeft, AlertCircle } from 'lucide-react';\r\nimport QPROAnalysisDetail from '@/components/qpro/qpro-analysis-detail';\r\n\r\nexport default function AnalysisPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const { isAuthenticated, isLoading } = useAuth();\r\n\r\n  const analysisId = params.id as string;\r\n\r\n  // Redirect if not authenticated\r\n  useEffect(() => {\r\n    if (!isLoading && !isAuthenticated) {\r\n      router.push('/');\r\n    }\r\n  }, [isLoading, isAuthenticated, router]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"min-h-screen bg-background\">\r\n        {/* Header */}\r\n        <div className=\"border-b bg-card\">\r\n          <div className=\"container mx-auto px-4 py-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h1 className=\"text-3xl font-bold tracking-tight\">\r\n                QPRO Analysis Details\r\n              </h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Analysis Content */}\r\n        <div className=\"container mx-auto px-4 py-6\">\r\n          <div className=\"space-y-4\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              onClick={() => router.back()}\r\n              className=\"gap-2\"\r\n            >\r\n              <ChevronLeft className=\"w-4 h-4\" />\r\n              Back\r\n            </Button>\r\n\r\n            {analysisId ? (\r\n              <QPROAnalysisDetail analysisId={analysisId} />\r\n            ) : (\r\n              <Card>\r\n                <div className=\"flex items-start gap-3 p-6\">\r\n                  <AlertCircle className=\"w-5 h-5 text-red-600 shrink-0 mt-0.5\" />\r\n                  <div>\r\n                    <p className=\"font-medium text-red-900\">Invalid Analysis ID</p>\r\n                    <p className=\"text-sm text-red-700 mt-1\">\r\n                      No analysis ID was provided\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;;;AATA;;;;;;;;;AAWe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,IAAA,qIAAO;IAE9C,MAAM,aAAa,OAAO,EAAE;IAE5B,gCAAgC;IAChC,IAAA,0KAAS;kCAAC;YACR,IAAI,CAAC,aAAa,CAAC,iBAAiB;gBAClC,OAAO,IAAI,CAAC;YACd;QACF;iCAAG;QAAC;QAAW;QAAiB;KAAO;IAEvC,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC,+NAAO;gBAAC,WAAU;;;;;;;;;;;IAGzB;IAEA,IAAI,CAAC,iBAAiB;QACpB,OAAO;IACT;IAEA,qBACE;;0BACE,6LAAC,kIAAM;;;;;0BACP,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAG,WAAU;8CAAoC;;;;;;;;;;;;;;;;;;;;;kCAQxD,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,wIAAM;oCACL,SAAQ;oCACR,SAAS,IAAM,OAAO,IAAI;oCAC1B,WAAU;;sDAEV,6LAAC,sOAAW;4CAAC,WAAU;;;;;;wCAAY;;;;;;;gCAIpC,2BACC,6LAAC,+JAAkB;oCAAC,YAAY;;;;;yDAEhC,6LAAC,oIAAI;8CACH,cAAA,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,sOAAW;gDAAC,WAAU;;;;;;0DACvB,6LAAC;;kEACC,6LAAC;wDAAE,WAAU;kEAA2B;;;;;;kEACxC,6LAAC;wDAAE,WAAU;kEAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAY7D;GAzEwB;;QACP,kJAAS;QACT,kJAAS;QACe,qIAAO;;;KAHxB"}}]
}